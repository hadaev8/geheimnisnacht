namespace = wh_beastmen

# Beastmen tribe rises up (temporary rebel title created, with a leader and a war)
# Triggered from "on_rebel_revolt"
province_event = {
	id = wh_chaos_beastmen.1
	desc = EVTDESCbeastmen1
	picture = GFX_evt_beastmen
	border = GFX_event_normal_frame_war
	is_triggered_only = yes

	trigger = {
		OR = {
			has_province_modifier = beastmen_unrest
			has_province_flag = beastman_horde_inv
			AND = {
				has_province_modifier = beastman_herdstone
				NOT = {
					owner = {
						trait = creature_beastman
					}
				}
			}
		}
		or = {
			region = world_chaos_wastes
			region = world_old_world
			region = world_greater_araby
			region = world_norsca
		}
		not = {
			# Not if there is already an ongoing beastmen uprising for this province
			# это бы потом переписать
			owner = {
				top_liege = {
					war = yes
					any_war = {
						defender = {
							character = PREV
						}
						using_cb = beastmen_uprising
						war_title = ROOT # The county
					}
				}
			}
		}
	}

	immediate = {
		clr_province_flag = beastman_horde_inv
		create_character = {
			random_traits = yes
			dynasty = none
			religion = chaos
			culture = beastman_main
			female = no
			age = 23
			attributes = {
				martial = 7
			}
			trait = creature_beastman
			trait = tough_soldier
			trait = horns_average
		}
		new_character = {
			random_list = {
				60 = {
				}
				20 = {
					change_martial = 9
					add_trait = berserker
				}
				20 = {
					add_trait = bray_shaman
					add_trait = lore_dark_magic
					z_magic_power_random = yes
				}
			}
			create_title = {
				tier = KING
				landless = yes
				temporary = yes
				rebel = yes
				culture = beastman_main
				name = "WAR_HERD"
				holder = THIS
				nomad = yes
			}
			set_government_type = beastman_government
			random_list = {
				17 = {
					spawn_unit = {
						province = ROOT
						home = ROOT
						owner = THIS
						leader = THIS
						scaled_by_biggest_garrison = 1.25
						troops = {
							archers = {
								6 6
							}
 							light_infantry = {
								10 10
							}
 							heavy_infantry = {
								4 4
							}
						}
						attrition = 1.0
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 30
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_small
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.95
							troops = {
								archers = {
									6 6
								}
 								light_infantry = {
									10 10
								}
 								heavy_infantry = {
									4 4
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 31
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_small
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.95
							troops = {
								archers = {
									6 6
								}
 								light_infantry = {
									10 10
								}
 								heavy_infantry = {
									4 4
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
				}
				17 = {
					spawn_unit = {
						province = ROOT
						home = ROOT
						owner = THIS
						leader = THIS
						scaled_by_biggest_garrison = 0.5
						troops = {
							archers = {
								6 6
							}
 							light_infantry = {
								10 10
							}
 							heavy_infantry = {
								4 4
							}
						}
						attrition = 1.0
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 30
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_small
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.5
							troops = {
								archers = {
									6 6
								}
 								light_infantry = {
									10 10
								}
 								heavy_infantry = {
									4 4
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 31
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_small
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.5
							troops = {
								archers = {
									6 6
								}
 								light_infantry = {
									10 10
								}
 								heavy_infantry = {
									4 4
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
				}
				16 = {
					spawn_unit = {
						province = ROOT
						home = ROOT
						owner = THIS
						leader = THIS
						scaled_by_biggest_garrison = 0.95
						troops = {
							archers = {
								6 6
							}
 							light_infantry = {
								10 10
							}
 							heavy_infantry = {
								4 4
							}
						}
						attrition = 1.0
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 30
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_small
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.95
							troops = {
								archers = {
									6 6
								}
 								light_infantry = {
									10 10
								}
 								heavy_infantry = {
									4 4
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 31
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_small
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.95
							troops = {
								archers = {
									6 6
								}
 								light_infantry = {
									10 10
								}
 								heavy_infantry = {
									4 4
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
				}
				17 = {
					spawn_unit = {
						province = ROOT
						home = ROOT
						owner = THIS
						leader = THIS
						scaled_by_biggest_garrison = 0.5
						troops = {
							archers = {
								6 6
							}
 							light_infantry = {
								10 10
							}
 							heavy_infantry = {
								4 4
							}
						}
						attrition = 1.0
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 30
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_small
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.5
							troops = {
								archers = {
									6 6
								}
 								light_infantry = {
									10 10
								}
 								heavy_infantry = {
									4 4
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 31
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_small
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.5
							troops = {
								archers = {
									6 6
								}
 								light_infantry = {
									10 10
								}
 								heavy_infantry = {
									4 4
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
				}
				16 = {
					spawn_unit = {
						province = ROOT
						home = ROOT
						owner = THIS
						leader = THIS
						scaled_by_biggest_garrison = 0.75
						troops = {
							archers = {
								6 6
							}
							light_infantry = {
								14 14
							}
						}
						attrition = 1.0
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 30
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_small
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.75
							troops = {
								archers = {
									6 6
								}
								light_infantry = {
									14 14
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 31
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_small
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.75
							troops = {
								archers = {
									6 6
								}
								light_infantry = {
									14 14
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
				}
				17 = {
					spawn_unit = {
						province = ROOT
						home = ROOT
						owner = THIS
						leader = THIS
						scaled_by_biggest_garrison = 0.5
						troops = {
							archers = {
								6 6
							}
							light_infantry = {
								14 14
							}
						}
						attrition = 1.0
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 30
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_small
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.5
							troops = {
								archers = {
									6 6
								}
								light_infantry = {
									14 14
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 31
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_small
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.5
							troops = {
								archers = {
									6 6
								}
								light_infantry = {
									14 14
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
				}
			}
			# DoW on the province top liege
			ROOT = {
				owner = {
					top_liege = {
						reverse_war = {
							target = PREVPREVPREV
							casus_belli = beastmen_uprising
							thirdparty_title = ROOT # The county
						}
						reverse_opinion = {
							who = PREVPREVPREV
							modifier = opinion_prey
						}
					}
				}
			}
		}
		owner = {
			any_liege = {
				# Inform the lieges
				character_event = {
					id = wh_chaos_beastmen.4
				}
			}
		}
	}

	option = {
		name = "EVTOPTAbeastmen1"
	}
}

# Morghur awakens on_decade_pulse
character_event = {
	id = wh_chaos_beastmen.2
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		capital_scope = {
			province_id = 2296
		} 	# c_anaereth
		NOT = {
			morghur = {
				is_alive = yes
			}
		}
	}

	# 150 years
	weight_multiplier = {
		factor = 1
		modifier = {
			factor = 1.5
			check_variable = {
				which = "doom_counter"
				value = 60
			}
		}
		modifier = {
			factor = 1.5
			check_variable = {
				which = "doom_counter"
				value = 90
			}
		}
	}

	immediate = {
		capital_scope = {
			province_event = {
				id = wh_chaos_beastmen.3
			}
		}
	}
}

# spawn horde
province_event = {
	id = wh_chaos_beastmen.3
	desc = EVTDESCbeastmen3
	picture = GFX_evt_beastmen
	border = GFX_event_normal_frame_war
	is_triggered_only = yes

	immediate = {
		create_character = {
			dynasty = none
			name = Morghur
			dna = bejddmhbaaa
			religion = chaos
			culture = beastman_main
			female = no
			age = 16
			attributes = {
				martial = 20
			}
			trait = creature_beastman
			trait = tough_soldier
			trait = morghur
			trait = strong
			trait = cruel
			trait = greedy
			trait = slothful
			trait = envious
			trait = aggressive_leader
			trait = horns_big
		}
		new_character = {
			give_nickname = nick_the_shadowgave
			create_title = {
				tier = DUKE
				landless = yes
				temporary = yes
				rebel = yes
				culture = beastman_main
				name = "WAR_HERD"
				holder = THIS
			}
			random_list = {
				17 = {
					modifier = {
						factor = 1.75
						check_variable = {
							which = "doom_counter"
							value = 80
						}
					}
					modifier = {
						factor = 0.75
						NOT = {
							check_variable = {
								which = "doom_counter"
								value = 30
							}
						}
					}
					spawn_unit = {
						province = ROOT
						home = ROOT
						owner = THIS
						leader = THIS
						scaled_by_biggest_garrison = 8
						troops = {
							archers = {
								6 6
							}
 							light_infantry = {
								10 10
							}
 							heavy_infantry = {
								4 4
							}
						}
						attrition = 1.0
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 30
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_average
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 8
							troops = {
								archers = {
									6 6
								}
 								light_infantry = {
									10 10
								}
 								heavy_infantry = {
									4 4
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 31
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_average
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 8
							troops = {
								archers = {
									6 6
								}
 								light_infantry = {
									10 10
								}
 								heavy_infantry = {
									4 4
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
				}
				17 = {
					spawn_unit = {
						province = ROOT
						home = ROOT
						owner = THIS
						leader = THIS
						scaled_by_biggest_garrison = 8
						troops = {
							archers = {
								6 6
							}
 							light_infantry = {
								10 10
							}
 							heavy_infantry = {
								4 4
							}
						}
						attrition = 1.0
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 30
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_average
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 6
							troops = {
								archers = {
									6 6
								}
 								light_infantry = {
									10 10
								}
 								heavy_infantry = {
									4 4
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 31
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_average
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 6
							troops = {
								archers = {
									6 6
								}
 								light_infantry = {
									10 10
								}
 								heavy_infantry = {
									4 4
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
				}
				16 = {
					spawn_unit = {
						province = ROOT
						home = ROOT
						owner = THIS
						leader = THIS
						scaled_by_biggest_garrison = 6
						troops = {
							archers = {
								6 6
							}
 							light_infantry = {
								10 10
							}
 							heavy_infantry = {
								4 4
							}
						}
						attrition = 1.0
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 30
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_average
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 6
							troops = {
								archers = {
									6 6
								}
 								light_infantry = {
									10 10
								}
 								heavy_infantry = {
									4 4
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 31
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_average
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 4
							troops = {
								archers = {
									6 6
								}
 								light_infantry = {
									10 10
								}
 								heavy_infantry = {
									4 4
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
				}
				17 = {
					spawn_unit = {
						province = ROOT
						home = ROOT
						owner = THIS
						leader = THIS
						scaled_by_biggest_garrison = 4
						troops = {
							archers = {
								6 6
							}
 							light_infantry = {
								10 10
							}
 							heavy_infantry = {
								4 4
							}
						}
						attrition = 1.0
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 30
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_average
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 4
							troops = {
								archers = {
									6 6
								}
 								light_infantry = {
									10 10
								}
 								heavy_infantry = {
									4 4
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 31
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_average
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 4
							troops = {
								archers = {
									6 6
								}
 								light_infantry = {
									10 10
								}
 								heavy_infantry = {
									4 4
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
				}
				16 = {
					spawn_unit = {
						province = ROOT
						home = ROOT
						owner = THIS
						leader = THIS
						scaled_by_biggest_garrison = 4
						troops = {
							archers = {
								6 6
							}
							light_infantry = {
								14 14
							}
						}
						attrition = 1.0
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 30
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_average
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 4
							troops = {
								archers = {
									6 6
								}
								light_infantry = {
									14 14
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 31
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_average
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 3
							troops = {
								archers = {
									6 6
								}
								light_infantry = {
									14 14
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
				}
				17 = {
					spawn_unit = {
						province = ROOT
						home = ROOT
						owner = THIS
						leader = THIS
						scaled_by_biggest_garrison = 3
						troops = {
							archers = {
								6 6
							}
							light_infantry = {
								14 14
							}
						}
						attrition = 1.0
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 30
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_small
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 3
							troops = {
								archers = {
									6 6
								}
								light_infantry = {
									14 14
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 31
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_small
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 3
							troops = {
								archers = {
									6 6
								}
								light_infantry = {
									14 14
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
				}
			}
			# DoW on the province top liege
			ROOT = {
				owner = {
					top_liege = {
						reverse_war = {
							target = PREVPREVPREV
							casus_belli = beastmen_uprising
							thirdparty_title = ROOT # The county
						}
						reverse_opinion = {
							who = PREVPREVPREV
							modifier = opinion_prey
						}
					}
				}
			}
		}
		owner = {
			any_liege = {
				# Inform the lieges
				character_event = {
					id = wh_chaos_beastmen.4
				}
			}
		}
	}

	option = {
		name = "EVTOPTAbeastmen1"
	}
}

# Notify Liege
character_event = {
	id = wh_chaos_beastmen.4
	desc = EVTDESCbeastmen4
	picture = GFX_evt_beastmen
	border = GFX_event_normal_frame_war
	ai = no
	is_triggered_only = yes

	option = {
		name = EVTOPTAbeastmen4
	}
}

# Random beastmen horde event
character_event = {
	id = wh_chaos_beastmen.6
	hide_window = yes
	only_playable = yes
	is_triggered_only = yes
	is_patrician = no

	trigger = {
		NOT = {
			has_game_rule = {
				name = provincial_revolts
				value = none
			}
		}
		capital_scope = {
			or = {
				region = world_chaos_wastes
				region = world_old_world
				region = world_greater_araby
				region = world_norsca
			}
		}
	}

	weight_multiplier = {
		factor = 1
		modifier = {
			factor = 0.05
			lower_tier_than = DUKE
			independent = yes
		}
		modifier = {
			factor = 0.25
			trait = creature_beastman
		}
		modifier = {
			factor = 0
			trait = creature_beastman
			war = yes
		}
		modifier = {
			factor = 0.15
			NOT = {
				capital_scope = {
					empire = {
						title = e_chaos_wastes
					}
				}
			}
		}
		modifier = {
			factor = 0.25
			capital_scope = {
				empire = {
					title = e_norsca
				}
			}
		}
		modifier = {
			factor = 0.75
			capital_scope = {
				empire = {
					title = e_kislev
				}
			}
		}
		# No Beastmen appearing on islands
		modifier = {
			factor = 0
			capital_scope = {
				any_neighbor_province = {
					NOT = {
						is_land = yes
					}
				}
			}
		}
	}

	immediate = {
		capital_scope = {
			set_province_flag = beastman_horde_inv
			province_event = {
				id = wh_chaos_beastmen.1
			}
		}
	}
}

# Morghur corrupts a conquered province and gains more troops.
# ROOT is attacker, FROM is province sieged
character_event = {
	id = wh_chaos_beastmen.5
	desc = EVTDESCbeastmen5
	picture = GFX_evt_beastmen
	religion_group = chaos_gods_group
	culture_group = beastman_group
	is_triggered_only = yes

	trigger = {
		OR = {
			trait = morghur
			top_liege = {
				trait = morghur
			}
		}
		FROM = {
			is_capital = yes
		}
		NOT = {
			location = {
				has_province_modifier = province_scourged
			}
		}
	}

	option = {
		name = EVTOPTAbeastmen5
		prestige = 50
		piety = 50
		if = {
			limit = {
				location = {
					NOT = {
						has_province_modifier = province_scourged
					}
				}
			}
			location = {
				add_province_modifier = {
					name = province_scourged
					duration = 3600
				}
			}
		}
		morghur = {
			character_event = {
				id = wh_chaos_beastmen.9
			}
		}
		if = {
			limit = {
				FROM = {
					owner = {
						top_liege = {
							NOT = {
								character = PREV
							}
						}
					}
				}
			}
			FROM = {
				owner = {
					top_liege = {
						character_event = {
							id = wh_chaos_beastmen.8
						}
					}
				}
			}
		}
		hidden_tooltip = {
			if = {
				limit = {
					FROM = {
						OR = {
							any_neighbor_province = {
								OR = {
									is_nomadic = yes
									is_tribal = yes
								}
							}
							has_province_flag = flag_province_scourged
							NOT = {
								num_of_settlements = 2
							}
						}
					}
				}
				random = {
					chance = 1
					FROM = {
						convert_to = TRIBAL
						random_province_holding = {
							limit = {
								is_capital = no
							}
							destroy_settlement = THIS
						}
					}
				}
			}
			FROM = {
				owner = {
					character_event = {
						id = wh_chaos_beastmen.7
					}
				}
				set_province_flag = flag_province_scourged
				destroy_random_building = yes
				holder_scope = {
					random_courtier = {
						limit = {
							is_abroad = no
						}
						random = {
							chance = 100
							if = {
								limit = {
									is_invincible_trigger = yes
								}
								antideath_effect = yes
								break = yes
							}
							death = {
								death_reason = death_murder
								killer = ROOT
							}
						}
						random_courtier = {
							limit = {
								is_abroad = no
								NOT = {
									character = PREV
								}
							}
							random = {
								chance = 75
								if = {
									limit = {
										is_invincible_trigger = yes
									}
									antideath_effect = yes
									break = yes
								}
								death = {
									death_reason = death_murder
									killer = ROOT
								}
							}
							random_courtier = {
								limit = {
									is_abroad = no
									NOT = {
										character = PREVPREV
									}
									NOT = {
										character = PREV
									}
								}
								random = {
									chance = 75
									if = {
										limit = {
											is_invincible_trigger = yes
										}
										antideath_effect = yes
										break = yes
									}
									death = {
										death_reason = death_murder
										killer = ROOT
									}
								}
								random_courtier = {
									limit = {
										is_abroad = no
										NOT = {
											character = PREVPREVPREV
										}
										NOT = {
											character = PREVPREV
										}
										NOT = {
											character = PREV
										}
									}
									random = {
										chance = 75
										if = {
											limit = {
												is_invincible_trigger = yes
											}
											antideath_effect = yes
											break = yes
										}
										death = {
											death_reason = death_murder
											killer = ROOT
										}
									}
									random_courtier = {
										limit = {
											is_abroad = no
											NOT = {
												character = PREVPREVPREVPREV
											}
											NOT = {
												character = PREVPREVPREV
											}
											NOT = {
												character = PREVPREV
											}
											NOT = {
												character = PREV
											}
										}
										random = {
											chance = 75
											if = {
												limit = {
													is_invincible_trigger = yes
												}
												antideath_effect = yes
												break = yes
											}
											death = {
												death_reason = death_murder
												killer = ROOT
											}
										}
									} # closingcourtier
								} # closingcourtier
							} # closingcourtier
						} # closingcourtier
					} # closingcourtier
				}
			}
		}
	}
}

character_event = {
	id = wh_chaos_beastmen.7
	desc = EVTDESCbeastmen7
	picture = GFX_evt_beastmen
	is_triggered_only = yes
	only_playable = yes

	option = {
		name = EVTOPTAbeastmen7
		opinion = {
			modifier = opinion_scourged_lands
			who = FROM
		}
		ai_chance = {
			factor = 1
		}
	}
}

character_event = {
	id = wh_chaos_beastmen.8
	desc = EVTDESCbeastmen8
	picture = GFX_evt_beastmen
	is_triggered_only = yes
	only_playable = yes

	option = {
		name = EVTOPTAbeastmen8
		opinion = {
			modifier = opinion_scourged_lands
			who = FROM
		}
		ai_chance = {
			factor = 1
		}
	}
}

character_event = {
	id = wh_chaos_beastmen.9
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		location = {
			ROOT = {
				spawn_unit = {
					province = PREV
					owner = ROOT
					troops = {
						light_infantry = {
							150 150
						}
						heavy_infantry = {
							100 100
						}
					}
					disband_on_peace = yes
				}
			}
		}
	}
}

# Migrating
character_event = {
	id = wh_chaos_beastmen.10
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		create_character = {
			random_traits = yes
			dynasty = RANDOM
			religion = ROOT
			culture = ROOT
		}
		new_character = {
			add_trait = creature_beastman
			create_title = {
				tier = KING
				landless = yes
				#temporary = yes
				#rebel = yes
				culture = beastman_main
				name = "WAR_HERD"
				holder = THIS
				nomad = yes
			}
			set_government_type = beastman_government
			root = {
				any_demesne_title = {
					limit = {
						has_title_flag = migrating_away
					}
					clr_title_flag = migrating_away
					grant_title = prevprev
				}
			}
			set_defacto_liege = THIS
			prestige = 50
			piety = 10
			any_vassal = {
				limit = {
					has_character_flag = migrating_away_vassal
				}
				clr_character_flag = migrating_away_vassal
				character_event = {
					id = wh_chaos_beastmen.13
				}
			}
		}
	}
}

# Old vassal becomes independent due to migration
character_event = {
	id = wh_chaos_beastmen.13
	desc = EVTDESCbeastmen13
	picture = GFX_evt_beastmen_mist
	is_triggered_only = yes

	option = {
		name = EVTOPTAbeastmen13
		set_defacto_liege = THIS
	}
}

# DESPOILING LAND JOB ACTION EFFECTS
# The Marshal has managed to rally another herd
character_event = {
	id = wh_chaos_beastmen.14
	title = EVTNAMEbeastmen14
	desc = EVTDESCbeastmen14
	picture = GFX_evt_beastmen_mist
	border = GFX_event_normal_frame_war
	culture_group = beastman_group
	capable_only = yes
	prisoner = no

	trigger = {
		has_job_action = action_despoil_land
		liege = {
			is_incapacitated_trigger = no
			OR = {
				NOT = {
					has_character_flag = tribal_organize_raid_troops
				}
				had_character_flag = {
					flag = tribal_organize_raid_troops
					days = 650
				}
			}
		}
		location = {
			NOT = {
				has_province_modifier = province_scourged
			}
			county = {
				is_occupied = no
			}
		}
	}

	mean_time_to_happen = {
		months = 80
		modifier = {
			factor = 1.5
			location = {
				capital_holding = {
					is_tribal = yes
				}
			}
		}
		modifier = {
			factor = 3.0
			liege = {
				tier = count
			}
		}
		modifier = {
			factor = 1.25
			NOT = {
				martial = 2
			}
		}
		modifier = {
			factor = 1.25
			NOT = {
				martial = 3
			}
		}
		modifier = {
			factor = 1.25
			NOT = {
				martial = 4
			}
		}
		modifier = {
			factor = 1.25
			NOT = {
				martial = 5
			}
		}
		modifier = {
			factor = 0.75
			martial = 9
		}
		modifier = {
			factor = 0.75
			martial = 10
		}
		modifier = {
			factor = 0.75
			martial = 11
		}
		modifier = {
			factor = 0.75
			martial = 12
		}
		modifier = {
			factor = 0.75
			martial = 13
		}
		modifier = {
			factor = 0.75
			trait = wroth
		}
		modifier = {
			factor = 0.75
			trait = greedy
		}
		modifier = {
			factor = 0.5
			trait = lunatic_3
		}
		modifier = {
			factor = 0.75
			trait = lunatic_2
		}
		modifier = {
			factor = 0.95
			trait = lunatic_1
		}
		modifier = {
			factor = 0.75
			trait = possessed
		}
		modifier = {
			factor = 0.75
			trait = cruel
		}
	}

	option = {
		name = EVTOPTAbeastmen14
		prestige = 50
		hidden_tooltip = {
			location = {
				random = {
					chance = 30
					random_province_holding = {
						limit = {
							is_capital = no
						}
						destroy_settlement = THIS
					}
				}
				if = {
					limit = {
						has_province_modifier = beastmen_scourging_2
					}
					remove_province_modifier = beastmen_scourging_2
					add_province_modifier = {
						name = beastmen_scourging_3
						duration = 4000
					}
				}
				if = {
					limit = {
						has_province_modifier = beastmen_scourging_1
					}
					remove_province_modifier = beastmen_scourging_1
					add_province_modifier = {
						name = beastmen_scourging_2
						duration = 3600
					}
				}
				if = {
					limit = {
						NOT = {
							has_province_modifier = beastmen_scourging_2
						}
						NOT = {
							has_province_modifier = beastmen_scourging_1
						}
						NOT = {
							has_province_modifier = beastmen_scourging_3
						}
					}
					add_province_modifier = {
						name = beastmen_scourging_1
						duration = 3200
					}
				}
			}
			liege = {
				character_event = {
					id = wh_chaos_beastmen.15
				}
			}
		}
	}
}

# The liege is informed
character_event = {
	id = wh_chaos_beastmen.15
	desc = EVTDESCbeastmen15
	picture = GFX_evt_beastmen_mist
	border = GFX_event_normal_frame_war
	is_triggered_only = yes

	immediate = {
		capital_scope = {
			ROOT = {
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					match_character = THIS
					match_mult = 0.07
					match_min = 100
					match_max = 3000
					attrition = 1.0
					cannot_inherit = yes
					earmark = beastmen_herd
				}
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					match_character = THIS
					match_mult = 0.07
					match_min = 100
					match_max = 3000
					attrition = 1.0
					cannot_inherit = yes
					earmark = beastmen_herd
				}
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					match_character = THIS
					match_mult = 0.07
					match_min = 100
					match_max = 3000
					attrition = 1.0
					cannot_inherit = yes
					earmark = beastmen_herd
				}
			}
		}
		clr_character_flag = tribal_organize_raid_troops
		set_character_flag = tribal_organize_raid_troops
	}

	option = {
		name = EVTOPTAbeastmen15
		opinion = {
			who = FROM
			modifier = opinion_grateful
			months = 12
		}
	}
}

# The Marshal has depleted all resources
character_event = {
	id = wh_chaos_beastmen.16
	title = EVTNAMEbeastmen16
	desc = EVTDESCbeastmen16
	picture = GFX_evt_beastmen_mist
	border = GFX_event_normal_frame_war
	capable_only = yes
	prisoner = no
	culture_group = beastman_group

	trigger = {
		has_job_action = action_despoil_land
		liege = {
			is_incapacitated_trigger = no
			has_character_flag = tribal_organize_raid_troops
		}
		location = {
			county = {
				is_occupied = no
			}
			NOT = {
				has_province_modifier = province_scourged
			}
		}
	}

	mean_time_to_happen = {
		months = 260
		modifier = {
			factor = 0.5
			location = {
				capital_holding = {
					is_tribal = yes
				}
			}
		}
		modifier = {
			factor = 1.25
			trait = content
		}
		modifier = {
			factor = 1.25
			trait = kind
		}
		modifier = {
			factor = 1.25
			trait = charitable
		}
		modifier = {
			factor = 1.25
			trait = shy
		}
		modifier = {
			factor = 0.75
			trait = wroth
		}
		modifier = {
			factor = 0.75
			trait = greedy
		}
		modifier = {
			factor = 0.5
			trait = lunatic_3
		}
		modifier = {
			factor = 0.75
			trait = lunatic_2
		}
		modifier = {
			factor = 0.95
			trait = lunatic_1
		}
		modifier = {
			factor = 0.75
			trait = possessed
		}
		modifier = {
			factor = 0.75
			trait = cruel
		}
		modifier = {
			factor = 0.75
			location = {
				has_province_modifier = beastmen_scourging_1
			}
		}
		modifier = {
			factor = 0.5
			location = {
				has_province_modifier = beastmen_scourging_2
			}
		}
		modifier = {
			factor = 0.25
			location = {
				has_province_modifier = beastmen_scourging_3
			}
		}
	}

	option = {
		name = EVTOPTAbeastmen16
		location = {
			capital_holding = {
				convert_to = NOMAD
			}
			random_province_holding = {
				limit = {
					is_capital = no
				}
				destroy_settlement = THIS
			}
			if = {
				limit = {
					has_province_modifier = beastmen_scourging_2
				}
				remove_province_modifier = beastmen_scourging_2
			}
			if = {
				limit = {
					has_province_modifier = beastmen_scourging_1
				}
				remove_province_modifier = beastmen_scourging_1
			}
			if = {
				limit = {
					has_province_modifier = beastmen_scourging_3
				}
				remove_province_modifier = beastmen_scourging_3
			}
			add_province_modifier = {
				name = beastman_herdstone
				duration = -1
			}
			add_province_modifier = {
				name = province_scourged
				duration = 4650
			}
		}
		hidden_tooltip = {
			liege = {
				character_event = {
					id = wh_chaos_beastmen.17
				}
			}
		}
	}
}

# The liege is informed
character_event = {
	id = wh_chaos_beastmen.17
	desc = EVTDESCbeastmen17
	picture = GFX_evt_beastmen
	border = GFX_event_normal_frame_war
	is_triggered_only = yes

	option = {
		name = EVTOPTAbeastmen17
		prestige = 200
		piety = 50
		hidden_tooltip = {
			FROM = {
				location = {
					religion = ROOT
					culture = ROOT
				}
			}
		}
		ai_chance = {
			factor = 1
		}
	}
}

# A Beastman ruler dies
character_event = {
	id = wh_chaos_beastmen.18
	hide_window = yes
	only_playable = yes
	religion_group = chaos_gods_group
	culture_group = beastman_group	
	is_triggered_only = yes

	trigger = {
		government = beastman_government
		trait = creature_beastman
		killer = {
			is_alive = yes
		}
	}

	immediate = {
		killer = {
			character_event = {
				id = wh_chaos_beastmen.19
			}
		}
	}
}

# Killer event
character_event = {
	id = wh_chaos_beastmen.19
	desc = EVTDESCbeastmen19
	picture = GFX_evt_beastmen
	border = GFX_event_normal_frame_war
	is_triggered_only = yes
	culture_group = beastman_group

	trigger = {
		is_nomadic = yes
		FROM = {
			killer = {
				character = ROOT
			}
		}
		trait = creature_beastman
	}

	option = {
		name = EVTOPTAbeastmen19
		if = {
			limit = {
				is_landed = no
			}
			FROM = {
				random_demesne_title = {
					limit = {
						NOT = {
							holder_scope = {
								clan_title = {
									title = PREVPREV
								}
							}
						}
					}
					gain_title = ROOT
				}
			} # give county if unlanded
		}
		if = {
			limit = {
				FROM = {
					independent = no
				}
			}
			FROM = {
				liege = {
					character_event = {
						id = wh_chaos_beastmen.20
					}
				}
			} # inform liege
		}
		steal_population_scaled = {
			target = FROM
			percentage = 0.1
		}
		FROM = {
			if = {
				limit = {
					tier = KING
				}
				any_demesne_title = {
					limit = {
						NOT = {
							tier = KING
						}
					}
					gain_title = {
						target = ROOT
					}
				}
			}
			if = {
				limit = {
					tier = EMPEROR
				}
				any_demesne_title = {
					limit = {
						NOT = {
							tier = KING
						}
					}
					gain_title = {
						target = ROOT
					}
				}
			}
		} # give main title
		prestige = 150
		ai_chance = {
			factor = 1
		}
	}
}

# Liege informed
character_event = {
	id = wh_chaos_beastmen.20
	desc = EVTDESCbeastmen20
	picture = GFX_evt_beastmen
	border = GFX_event_normal_frame_war
	is_triggered_only = yes

	option = {
		name = EVTOPTAbeastmen20
	}
}

# # Horde breaks apart (on death)
# character_event = {

# id = wh_chaos_beastmen.21
# hide_window = yes

# is_triggered_only = yes
# culture_group = beastman_group

# trigger = { higher_tier_than = DUKE
# trait = creature_beastman

# NOT = { killer = { is_alive = yes } }
# current_heir = { OR = { NOT = { age = 16 }

# is_female = yes
# NOT = { trait = creature_beastman }

# NOT = { prestige = 500 } } }
# }

# immediate = {
# ROOT = {

# any_vassal = {
# limit = { liege = { character = PREVPREVPREV }

# higher_tier_than = BARON }
# set_defacto_liege = THIS

# character_event = { id = wh_chaos_beastmen.22 }
# }

# random_demesne_province = { # All human-cultured counties go to the next ruler nearby
# limit = {

# NOT = { culture = beastman_main } }
# random = { chance = 80

# province_event = { id = wh_chaos_beastmen.57 } }
# }

# }
# }

# }
# # Vassals informed of new independence

# character_event = {
# id = wh_chaos_beastmen.22

# desc = EVTDESCbeastmen22
# picture = GFX_evt_beastmen

# border = GFX_event_normal_frame_war
# is_triggered_only = yes

# option = {
# name = EVTOPTAbeastmen22

# }
# }

# Liege challenged
character_event = {
	id = wh_chaos_beastmen.23
	desc = EVTDESCbeastmen23
	picture = GFX_evt_beastmen
	border = GFX_event_normal_frame_war
	is_triggered_only = yes

	immediate = {
		set_character_flag = duel_effect_noescape
		FROM = {
			set_character_flag = duel_effect_noescape # prevents from escaping
		}
	}

	option = {
		name = "EVTOPTbeastmen23"
		FROM = {
			character_event = {
				id = wh_chaos_beastmen.28 tooltip = "DUELENGINE_TOOLTIP_1A"
			}
		}
	}
}

# SPREADING CHAOS JOB ACTION EFFECT
# The Marshal has plundered and greatly increased your fame
character_event = {
	id = wh_chaos_beastmen.24
	title = EVTNAMEbeastmen24
	desc = EVTDESCbeastmen24
	picture = GFX_evt_beastmen_mist
	border = GFX_event_normal_frame_war
	capable_only = yes
	prisoner = no
	culture_group = beastman_group

	trigger = {
		liege = {
			is_incapacitated_trigger = no
		}
		has_job_action = action_spread_chaos
		location = {
			NOT = {
				has_province_modifier = province_scourged
			}
			county = {
				is_occupied = no
				NOT = {
					is_tribal = yes
				}
			}
		}
	}

	mean_time_to_happen = {
		months = 60
		modifier = {
			factor = 2.5
			location = {
				capital_holding = {
					is_tribal = yes
				}
			}
		}
		modifier = {
			factor = 3.0
			liege = {
				tier = count
			}
		}
		modifier = {
			factor = 1.25
			NOT = {
				martial = 2
			}
		}
		modifier = {
			factor = 1.25
			NOT = {
				martial = 3
			}
		}
		modifier = {
			factor = 1.25
			NOT = {
				martial = 4
			}
		}
		modifier = {
			factor = 1.25
			NOT = {
				martial = 5
			}
		}
		modifier = {
			factor = 0.75
			martial = 9
		}
		modifier = {
			factor = 0.75
			martial = 10
		}
		modifier = {
			factor = 0.75
			martial = 11
		}
		modifier = {
			factor = 0.75
			martial = 12
		}
		modifier = {
			factor = 0.75
			martial = 13
		}
		modifier = {
			factor = 0.75
			trait = wroth
		}
		modifier = {
			factor = 0.75
			trait = greedy
		}
		modifier = {
			factor = 0.5
			trait = lunatic_3
		}
		modifier = {
			factor = 0.75
			trait = lunatic_2
		}
		modifier = {
			factor = 0.95
			trait = lunatic_1
		}
		modifier = {
			factor = 0.75
			trait = possessed
		}
		modifier = {
			factor = 0.75
			trait = cruel
		}
	}

	option = {
		name = EVTOPTAbeastmen14
		prestige = 50
		hidden_tooltip = {
			location = {
				random = {
					chance = 20
					random_province_holding = {
						limit = {
							is_capital = no
						}
						destroy_settlement = THIS
					}
				}
				if = {
					limit = {
						has_province_modifier = beastmen_scourging_2
					}
					remove_province_modifier = beastmen_scourging_2
					add_province_modifier = {
						name = beastmen_scourging_3
						duration = 4000
					}
				}
				if = {
					limit = {
						has_province_modifier = beastmen_scourging_1
					}
					remove_province_modifier = beastmen_scourging_1
					add_province_modifier = {
						name = beastmen_scourging_2
						duration = 3600
					}
				}
				if = {
					limit = {
						NOT = {
							has_province_modifier = beastmen_scourging_2
						}
						NOT = {
							has_province_modifier = beastmen_scourging_1
						}
						NOT = {
							has_province_modifier = beastmen_scourging_3
						}
					}
					add_province_modifier = {
						name = beastmen_scourging_1
						duration = 3200
					}
				}
			}
			liege = {
				character_event = {
					id = wh_chaos_beastmen.25
				}
			}
		}
	}
}

# Liege informed
character_event = {
	id = wh_chaos_beastmen.25
	desc = EVTDESCbeastmen25
	picture = GFX_evt_beastmen
	border = GFX_event_normal_frame_war
	is_triggered_only = yes

	option = {
		name = EVTOPTAbeastmen25
		prestige = 350
		opinion = {
			who = FROM
			modifier = opinion_grateful
			months = 6
		}
	}
}

# The Marshal has depleted all resources
character_event = {
	id = wh_chaos_beastmen.26
	title = EVTNAMEbeastmen16
	desc = EVTDESCbeastmen16
	picture = GFX_evt_beastmen_mist
	border = GFX_event_normal_frame_war
	capable_only = yes
	prisoner = no
	culture_group = beastman_group

	trigger = {
		liege = {
			is_incapacitated_trigger = no
			has_character_flag = tribal_organize_raid_troops
		}
		has_job_action = action_despoil_land
		location = {
			NOT = {
				has_province_modifier = province_scourged
			}
			county = {
				is_occupied = no
			}
		}
	}

	mean_time_to_happen = {
		months = 250
		modifier = {
			factor = 0.5
			location = {
				capital_holding = {
					is_tribal = yes
				}
			}
		}
		modifier = {
			factor = 1.25
			trait = content
		}
		modifier = {
			factor = 1.25
			trait = kind
		}
		modifier = {
			factor = 1.25
			trait = charitable
		}
		modifier = {
			factor = 1.25
			trait = shy
		}
		modifier = {
			factor = 0.75
			trait = wroth
		}
		modifier = {
			factor = 0.75
			trait = greedy
		}
		modifier = {
			factor = 0.5
			trait = lunatic_3
		}
		modifier = {
			factor = 0.75
			trait = lunatic_2
		}
		modifier = {
			factor = 0.95
			trait = lunatic_1
		}
		modifier = {
			factor = 0.75
			trait = possessed
		}
		modifier = {
			factor = 0.75
			trait = cruel
		}
		modifier = {
			factor = 0.75
			location = {
				has_province_modifier = beastmen_scourging_1
			}
		}
		modifier = {
			factor = 0.5
			location = {
				has_province_modifier = beastmen_scourging_2
			}
		}
		modifier = {
			factor = 0.25
			location = {
				has_province_modifier = beastmen_scourging_3
			}
		}
	}

	option = {
		name = EVTOPTAbeastmen16
		location = {
			capital_holding = {
				convert_to = NOMAD
			}
			random_province_holding = {
				limit = {
					is_capital = no
				}
				destroy_settlement = THIS
			}
			if = {
				limit = {
					has_province_modifier = beastmen_scourging_2
				}
				remove_province_modifier = beastmen_scourging_2
			}
			if = {
				limit = {
					has_province_modifier = beastmen_scourging_1
				}
				remove_province_modifier = beastmen_scourging_1
			}
			if = {
				limit = {
					has_province_modifier = beastmen_scourging_3
				}
				remove_province_modifier = beastmen_scourging_3
			}
			add_province_modifier = {
				name = beastman_herdstone
				duration = -1
			}
			add_province_modifier = {
				name = province_scourged
				duration = 4650
			}
		}
		hidden_tooltip = {
			liege = {
				character_event = {
					id = wh_chaos_beastmen.27
				}
			}
		}
	}
}

# The liege is informed
character_event = {
	id = wh_chaos_beastmen.27
	desc = EVTDESCbeastmen17
	picture = GFX_evt_beastmen
	border = GFX_event_normal_frame_war
	is_triggered_only = yes

	option = {
		name = EVTOPTAbeastmen17
		prestige = 200
		piety = 50
		hidden_tooltip = {
			FROM = {
				location = {
					religion = ROOT
					culture = ROOT
				}
			}
		}
		ai_chance = {
			factor = 1
		}
	}
}

# Modified duel event
# ROOT = attacker

# FROM = defender
character_event = {
	id = wh_chaos_beastmen.28
	desc = EVTDESCbeastmen28
	picture = GFX_evt_beastmen
	border = "GFX_event_normal_frame_war"
	is_triggered_only = yes

	option = {
		name = EVTOPTbeastmen28
	}
}

character_event = {
	id = wh_chaos_beastmen.29
	desc = EVTDESCbeastmen29
	picture = "GFX_evt_tzeentch"
	is_triggered_only = yes

	trigger = {
		OR = {
			mother_even_if_dead = {
				trait = creature_beastman
			}
			father_even_if_dead = {
				trait = creature_beastman
			}
		}
		OR = {
			trait = strong
			trait = tough
			trait = hardy
			trait = genius
			trait = brilliant
			trait = bright
			trait = quick
			trait = brilliant_strategist
		}
		NOT = {
			trait = bray_shaman
		}
	}

	option = {
		name = EVTOPTAbeastmen29
 		mother = {
			character_event = {
				id = wh_chaos_beastmen.31
				days = 1
			}
		}
 		father = {
			character_event = {
				id = wh_chaos_beastmen.31
				days = 1
			}
		}
		add_trait = bray_shaman
		add_trait = lore_dark_magic
		z_magic_power_random = yes
	}
}

# On birth event for bray shamans
character_event = {
	id = wh_chaos_beastmen.30
	hide_window = yes
	only_men = yes
	is_triggered_only = yes
	culture_group = beastman_group

	immediate = {
		random_list = {
			30 = {
				modifier = {
					factor = 1.75
					mother_even_if_dead = {
						trait = bray_shaman
					}
				}
				modifier = {
					factor = 2.75
					father_even_if_dead = {
						trait = bray_shaman
					}
				}
				character_event = {
					id = wh_chaos_beastmen.29
					days = 120
					random = 100
				}
			}
			70 = {
			}
		}
	}
}

character_event = {
	id = wh_chaos_beastmen.31
	desc = EVTDESCbeastmen31
	picture = "GFX_evt_tzeentch"
	ai = no
	is_triggered_only = yes

	option = {
		name = EVTOPTAbeastmen31
	}
}

# DESPOILING LAND JOB ACTION EFFECTS (FOR STUPID AI ONLY)
# The Marshal has managed to rally another herd
character_event = {
	id = wh_chaos_beastmen.32
	title = EVTNAMEbeastmen14
	desc = EVTDESCbeastmen14
	picture = GFX_evt_beastmen_mist
	border = GFX_event_normal_frame_war
	capable_only = yes
	prisoner = no
	culture_group = beastman_group

	trigger = {
		liege = {
			ai = yes
			is_incapacitated_trigger = no
			OR = {
				NOT = {
					has_character_flag = tribal_organize_raid_troops
				}
				had_character_flag = {
					flag = tribal_organize_raid_troops
					days = 650
				}
			}
		}
		OR = {
			has_job_action = action_train_troops
			has_job_action = action_advance_mil_tech
			has_job_action = action_organize_raid
		}
		location = {
			# NOT = { has_province_modifier = province_scourged }
			county = {
				is_occupied = no
			}
		}
	}

	mean_time_to_happen = {
		months = 80
		modifier = {
			factor = 1.5
			location = {
				capital_holding = {
					is_tribal = yes
				}
			}
		}
		modifier = {
			factor = 3.0
			liege = {
				tier = count
			}
		}
		modifier = {
			factor = 1.25
			NOT = {
				martial = 2
			}
		}
		modifier = {
			factor = 1.25
			NOT = {
				martial = 3
			}
		}
		modifier = {
			factor = 1.25
			NOT = {
				martial = 4
			}
		}
		modifier = {
			factor = 1.25
			NOT = {
				martial = 5
			}
		}
		modifier = {
			factor = 0.75
			martial = 9
		}
		modifier = {
			factor = 0.75
			martial = 10
		}
		modifier = {
			factor = 0.75
			martial = 11
		}
		modifier = {
			factor = 0.75
			martial = 12
		}
		modifier = {
			factor = 0.75
			martial = 13
		}
		modifier = {
			factor = 0.75
			trait = wroth
		}
		modifier = {
			factor = 0.75
			trait = greedy
		}
		modifier = {
			factor = 0.5
			trait = lunatic_3
		}
		modifier = {
			factor = 0.75
			trait = lunatic_2
		}
		modifier = {
			factor = 0.95
			trait = lunatic_1
		}
		modifier = {
			factor = 0.75
			trait = possessed
		}
		modifier = {
			factor = 0.75
			trait = cruel
		}
	}

	option = {
		name = EVTOPTAbeastmen14
		prestige = 50
		hidden_tooltip = {
			location = {
				random = {
					chance = 30
					random_province_holding = {
						limit = {
							is_capital = no
						}
						destroy_settlement = THIS
					}
				}
				if = {
					limit = {
						has_province_modifier = beastmen_scourging_2
					}
					remove_province_modifier = beastmen_scourging_2
					add_province_modifier = {
						name = beastmen_scourging_3
						duration = 4000
					}
				}
				if = {
					limit = {
						has_province_modifier = beastmen_scourging_1
					}
					remove_province_modifier = beastmen_scourging_1
					add_province_modifier = {
						name = beastmen_scourging_2
						duration = 3600
					}
				}
				if = {
					limit = {
						nor = {
							has_province_modifier = beastmen_scourging_2
							has_province_modifier = beastmen_scourging_1
							has_province_modifier = beastmen_scourging_3
						}
					}
					add_province_modifier = {
						name = beastmen_scourging_1
						duration = 3200
					}
				}
			}
			liege = {
				character_event = {
					id = wh_chaos_beastmen.33
				}
			}
		}
	}
}

# The liege is informed
character_event = {
	id = wh_chaos_beastmen.33
	desc = EVTDESCbeastmen15
	picture = GFX_evt_beastmen_mist
	border = GFX_event_normal_frame_war
	is_triggered_only = yes

	immediate = {
		capital_scope = {
			ROOT = {
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					match_character = THIS
					match_mult = 0.17
					match_min = 100
					match_max = 3000
					attrition = 1.0
					cannot_inherit = yes
					earmark = beastmen_herd
				}
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					match_character = THIS
					match_mult = 0.17
					match_min = 100
					match_max = 3000
					attrition = 1.0
					cannot_inherit = yes
					earmark = beastmen_herd
				}
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					match_character = THIS
					match_mult = 0.17
					match_min = 100
					match_max = 3000
					attrition = 1.0
					cannot_inherit = yes
					earmark = beastmen_herd
				}
			}
		}
		clr_character_flag = tribal_organize_raid_troops
		set_character_flag = tribal_organize_raid_troops
	}

	option = {
		name = EVTOPTAbeastmen15
		opinion = {
			who = FROM
			modifier = opinion_grateful
			months = 12
		}
	}
}

# The Marshal has depleted all resources
character_event = {
	id = wh_chaos_beastmen.34
	title = EVTNAMEbeastmen16
	desc = EVTDESCbeastmen16
	picture = GFX_evt_beastmen_mist
	border = GFX_event_normal_frame_war
	capable_only = yes
	prisoner = no
	culture_group = beastman_group

	trigger = {
		liege = {
			ai = yes
			is_incapacitated_trigger = no
			has_character_flag = tribal_organize_raid_troops
		}
		OR = {
			has_job_action = action_train_troops
			has_job_action = action_advance_mil_tech
			has_job_action = action_organize_raid
		}
		location = {
			county = {
				is_occupied = no
			}
			NOT = {
				has_province_modifier = province_scourged
			}
		}
	}

	mean_time_to_happen = {
		months = 260
		modifier = {
			factor = 0.5
			location = {
				capital_holding = {
					is_tribal = yes
				}
			}
		}
		modifier = {
			factor = 1.25
			trait = content
		}
		modifier = {
			factor = 1.25
			trait = kind
		}
		modifier = {
			factor = 1.25
			trait = charitable
		}
		modifier = {
			factor = 1.25
			trait = shy
		}
		modifier = {
			factor = 0.75
			trait = wroth
		}
		modifier = {
			factor = 0.75
			trait = greedy
		}
		modifier = {
			factor = 0.5
			trait = lunatic_3
		}
		modifier = {
			factor = 0.75
			trait = lunatic_2
		}
		modifier = {
			factor = 0.95
			trait = lunatic_1
		}
		modifier = {
			factor = 0.75
			trait = possessed
		}
		modifier = {
			factor = 0.75
			trait = cruel
		}
		modifier = {
			factor = 0.75
			location = {
				has_province_modifier = beastmen_scourging_1
			}
		}
		modifier = {
			factor = 0.5
			location = {
				has_province_modifier = beastmen_scourging_2
			}
		}
		modifier = {
			factor = 0.25
			location = {
				has_province_modifier = beastmen_scourging_3
			}
		}
	}

	option = {
		name = EVTOPTAbeastmen16
		location = {
			capital_holding = {
				convert_to = NOMAD
			}
			random_province_holding = {
				limit = {
					is_capital = no
				}
				destroy_settlement = THIS
			}
			if = {
				limit = {
					has_province_modifier = beastmen_scourging_2
				}
				remove_province_modifier = beastmen_scourging_2
			}
			if = {
				limit = {
					has_province_modifier = beastmen_scourging_1
				}
				remove_province_modifier = beastmen_scourging_1
			}
			if = {
				limit = {
					has_province_modifier = beastmen_scourging_3
				}
				remove_province_modifier = beastmen_scourging_3
			}
			add_province_modifier = {
				name = beastman_herdstone
				duration = -1
			}
			add_province_modifier = {
				name = province_scourged
				duration = 4650
			}
		}
		hidden_tooltip = {
			liege = {
				character_event = {
					id = wh_chaos_beastmen.35
				}
			}
		}
	}
}

# The liege is informed
character_event = {
	id = wh_chaos_beastmen.35
	desc = EVTDESCbeastmen17
	picture = GFX_evt_beastmen
	border = GFX_event_normal_frame_war
	is_triggered_only = yes

	option = {
		name = EVTOPTAbeastmen17
		prestige = 200
		piety = 50
		FROM = {
			location = {
				province_capital = yes
				ROOT = {
					capital = PREV
				}
			} # Move the capital
		}
		hidden_tooltip = {
			FROM = {
				location = {
					religion = ROOT
					culture = ROOT
				}
			}
		}
		ai_chance = {
			factor = 1
		}
	}
}

# SPREADING CHAOS JOB ACTION EFFECT (FOR STUPID AI)
# The Marshal has plundered and greatly increased your fame
character_event = {
	id = wh_chaos_beastmen.36
	title = EVTNAMEbeastmen24
	desc = EVTDESCbeastmen24
	picture = GFX_evt_beastmen_mist
	border = GFX_event_normal_frame_war
	capable_only = yes
	prisoner = no
	culture_group = beastman_group

	trigger = {
		liege = {
			ai = yes
			is_incapacitated_trigger = no
			NOT = {
				trait = incapable
			}
		}
		OR = {
			has_job_action = action_train_troops
			has_job_action = action_advance_mil_tech
			has_job_action = action_organize_raid
		}
		location = {
			# NOT = { has_province_modifier = province_scourged }
			county = {
				is_occupied = no
				NOT = {
					is_tribal = yes
				}
			}
		}
	}

	mean_time_to_happen = {
		months = 60
		modifier = {
			factor = 2.5
			location = {
				capital_holding = {
					is_tribal = yes
				}
			}
		}
		modifier = {
			factor = 3.0
			liege = {
				tier = count
			}
		}
		modifier = {
			factor = 1.25
			NOT = {
				martial = 2
			}
		}
		modifier = {
			factor = 1.25
			NOT = {
				martial = 3
			}
		}
		modifier = {
			factor = 1.25
			NOT = {
				martial = 4
			}
		}
		modifier = {
			factor = 1.25
			NOT = {
				martial = 5
			}
		}
		modifier = {
			factor = 0.75
			martial = 9
		}
		modifier = {
			factor = 0.75
			martial = 10
		}
		modifier = {
			factor = 0.75
			martial = 11
		}
		modifier = {
			factor = 0.75
			martial = 12
		}
		modifier = {
			factor = 0.75
			martial = 13
		}
		modifier = {
			factor = 0.75
			trait = wroth
		}
		modifier = {
			factor = 0.75
			trait = greedy
		}
		modifier = {
			factor = 0.5
			trait = lunatic_3
		}
		modifier = {
			factor = 0.75
			trait = lunatic_2
		}
		modifier = {
			factor = 0.95
			trait = lunatic_1
		}
		modifier = {
			factor = 0.75
			trait = possessed
		}
		modifier = {
			factor = 0.75
			trait = cruel
		}
	}

	option = {
		name = EVTOPTAbeastmen14
		prestige = 50
		hidden_tooltip = {
			location = {
				random = {
					chance = 20
					random_province_holding = {
						limit = {
							is_capital = no
						}
						destroy_settlement = THIS
					}
				}
				if = {
					limit = {
						has_province_modifier = beastmen_scourging_2
					}
					remove_province_modifier = beastmen_scourging_2
					add_province_modifier = {
						name = beastmen_scourging_3
						duration = 4000
					}
				}
				if = {
					limit = {
						has_province_modifier = beastmen_scourging_1
					}
					remove_province_modifier = beastmen_scourging_1
					add_province_modifier = {
						name = beastmen_scourging_2
						duration = 3600
					}
				}
				if = {
					limit = {
						nor = {
							has_province_modifier = beastmen_scourging_2
							has_province_modifier = beastmen_scourging_1
							has_province_modifier = beastmen_scourging_3
						}
					}
					add_province_modifier = {
						name = beastmen_scourging_1
						duration = 3200
					}
				}
			}
			liege = {
				character_event = {
					id = wh_chaos_beastmen.25
				}
			}
		}
	}
}

# CLEANSING BEASTMEN
# The Marshal suppressing revolts has a chance of removing a Herdstone and restoring his liege's culture and religion in a province.
character_event = {
	id = wh_chaos_beastmen.37
	desc = EVTDESCbeastmen37
	picture = GFX_evt_beastmen_mist
	border = GFX_event_normal_frame_war
	capable_only = yes
	prisoner = no

	trigger = {
		liege = {
			is_incapacitated_trigger = no
			nor = {
				religion_group = chaos_gods_group
				trait = creature_beastman
				trait = incapable
			}
		}
		has_job_action = action_assist_arrest
		location = {
			OR = {
				has_province_modifier = beastman_herdstone
				culture_group = beastman_group
			}
			county = {
				is_occupied = no
			}
		}
	}

	mean_time_to_happen = {
		months = 30
		modifier = {
			factor = 2.5
			location = {
				capital_holding = {
					is_tribal = yes
				}
			}
		}
		modifier = {
			factor = 2.5
			location = {
				has_province_modifier = beastman_herdstone
			}
		}
		modifier = {
			factor = 1.25
			NOT = {
				martial = 2
			}
		}
		modifier = {
			factor = 1.25
			NOT = {
				martial = 3
			}
		}
		modifier = {
			factor = 1.25
			NOT = {
				martial = 4
			}
		}
		modifier = {
			factor = 1.25
			NOT = {
				martial = 5
			}
		}
		modifier = {
			factor = 0.75
			martial = 9
		}
		modifier = {
			factor = 0.75
			martial = 10
		}
		modifier = {
			factor = 0.75
			martial = 11
		}
		modifier = {
			factor = 0.75
			martial = 12
		}
		modifier = {
			factor = 0.75
			martial = 13
		}
		modifier = {
			factor = 0.5
			trait = zealous
		}
		modifier = {
			factor = 2.5
			trait = craven
		}
	}

	option = {
		name = EVTOPTAbeastmen37
		prestige = 50
		liege = {
			character_event = {
				id = wh_chaos_beastmen.38
			}
		}
	}
}

# Liege: fund expedition?
character_event = {
	id = wh_chaos_beastmen.38
	desc = EVTDESCbeastmen38
	picture = GFX_evt_beastmen
	border = GFX_event_normal_frame_war
	is_triggered_only = yes

	option = {
		name = EVTOPTAbeastmen38
		trigger = {
			wealth = 100
		}
		wealth = -100
		prestige = 50
		piety = 150
		hidden_tooltip = {
			random_list = {
				80 = {
					character_event = {
						id = wh_chaos_beastmen.39
						days = 25
						random = 25
					}
				}
				20 = {
					modifier = {
						factor = 1.5
						has_province_modifier = beastmen_scourging_3
					}
					modifier = {
						factor = 1.75
						has_province_modifier = beastman_herdstone
					}
					character_event = {
						id = wh_chaos_beastmen.40
						days = 25
						random = 25
					}
				}
			}
		}
		ai_chance = {
			factor = 100
		}
	}

	option = {
		name = EVTOPTBbeastmen38
		prestige = -25
		piety = -10
		ai_chance = {
			factor = 0
		}
	}
}

# Liege: success
character_event = {
	id = wh_chaos_beastmen.39
	desc = EVTDESCbeastmen39
	picture = GFX_evt_beastmen
	border = GFX_event_normal_frame_war
	is_triggered_only = yes

	option = {
		name = EVTOPTAbeastmen39
		hidden_tooltip = {
			FROMFROM = {
				location = {
					remove_province_modifier = beastmen_scourging_1
					remove_province_modifier = beastmen_scourging_2
					remove_province_modifier = beastmen_scourging_3
					remove_province_modifier = beastman_herdstone
				}
				refill_holding_levy = yes
			}
			if = {
				limit = {
					NOT = {
						trait = creature_nehekharan
					}
					FROMFROM = {
						location = {
							culture_group = beastman_group
						}
					}
				}
				FROMFROM = {
					location = {
						religion = ROOT
						culture = ROOT
					}
				}
			}
		}
		hidden_tooltip = {
			if = {
				limit = {
					trait = creature_nehekharan
					FROMFROM = {
						location = {
							or = {
								culture_group = orc_group
								culture_group = goblin_group
							}
						}
					}
				}
				FROMFROM = {
					location = {
						culture = nehekka
						religion = atruhayid
					}
				}
			}
		}
		ai_chance = {
			factor = 1
		}
	}
}

# Liege: failure
character_event = {
	id = wh_chaos_beastmen.40
	desc = EVTDESCbeastmen40
	picture = GFX_evt_beastmen
	border = GFX_event_normal_frame_war
	is_triggered_only = yes

	option = {
		name = EVTOPTAbeastmen40
		hidden_tooltip = {
			FROMFROM = {
				random = {
					chance = 20
					province_event = {
						id = wh_chaos_beastmen.1
					}
				}
			}
		}
		ai_chance = {
			factor = 1
		}
	}
}

# On post birth event for turnskins
character_event = {
	id = wh_chaos_beastmen.41
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		OR = {
			is_living_human_trigger = yes
			trait = creature_dwarf
			trait = creature_chaos_dwarf
		}
		or = {
			region = world_chaos_wastes
			region = world_old_world
			region = world_greater_araby
			region = world_norsca
		}
	}

	immediate = {
		random_list = {
			10 = {
				modifier = {
					factor = 0
					NOT = {
						check_variable = {
							which = "doom_counter"
							value = 10
						}
					}
				}
				modifier = {
					factor = 0.25
					NOT = {
						check_variable = {
							which = "doom_counter"
							value = 20
						}
					}
				}
				remove_trait = creature_human
				remove_trait = creature_amazon
				remove_trait = creature_dwarf
				remove_trait = creature_chaos_dwarf
				add_trait = creature_beastman
				religion = chaos
				culture = beastman_main
				set_graphical_culture = beastman_main
				liege = {
					character_event = {
						id = wh_chaos_beastmen.42 days = 1
					}
				}
			}
			90 = {
 			 	modifier = {
 			 		factor = 0.6
 					has_global_flag = morrslieb_full

				}
				modifier = {
					factor = 0.75
					check_variable = {
						which = "doom_counter"
						value = 30
					}
				}
				modifier = {
					factor = 0.75
					check_variable = {
						which = "doom_counter"
						value = 60
					}
				}
				modifier = {
					factor = 0.75
					check_variable = {
						which = "doom_counter"
						value = 90
					}
				}
			}
		}
	}
}

character_event = {
	id = wh_chaos_beastmen.42
	desc = {
		text = EVTDESCAbeastmen42
		trigger = {
			OR = {
				religion_group = chaos_gods_group
				religion_group = old_gods_group
			}
		}
	}
	desc = {
		text = EVTDESCBbeastmen42
		trigger = {
			nor = {
				religion_group = chaos_gods_group
				religion_group = old_gods_group
			}
		}
	}
	picture = GFX_evt_beastmen_kids
	is_triggered_only = yes

	option = {
		name = EVTOPTAbeastmen42
		any_vassal = {
			limit = {
				nor = {
					religion_group = chaos_gods_group
					religion_group = old_gods_group
				}
			}
			opinion = {
				who = ROOT
				modifier = harboring_monster
				months = 120
			}
		}
		ai_chance = {
			factor = 33
			modifier = {
				factor = 1.5
				religion_group = chaos_gods_group
			}
			modifier = {
				factor = 0
				nor = {
					trait = lunatic_3
					trait = lunatic_2
					trait = possessed
					religion_group = chaos_gods_group
					religion_group = old_gods_group
				}
			}
		}
	}

	option = {
		name = EVTOPTBbeastmen42
		any_vassal = {
			limit = {
				OR = {
					religion_group = chaos_gods_group
					religion_group = old_gods_group
				}
			}
			opinion = {
				who = ROOT
				modifier = abandoned_turnskin
				months = 12
			}
		}
		FROM = {
			add_trait = disinherited
			recalc_succession = yes
		}
		random_playable_ruler = {
			limit = {
				trait = creature_beastman
			}
			FROM = {
				move_character = PREV
			}
		}
		ai_chance = {
			factor = 33
			modifier = {
				factor = 1.5
				OR = {
					religion_group = chaos_gods_group
					religion_group = old_gods_group
				}
			}
		}
	}

	option = {
		name = EVTOPTCbeastmen42
		any_vassal = {
			limit = {
				OR = {
					religion_group = chaos_gods_group
					religion_group = old_gods_group
				}
			}
			opinion = {
				who = ROOT
				modifier = abandoned_turnskin
				months = 60
			}
		}
		FROM = {
			if = {
				limit = {
					is_invincible_trigger = yes
				}
				antideath_effect = yes
				break = yes
			}
			death = {
				death_reason = death_execution
				killer = ROOT
			}
		}
		ai_chance = {
			factor = 33
			modifier = {
				factor = 0.1
				OR = {
					religion_group = chaos_gods_group
					religion_group = old_gods_group
				}
			}
			modifier = {
				factor = 10
				nor = {
					religion_group = chaos_gods_group
					religion_group = old_gods_group
				}
			}
		}
	}
}

# What to do with captured slaves?
character_event = {
	id = wh_chaos_beastmen.43
	desc = EVTDESCbeastmen43
	picture = GFX_evt_beastmen_charge
	border = GFX_event_normal_frame_war
	is_triggered_only = yes

	option = {
		name = EVTOPTAbeastmen43
		trigger = {
			capital_scope = {
				has_province_modifier = beastman_herdstone
			}
		}
		prestige = 125
		piety = 50

		hidden_tooltip = {
			if = {
				limit = {
					check_variable = {
						which = dwarfslaves
						value = 1
					}
				}
				change_variable = {
					which = dwarfslaves
					value = -1
				}
				break = yes
			}
			if = {
				limit = {
					check_variable = {
						which = humanslaves
						value = 1
					}
				}
				change_variable = {
					which = humanslaves
					value = -1
				}
				break = yes
			}
			if = {
				limit = {
					check_variable = {
						which = elfslaves
						value = 1
					}
				}
				change_variable = {
					which = elfslaves
					value = -1
				}
				break = yes
			}
		}
		ai_chance = {
			factor = 100
		}
	}

	option = {
		name = EVTOPTBbeastmen43
		prestige = 50
		piety = 10
		hidden_tooltip = {
			if = {
				limit = {
					check_variable = {
						which = dwarfslaves
						value = 1
					}
				}
				change_variable = {
					which = dwarfslaves
					value = -1
				}
				break = yes
			}
			if = {
				limit = {
					check_variable = {
						which = humanslaves
						value = 1
					}
				}
				change_variable = {
					which = humanslaves
					value = -1
				}
				break = yes
			}
			if = {
				limit = {
					check_variable = {
						which = elfslaves
						value = 1
					}
				}
				change_variable = {
					which = elfslaves
					value = -1
				}
				break = yes
			}
		}
		ai_chance = {
			factor = 20
		}
	}

	option = {
		name = EVTOPTCbeastmen43
		ai_chance = {
			factor = 0
		}
	}
}

# The Beastmen ravage a province, one of them rapes a local
# ROOT is attacker, FROM is province sieged
character_event = {
	id = wh_chaos_beastmen.47
	hide_window = yes
	culture_group = beastman_group
	only_men = yes
	only_playable = yes
	is_triggered_only = yes

	trigger = {
		trait = creature_beastman
		FROM = {
			is_tribal = no
			is_capital = yes
			owner = {
				NOT = {
					trait = creature_beastman
				}
				any_courtier = {
					is_female = yes
					is_ruler = no
					OR = {
						is_living_human_trigger = yes
						trait = creature_elf
						trait = creature_dwarf
						trait = creature_chaos_dwarf
					}
				}
			}
		}
	}

	immediate = {
		random = {
			chance = 20
			FROM = {
				owner = {
					random_courtier = {
						limit = {
							is_female = yes
							is_ruler = no
							OR = {
						is_living_human_trigger = yes
								trait = creature_elf
								trait = creature_dwarf
								trait = creature_chaos_dwarf
							}
						}
						impregnate_cuckoo = ROOT
					}
				}
			}
		}
	}
}

# Eat prisoner - (Jailer)
character_event = {
	id = wh_chaos_beastmen.48
	desc = EVTDESCbeastme48
	picture = GFX_evt_beastmen_charge
	border = GFX_event_normal_frame_war
	is_triggered_only = yes

	option = {
		name = EVTOPTBbeastmen48
		if = {
			limit = {
				FROM = {
					trait = creature_beastman
				}
			}
			any_vassal = {
				limit = {
					nor = {
						trait = brave
						trait = quick
						trait = bright
						trait = brilliant
						trait = genius
					}
				}
				opinion = {
					modifier = opinion_scared_into_submission
					who = ROOT
				}
			}
			any_courtier = {
				limit = {
					nor = {
						trait = brave
						trait = quick
						trait = bright
						trait = brilliant
						trait = genius
					}
				}
				opinion = {
					modifier = opinion_scared_into_submission
					who = ROOT
				}
			}
			break = yes
			# Other beastmen will get scared into submission only if one of their kind was eaten.
		}
		any_vassal = {
			limit = {
				nor = {
					trait = brave
					trait = quick
					trait = bright
					trait = brilliant
					trait = genius
					trait = creature_beastman
				}
			}
			opinion = {
				modifier = opinion_scared_into_submission
				who = ROOT
			}
		}
		any_courtier = {
			limit = {
				nor = {
					trait = brave
					trait = quick
					trait = bright
					trait = brilliant
					trait = genius
					trait = creature_beastman
				}
			}
			opinion = {
				modifier = opinion_scared_into_submission
				who = ROOT
			}
		}
	}
}

# HERDSTONE OFFERING
# Small horde
character_event = {
	id = wh_chaos_beastmen.49
	desc = EVTDESCbeastmen49
	picture = GFX_evt_beastmen_mist
	border = GFX_event_normal_frame_war
	is_triggered_only = yes

	immediate = {
		population = 300
		capital_scope = {
			ROOT = {
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					match_character = THIS
					match_mult = 0.07
					match_min = 5
					match_max = 50
					attrition = 1.0
					cannot_inherit = yes
					earmark = beastmen_herd
				}
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					match_character = THIS
					match_mult = 0.07
					match_min = 5
					match_max = 50
					attrition = 1.0
					cannot_inherit = yes
					earmark = beastmen_herd
				}
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					match_character = THIS
					match_mult = 0.07
					match_min = 5
					match_max = 50
					attrition = 1.0
					cannot_inherit = yes
					earmark = beastmen_herd
				}
			}
		}
	}

	option = {
		name = EVTOPTAbeastmen49
	}
}

# Large horde
character_event = {
	id = wh_chaos_beastmen.50
	desc = EVTDESCbeastmen50
	picture = GFX_evt_beastmen_mist
	border = GFX_event_normal_frame_war
	is_triggered_only = yes

	immediate = {
		population = 300
		capital_scope = {
			ROOT = {
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					match_character = THIS
					match_mult = 0.12
					match_min = 7
					match_max = 75
					attrition = 1.0
					cannot_inherit = yes
					earmark = beastmen_herd
				}
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					match_character = THIS
					match_mult = 0.12
					match_min = 7
					match_max = 75
					attrition = 1.0
					cannot_inherit = yes
					earmark = beastmen_herd
				}
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
					match_character = THIS
					match_mult = 0.12
					match_min = 7
					match_max = 75
					attrition = 1.0
					cannot_inherit = yes
					earmark = beastmen_herd
				}
			}
		}
	}

	option = {
		name = EVTOPTAbeastmen50
	}
}

# Giants
character_event = {
	id = wh_chaos_beastmen.51
	desc = EVTDESCbeastmen51
	picture = GFX_evt_giant
	border = GFX_event_normal_frame_war
	is_triggered_only = yes

	immediate = {
		capital_scope = {
			ROOT = {
				spawn_unit = {
					province = PREV
					home = PREV
					owner = THIS
 					troops = {
 						war_elephants = {
							50 50
						}
					}
					attrition = 1.0
					cannot_inherit = yes
					earmark = beastmen_herd
				}
			}
		}
	}

	option = {
		name = EVTOPTAbeastmen51
	}
}

# Raiders (scope to capital)
character_event = {
	id = wh_chaos_beastmen.52
	desc = EVTDESCbeastmen52
	picture = GFX_evt_beastmen_charge
	border = GFX_event_normal_frame_war
	is_triggered_only = yes

	immediate = {
		capital_scope = {
			province_event = {
				id = wh_chaos_beastmen.52001
			}
		}
	}

	option = {
		name = EVTOPTAbeastmen52
	}
}

# Raiders
province_event = {
	id = wh_chaos_beastmen.52001
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		clr_province_flag = beastman_horde_inv
		random_list = {
			65 = {
				create_character = {
					random_traits = yes
					dynasty = none
					religion = chaos
					culture = beastman_main
					female = no
					age = 23
					attributes = {
						martial = 7
					}
					trait = creature_beastman
					trait = tough_soldier
					trait = horns_average
				}
			}
			20 = {
				create_character = {
					random_traits = yes
					dynasty = none
					religion = khorne
					culture = beastman_main
					female = no
					age = 23
					attributes = {
						martial = 9
					}
					trait = creature_beastman
					trait = tough_soldier
					trait = berserker
					trait = horns_average
				}
			}
			5 = {
				create_character = {
					random_traits = yes
					dynasty = none
					religion = slaanesh
					culture = beastman_main
					female = no
					age = 23
					attributes = {
						intrigue = 5
					}
					trait = creature_beastman
					trait = misguided_warrior
					trait = horns_average
				}
			}
			5 = {
				create_character = {
					random_traits = yes
					dynasty = none
					religion = nurgle
					culture = beastman_main
					female = no
					age = 23
					attributes = {
						diplomacy = 5
					}
					trait = creature_beastman
					trait = misguided_warrior
					trait = horns_average
				}
			}
			5 = {
				create_character = {
					random_traits = yes
					dynasty = none
					religion = tzeentch
					culture = beastman_main
					female = no
					age = 23
					attributes = {
						learning = 5
					}
					trait = creature_beastman
					trait = intricate_webweaver
					trait = lore_tzeentch
					trait = horns_average
				}
			}
		}
		new_character = {
			culture = beastman_main
			if = {
				limit = {
					trait = lore_tzeentch
				}
				add_trait = bray_shaman
				z_magic_power_sequential_addition = yes
				z_magic_power_sequential_addition = yes
			}
			create_title = {
				tier = DUKE
				landless = yes
				temporary = yes
				rebel = yes
				culture = beastman_main
				name = "WAR_HERD"
				holder = THIS
			}
			random_list = {
				17 = {
					spawn_unit = {
						province = ROOT
						home = ROOT
						owner = THIS
						leader = THIS
						scaled_by_biggest_garrison = 1.25
						troops = {
							archers = {
								6 6
							}
 							light_infantry = {
								10 10
							}
 							heavy_infantry = {
								4 4
							}
						}
						attrition = 1.0
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 30
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_small
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.95
							troops = {
								archers = {
									6 6
								}
 								light_infantry = {
									10 10
								}
 								heavy_infantry = {
									4 4
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 31
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_small
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.95
							troops = {
								archers = {
									6 6
								}
 								light_infantry = {
									10 10
								}
 								heavy_infantry = {
									4 4
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
				}
				17 = {
					spawn_unit = {
						province = ROOT
						home = ROOT
						owner = THIS
						leader = THIS
						scaled_by_biggest_garrison = 0.5
						troops = {
							archers = {
								6 6
							}
 							light_infantry = {
								10 10
							}
 							heavy_infantry = {
								4 4
							}
						}
						attrition = 1.0
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 30
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_small
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.5
							troops = {
								archers = {
									6 6
								}
 								light_infantry = {
									10 10
								}
 								heavy_infantry = {
									4 4
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 31
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_small
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.5
							troops = {
								archers = {
									6 6
								}
 								light_infantry = {
									10 10
								}
 								heavy_infantry = {
									4 4
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
				}
				16 = {
					spawn_unit = {
						province = ROOT
						home = ROOT
						owner = THIS
						leader = THIS
						scaled_by_biggest_garrison = 0.95
						troops = {
							archers = {
								6 6
							}
 							light_infantry = {
								10 10
							}
 							heavy_infantry = {
								4 4
							}
						}
						attrition = 1.0
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 30
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_small
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.95
							troops = {
								archers = {
									6 6
								}
 								light_infantry = {
									10 10
								}
 								heavy_infantry = {
									4 4
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 31
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_small
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.95
							troops = {
								archers = {
									6 6
								}
 								light_infantry = {
									10 10
								}
 								heavy_infantry = {
									4 4
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
				}
				17 = {
					spawn_unit = {
						province = ROOT
						home = ROOT
						owner = THIS
						leader = THIS
						scaled_by_biggest_garrison = 0.5
						troops = {
							archers = {
								6 6
							}
 							light_infantry = {
								10 10
							}
 							heavy_infantry = {
								4 4
							}
						}
						attrition = 1.0
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 30
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_small
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.5
							troops = {
								archers = {
									6 6
								}
 								light_infantry = {
									10 10
								}
 								heavy_infantry = {
									4 4
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 31
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_small
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.5
							troops = {
								archers = {
									6 6
								}
 								light_infantry = {
									10 10
								}
 								heavy_infantry = {
									4 4
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
				}
				16 = {
					spawn_unit = {
						province = ROOT
						home = ROOT
						owner = THIS
						leader = THIS
						scaled_by_biggest_garrison = 0.75
						troops = {
							archers = {
								6 6
							}
							light_infantry = {
								14 14
							}
						}
						attrition = 1.0
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 30
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_small
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.75
							troops = {
								archers = {
									6 6
								}
								light_infantry = {
									14 14
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 31
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_small
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.75
							troops = {
								archers = {
									6 6
								}
								light_infantry = {
									14 14
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
				}
				17 = {
					spawn_unit = {
						province = ROOT
						home = ROOT
						owner = THIS
						leader = THIS
						scaled_by_biggest_garrison = 0.5
						troops = {
							archers = {
								6 6
							}
							light_infantry = {
								14 14
							}
						}
						attrition = 1.0
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 30
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_small
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.5
							troops = {
								archers = {
									6 6
								}
								light_infantry = {
									14 14
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 31
						trait = creature_beastman
						trait = tough_soldier
						trait = horns_small
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.5
							troops = {
								archers = {
									6 6
								}
								light_infantry = {
									14 14
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
				}
			}
			# DoW on the province top liege
			ROOT = {
				owner = {
					top_liege = {
						reverse_war = {
							target = PREVPREVPREV
							casus_belli = beastmen_uprising
							thirdparty_title = ROOT # The county
						}
						reverse_opinion = {
							who = PREVPREVPREV
							modifier = opinion_prey
						}
					}
				}
			}
		}
		owner = {
			any_liege = {
				# Inform the lieges
				character_event = {
					id = wh_chaos_beastmen.4
				}
			}
		}
	}
}

# On-action combat event: De-hornified in action
character_event = {
	id = wh_chaos_beastmen.53
	desc = EVTDESCbeastmen53
	picture = GFX_evt_battle
	border = GFX_event_normal_frame_war
	is_triggered_only = yes
	culture_group = beastman_group
	only_men = yes

	trigger = {
		NOT = {
			trait = maimed
		}
		OR = {
			trait = horns_average
			trait = horns_big
		}
		trait = creature_beastman
		is_alive = yes
	}

	weight_multiplier = {
		factor = 1
		modifier = {
			factor = 0.25
			has_character_modifier = proving_bravery
		}
		modifier = {
			factor = 1.25
			trait = brave # In this instance daring might be damaging
		}
		modifier = {
			factor = 0.75
			trait = craven
		}
		modifier = {
			trait = clubfooted
			factor = 1.25
		}
		modifier = {
			trait = hunchback
			factor = 1.25
		}
		modifier = {
			trait = lisp
			factor = 1.1
		}
		modifier = {
			trait = stutter
			factor = 1.1
		}
		modifier = {
			trait = dwarf
			factor = 1.25
		}
		modifier = {
			trait = genius
			factor = 0.9
		}
		modifier = {
			trait = quick
			factor = 0.9
		}
		modifier = {
			trait = slow
			factor = 2.0
		}
		modifier = {
			trait = imbecile
			factor = 3.0
		}
		modifier = {
			trait = inbred
			factor = 3.0
		}
		modifier = {
			is_strong_trigger = yes
			factor = 0.7
		}
		modifier = {
			trait = weak
			factor = 2.5
		}
		modifier = {
			factor = 1.25
			trait = stressed
		}
		modifier = {
			factor = 1.25
			trait = depressed
		}
		modifier = {
			factor = 1.75
			trait = lunatic_3
		}
		modifier = {
			factor = 1.5
			trait = lunatic_2
		}
		modifier = {
			factor = 1.25
			trait = lunatic_1
		}
		modifier = {
			factor = 1.5
			trait = possessed
		}
		modifier = {
			factor = 1.1
			trait = ill
		}
		modifier = {
			factor = 1.25
			trait = pneumonic
		}
		modifier = {
			factor = 1.25
			trait = syphilitic
		}
		modifier = {
			factor = 2.0
			trait = leper
		}
		modifier = {
			factor = 1.15
			trait = wounded
		}
		modifier = {
			factor = 2.0
			trait = infirm
		}
		modifier = {
			factor = 3.0
			trait = incapable
		}
		modifier = {
			factor = 1.1
			trait = drunkard
		}
		modifier = {
			factor = 1.1
			trait = has_tuberculosis
		}
		modifier = {
			factor = 1.1
			trait = has_typhoid_fever
		}
		modifier = {
			factor = 1.5
			trait = has_typhus
		}
		modifier = {
			factor = 1.5
			trait = has_bubonic_plague
		}
		modifier = {
			factor = 1.1
			trait = has_measles
		}
		modifier = {
			factor = 1.1
			trait = has_small_pox
		}
	}

	option = {
		name = EVTOPTAbeastmen53
		if = {
			limit = {
				trait = horns_average
			}
			remove_trait = horns_average
			add_trait = horns_none
		}
		if = {
			limit = {
				trait = horns_big
			}
			remove_trait = horns_big
			add_trait = horns_none
		}
	}
}

character_event = {
	id = wh_chaos_beastmen.54
 	hide_window = yes
	capable_only = yes
	culture_group = beastman_group
	only_men = yes
	min_age = 10
	max_age = 14

	trigger = {
		trait = creature_beastman
		nor = {
			trait = horns_none
			trait = horns_small
			trait = horns_average
			trait = horns_big
		}
	}

	immediate = {
 		random_list = {
 			10 = {
				add_trait = horns_big
				modifier = {
					factor = 2
					father_even_if_dead = {
						trait = horns_big
					}
				}
				modifier = {
					factor = 0.75
					father_even_if_dead = {
						trait = horns_small
					}
				}
				modifier = {
					factor = 0.5
					father_even_if_dead = {
						trait = horns_none
					}
				}
				modifier = {
					factor = 1.75
					mother_even_if_dead = {
						trait = strong
					}
				}
				modifier = {
					factor = 1.5
					mother_even_if_dead = {
						trait = tough
					}
				}
				modifier = {
					factor = 1.25
					mother_even_if_dead = {
						trait = hardy
					}
				}
				modifier = {
					factor = 0.85
					mother_even_if_dead = {
						trait = soft
					}
				}
				modifier = {
					factor = 0.75
					mother_even_if_dead = {
						trait = fragile
					}
				}
				modifier = {
					factor = 0.65
					mother_even_if_dead = {
						trait = weak
					}
				}
			}
 			50 = {
				add_trait = horns_average
			}
 			37 = {
				add_trait = horns_small
			}
 			3 = {
				add_trait = horns_none
				modifier = {
					factor = 0.5
					father_even_if_dead = {
						trait = horns_big
					}
				}
				modifier = {
					factor = 1.75
					father_even_if_dead = {
						trait = horns_small
					}
				}
				modifier = {
					factor = 2
					father_even_if_dead = {
						trait = horns_none
					}
				}
				modifier = {
					factor = 0.65
					mother_even_if_dead = {
						trait = strong
					}
				}
				modifier = {
					factor = 0.75
					mother_even_if_dead = {
						trait = tough
					}
				}
				modifier = {
					factor = 0.85
					mother_even_if_dead = {
						trait = hardy
					}
				}
				modifier = {
					factor = 1.25
					mother_even_if_dead = {
						trait = soft
					}
				}
				modifier = {
					factor = 1.5
					mother_even_if_dead = {
						trait = fragile
					}
				}
				modifier = {
					factor = 1.75
					mother_even_if_dead = {
						trait = weak
					}
				}
			}
		}
	}
}

# Cowardly AI: ATTACK, the game compels you! (duchy migration)
character_event = {
	id = wh_chaos_beastmen.55
 	hide_window = yes
	capable_only = yes
	culture_group = beastman_group
	only_men = yes
	only_playable = yes
	is_triggered_only = yes
	prisoner = no

	trigger = {
		ai = yes
		war = no
		trait = creature_beastman
		age = 16
		prestige = 500
		any_realm_province = {
 			any_neighbor_province = {
				owner = {
					nor = {
						trait = creature_beastman
						is_liege_or_above = ROOT
					}
				}
			}
		}
	}

	weight_multiplier = {
		factor = 1
		modifier = {
			factor = 2.75
			trait = morghur
		}
	}

	immediate = {
		random_realm_province = {
 			random_neighbor_province = {
 				limit = {
					owner = {
						NOT = {
							trait = creature_beastman
						}
						NOT = {
							is_liege_or_above = ROOT
						}
					}
				}
 				dejure_liege_title = {
 					owner = {
 						ROOT = {
 							war = {
 								casus_belli = beastman_migration
 								target = PREV
 								thirdparty_title = PREVPREV

							}
						}
					}
				}
			}
		}
	}
}

# Random civilized people try and take land back (on five years pulse)
character_event = {
	id = wh_chaos_beastmen.56
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		higher_tier_than = COUNT
		trait = creature_beastman
		any_demesne_province = {
			NOT = {
				culture = beastman_main
			}
		}
	}

	weight_multiplier = {
		factor = 1
		modifier = {
			factor = 1.25
			war = yes
		}
		modifier = {
			factor = 1.25
			independent = no
			distance = {
				where = liege
				value = 25
			} # faraway vassals shall surely go indipendent
		}
		modifier = {
			factor = 2.5
			independent = no
			distance = {
				where = liege
				value = 50
			} # faraway vassals shall surely go indipendent
		}
		modifier = {
			factor = 2
			trait = craven
		}
		modifier = {
			factor = 1.5
			trait = shy
		}
		modifier = {
			factor = 1.5
			trait = content
		}
		modifier = {
			factor = 1.75
			trait = incapable
		}
		modifier = {
			factor = 1.5
			is_feudal = yes
		}
		modifier = {
			factor = 1.5
			independent = no
			liege = {
				realm_size = 200
			}
		}
		modifier = {
			factor = 1.75
			independent = no
			liege = {
				realm_size = 300
			}
		}
		modifier = {
			factor = 2.5
			independent = no
			liege = {
				realm_size = 500
			}
		}
	}

	immediate = {
		random_demesne_province = {
			limit = {
				NOT = {
					culture = beastman_main
				}
			}
			province_event = {
				id = wh_chaos_beastmen.57
			}
		}
	}
}

# Peasant Rebels rise up on_death to take back civilized lands
province_event = {
	id = wh_chaos_beastmen.57
	desc = EVTDESCbeastmen57
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_war
	is_triggered_only = yes

	immediate = {
		create_character = {
			random_traits = yes
			dynasty = none
			religion = ROOT
			culture = ROOT
			female = no
			age = 25
			attributes = {
				martial = 5
			}
			trait = peasant_leader
			trait = tough_soldier
		}
		new_character = {
			create_title = {
				tier = DUKE
				landless = yes
				temporary = yes
				rebel = yes
				culture = ROOT
				name = "PEASANT_REVOLT"
				holder = THIS
			}
			random_list = {
				17 = {
					spawn_unit = {
						province = ROOT
						home = ROOT
						owner = THIS
						leader = THIS
						scaled_by_biggest_garrison = 1.25
						troops = {
							archers = {
								6 6
							}
							light_cavalry = {
								4 4
							}
							light_infantry = {
								10 10
							}
							heavy_infantry = {
								5 5
							}
						}
						attrition = 1.0
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 30
						trait = peasant_leader
						trait = tough_soldier
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 1.25
							troops = {
								archers = {
									6 6
								}
								light_cavalry = {
									4 4
								}
								light_infantry = {
									10 10
								}
								heavy_infantry = {
									5 5
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 31
						trait = peasant_leader
						trait = tough_soldier
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 1.25
							troops = {
								archers = {
									6 6
								}
								light_cavalry = {
									4 4
								}
								light_infantry = {
									10 10
								}
								heavy_infantry = {
									5 5
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
				}
				17 = {
					spawn_unit = {
						province = ROOT
						home = ROOT
						owner = THIS
						leader = THIS
						scaled_by_biggest_garrison = 1.25
						troops = {
							archers = {
								6 6
							}
							light_cavalry = {
								4 4
							}
							light_infantry = {
								10 10
							}
							heavy_infantry = {
								5 5
							}
						}
						attrition = 1.0
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 30
						trait = peasant_leader
						trait = tough_soldier
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 1.25
							troops = {
								archers = {
									6 6
								}
								light_cavalry = {
									4 4
								}
								light_infantry = {
									10 10
								}
								heavy_infantry = {
									5 5
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 31
						trait = peasant_leader
						trait = tough_soldier
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.5
							troops = {
								archers = {
									6 6
								}
								light_cavalry = {
									4 4
								}
								light_infantry = {
									10 10
								}
								heavy_infantry = {
									5 5
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
				}
				16 = {
					spawn_unit = {
						province = ROOT
						home = ROOT
						owner = THIS
						leader = THIS
						scaled_by_biggest_garrison = 0.75
						troops = {
							archers = {
								6 6
							}
							light_cavalry = {
								3 3
							}
							light_infantry = {
								11 11
							}
							heavy_infantry = {
								5 5
							}
						}
						attrition = 1.0
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 30
						trait = peasant_leader
						trait = tough_soldier
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 1.25
							troops = {
								archers = {
									6 6
								}
								light_cavalry = {
									3 3
								}
								light_infantry = {
									11 11
								}
								heavy_infantry = {
									5 5
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 31
						trait = peasant_leader
						trait = tough_soldier
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 1.25
							troops = {
								archers = {
									6 6
								}
								light_cavalry = {
									3 3
								}
								light_infantry = {
									11 11
								}
								heavy_infantry = {
									5 5
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
				}
				17 = {
					spawn_unit = {
						province = ROOT
						home = ROOT
						owner = THIS
						leader = THIS
						scaled_by_biggest_garrison = 1.25
						troops = {
							archers = {
								6 6
							}
							light_cavalry = {
								3 3
							}
							light_infantry = {
								11 11
							}
							heavy_infantry = {
								5 5
							}
						}
						attrition = 1.0
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 30
						trait = peasant_leader
						trait = tough_soldier
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 1.25
							troops = {
								archers = {
									6 6
								}
								light_cavalry = {
									3 3
								}
								light_infantry = {
									11 11
								}
								heavy_infantry = {
									5 5
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 31
						trait = peasant_leader
						trait = tough_soldier
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 1.25
							troops = {
								archers = {
									6 6
								}
								light_cavalry = {
									3 3
								}
								light_infantry = {
									11 11
								}
								heavy_infantry = {
									5 5
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
				}
				16 = {
					spawn_unit = {
						province = ROOT
						home = ROOT
						owner = THIS
						leader = THIS
						scaled_by_biggest_garrison = 0.95
						troops = {
							archers = {
								6 6
							}
							light_infantry = {
								14 14
							}
							heavy_infantry = {
								5 5
							}
						}
						attrition = 1.0
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 30
						trait = peasant_leader
						trait = tough_soldier
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.95
							troops = {
								archers = {
									6 6
								}
								light_infantry = {
									14 14
								}
								heavy_infantry = {
									5 5
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 31
						trait = peasant_leader
						trait = tough_soldier
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.95
							troops = {
								archers = {
									6 6
								}
								light_infantry = {
									14 14
								}
								heavy_infantry = {
									5 5
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
				}
				17 = {
					spawn_unit = {
						province = ROOT
						home = ROOT
						owner = THIS
						leader = THIS
						scaled_by_biggest_garrison = 0.75
						troops = {
							archers = {
								6 6
							}
							light_infantry = {
								14 14
							}
							heavy_infantry = {
								5 5
							}
						}
						attrition = 1.0
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 30
						trait = peasant_leader
						trait = tough_soldier
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.75
							troops = {
								archers = {
									6 6
								}
								light_infantry = {
									14 14
								}
								heavy_infantry = {
									5 5
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 31
						trait = peasant_leader
						trait = tough_soldier
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.75
							troops = {
								archers = {
									6 6
								}
								light_infantry = {
									14 14
								}
								heavy_infantry = {
									5 5
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
				}
			}
			# DoW on the province top liege
			ROOT = {
				owner = {
					top_liege = {
						reverse_war = {
							target = PREVPREVPREV
							casus_belli = peasant_revolt
							thirdparty_title = ROOT # The county
						}
						reverse_opinion = {
							who = PREVPREVPREV
							modifier = opinion_evil_tyrant
						}
					}
				}
			}
		}
		owner = {
			any_liege = {
				# Inform the lieges
				character_event = {
					id = wh_chaos_beastmen.58
				}
			}
		}
	}

	option = {
		name = "EVTOPTAbeastmen57"
	}
}

character_event = {
	id = wh_chaos_beastmen.58
	desc = EVTDESCbeastmen58
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_war
	ai = no
	is_triggered_only = yes

	option = {
		name = "EVTOPTAbeastmen58"
	}
}

# Beastman childhood trait
character_event = {
	id = wh_chaos_beastmen.59
	hide_window = yes
	min_age = 8
 	max_age = 16
	culture_group = beastman_group
	is_triggered_only = yes

 	trigger = {
		trait = creature_beastman
	}

	immediate = {
		random_list = {
			10 = {
				character_event = {
					id = wh_chaos_beastmen.60
				}
			} # wroth
			10 = {
				character_event = {
					id = wh_chaos_beastmen.61
				}
			} # envious
			10 = {
				character_event = {
					id = wh_chaos_beastmen.62
				}
			} # ambitious
			10 = {
				character_event = {
					id = wh_chaos_beastmen.63
				}
			} # lustful
			60 = {
			}
		}
	}
}

# Beastman childhood wrath
character_event = {
	id = wh_chaos_beastmen.60
	desc = EVTDESCbeastmen60
	picture = GFX_evt_beastmen_kids
	border = GFX_event_normal_frame_war
	culture_group = beastman_group
	is_triggered_only = yes

 	trigger = {
		trait = creature_beastman
		not = {
			trait = wroth
		}
	}

	option = {
		name = EVTOPTAbeastmen60
		remove_trait = kind
		remove_trait = patient
		add_trait = wroth
		guardian = {
			character_event = {
				id = wh_chaos_beastmen.60005
			}
		}
	}
}

# Notify Guardian
character_event = {
	id = wh_chaos_beastmen.60005
	desc = EVTDESCbeastmen60005
	picture = GFX_evt_beastmen_kids
	border = GFX_event_normal_frame_war
	ai = no
	is_triggered_only = yes

	option = {
		name = EVTOPTAbeastmen60005
	}
}

# Beastman childhood cruelty
character_event = {
	id = wh_chaos_beastmen.61
	desc = EVTDESCbeastmen61
	picture = GFX_evt_beastmen_kids
	border = GFX_event_normal_frame_war
	culture_group = beastman_group
	is_triggered_only = yes

 	trigger = {
		trait = creature_beastman
		not = {
			trait = cruel
		}
	}

	option = {
		name = EVTOPTAbeastmen61
		remove_trait = kind
		add_trait = cruel
		guardian = {
			character_event = {
				id = wh_chaos_beastmen.61005
			}
		}
	}
}

# Notify Guardian
character_event = {
	id = wh_chaos_beastmen.61005
	desc = EVTDESCbeastmen61005
	picture = GFX_evt_beastmen_kids
	border = GFX_event_normal_frame_war
	ai = no
	is_triggered_only = yes

	option = {
		name = EVTOPTAbeastmen61005
	}
}

# Beastman childhood ambitious
character_event = {
	id = wh_chaos_beastmen.62
	desc = EVTDESCbeastmen62
	picture = GFX_evt_beastmen_kids
	border = GFX_event_normal_frame_war
	culture_group = beastman_group
	is_triggered_only = yes

 	trigger = {
		trait = creature_beastman
		is_female = no
		not = {
			trait = ambitious
		}
	}

	option = {
		name = EVTOPTAbeastmen62
		remove_trait = kind
		remove_trait = content
		add_trait = ambitious
		guardian = {
			character_event = {
				id = wh_chaos_beastmen.62005
			}
		}
	}
}

# Notify Guardian
character_event = {
	id = wh_chaos_beastmen.62005
	desc = EVTDESCbeastmen62005
	picture = GFX_evt_beastmen_kids
	border = GFX_event_normal_frame_war
	ai = no
	is_triggered_only = yes

	option = {
		name = EVTOPTAbeastmen62005
	}
}

# Beastman childhood lust
character_event = {
	id = wh_chaos_beastmen.63
	desc = EVTDESCbeastmen63
	picture = GFX_evt_beastmen_kids
	border = GFX_event_normal_frame_war
	culture_group = beastman_group
	is_triggered_only = yes

 	trigger = {
		trait = creature_beastman
		not = {
			trait = lustful
		}
	}

	option = {
		name = EVTOPTAbeastmen63
		remove_trait = chaste
		remove_trait = celibate
		add_trait = lustful
		guardian = {
			character_event = {
				id = wh_chaos_beastmen.63005
			}
		}
	}
}

# Notify Guardian
character_event = {
	id = wh_chaos_beastmen.63005
	desc = EVTDESCbeastmen63005
	picture = GFX_evt_beastmen_kids
	border = GFX_event_normal_frame_war
	ai = no
	is_triggered_only = yes

	option = {
		name = EVTOPTAbeastmen63005
	}
}

# on_inheritance event to stop duplicate clan titles
character_event = {
	id = wh_chaos_beastmen.999
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		government = beastman_government
		any_demesne_title = {
			count = 2
			clan = yes
		}
	}

	immediate = {
		random_demesne_title = {
			limit = {
				clan = yes
			}
			activate_title = {
				title = THIS
				status = no
			}
		}
	}
}
