
# from is killer, this/root is victim
wh_execution_opinion_effect = {
	# elves
	FROM = {
		any_vassal = {
			limit = {
				religion = cadai
			}
			opinion = {
				modifier = opinion_barbaric
				who = FROM
			}
		}
	}
	# vassals
	if = {
		limit = {
			liege = {
				character = FROM
			}
			FROM = {
				nor = {
					has_opinion_modifier = {
						who = ROOT modifier = opinion_traitor
					}
					has_opinion_modifier = {
						who = ROOT modifier = opinion_rebel_traitor
					}
					has_opinion_modifier = {
						who = ROOT modifier = opinion_dishonorable
					}
					has_opinion_modifier = {
						who = ROOT modifier = opinion_confirmed_heretic
					}
					has_opinion_modifier = {
						who = ROOT modifier = opinion_burned_by_asuryan
					}
				}
				religion = ROOT
			}
		}
		FROM = {
			any_vassal = {
				limit = {
					religion = FROM
				}
				opinion = {
					modifier = opinion_tyrant
					who = FROM
				}
			}
		}
		FROM = {
			any_courtier = {
				limit = {
					religion = FROM
					is_landed = no
				}
				opinion = {
					modifier = opinion_tyrant
					who = FROM
				}
			}
		}
	}
	# dynasty
	if = {
		limit = {
			dynasty = FROM
			FROM = {
				OR = {
					trait = creature_human
					trait = creature_amazon
					trait = creature_elf
					trait = creature_dwarf
					trait = creature_chaos_dwarf
				}
			}
		}
		FROM = {
			add_trait = kinslayer
		}
	}
	# dynasty of victim
	any_dynasty_member = {
		limit = {
			is_close_relative = ROOT
			NOT = {
				character = FROM
			}
		}
		opinion = {
			who = FROM
			modifier = evil_murderer
		}
	}
	any_lover = {
		limit = {
			NOT = {
				character = FROM
			}
		}
		opinion = {
			who = FROM
			modifier = evil_murderer
		}
	}
	any_friend = {
		limit = {
			NOT = {
				character = FROM
			}
		}
		opinion = {
			who = FROM
			modifier = evil_murderer
		}
	}
	# Notify Cruel
	FROM = {
		if = {
			limit = {
				NOT = {
					trait = cruel
				}
			}
			random = {
				chance = 10
				add_trait = cruel
				hidden_tooltip = {
					character_event = {
						id = 38259
					}
				}
			}
		}
	}
}

wh_reveal_magic_potential_effect = {
	if = {
		limit = {
			has_character_flag = magic_potential_flag_1
		}
		clr_character_flag = magic_potential_flag_1
		add_trait = magic_potential_1
	}
	if = {
		limit = {
			has_character_flag = magic_potential_flag_2
		}
		clr_character_flag = magic_potential_flag_2
		add_trait = magic_potential_2
	}
	if = {
		limit = {
			has_character_flag = magic_potential_flag_3
		}
		clr_character_flag = magic_potential_flag_3
		add_trait = magic_potential_3
	}
	if = {
		limit = {
			has_character_flag = magic_potential_flag_4
		}
		clr_character_flag = magic_potential_flag_4
		add_trait = magic_potential_4
	}
}

wh_hide_magic_potential_effect = {
	if = {
		limit = {
			trait = magic_potential_4
		}
		remove_trait = magic_potential_4
		set_character_flag = magic_potential_flag_4
	}
	if = {
		limit = {
			trait = magic_potential_3
		}
		remove_trait = magic_potential_3
		set_character_flag = magic_potential_flag_3
	}
	if = {
		limit = {
			trait = magic_potential_2
		}
		remove_trait = magic_potential_2
		set_character_flag = magic_potential_flag_2
	}
	if = {
		limit = {
			trait = magic_potential_1
		}
		remove_trait = magic_potential_1
		set_character_flag = magic_potential_flag_1
	}
}

wh_update_chaos_dwarf_slave_factory_effect = {
	if = {
		limit = {
			OR = {
				is_feudal = yes
				AND = {
					government = chaosdwarf_government
					capital_holding = {
						holding_type = castle
					}
				}
			}
		}
		capital_holding = {
			if = {
				limit = {
					has_building = ca_chaos_dwarf_factory_3
					not = {
						has_building = ca_chaos_dwarf_factory_4
					}
				}
			}
			add_building = ca_chaos_dwarf_factory_4
			if = {
				limit = {
					has_building = ca_chaos_dwarf_factory_2
					not = {
						has_building = ca_chaos_dwarf_factory_3
					}
				}
				add_building = ca_chaos_dwarf_factory_3
			}
			if = {
				limit = {
					has_building = ca_chaos_dwarf_factory_1
					not = {
						has_building = ca_chaos_dwarf_factory_2
					}
				}
				add_building = ca_chaos_dwarf_factory_2
			}
			if = {
				limit = {
					NOT = {
						has_building = ca_chaos_dwarf_factory_1
					}
				}
				add_building = ca_chaos_dwarf_factory_1
			}
		}
	}
	if = {
		limit = {
			is_republic = yes
			is_patrician = no
		}
		capital_holding = {
			if = {
				limit = {
					has_building = ct_chaos_dwarf_factory_3
					not = {
						has_building = ct_chaos_dwarf_factory_4
					}
				}
			}
			add_building = ct_chaos_dwarf_factory_4
			if = {
				limit = {
					has_building = ct_chaos_dwarf_factory_2
					not = {
						has_building = ct_chaos_dwarf_factory_3
					}
				}
				add_building = ct_chaos_dwarf_factory_3
			}
			if = {
				limit = {
					has_building = ct_chaos_dwarf_factory_1
					not = {
						has_building = ct_chaos_dwarf_factory_2
					}
				}
				add_building = ct_chaos_dwarf_factory_2
			}
			if = {
				limit = {
					NOT = {
						has_building = ct_chaos_dwarf_factory_1
					}
				}
				add_building = ct_chaos_dwarf_factory_1
			}
		}
	}
	if = {
		limit = {
			is_patrician = yes
		}
		family_palace = {
			if = {
				limit = {
					has_building = fp_chaos_dwarf_factory_3
					not = {
						has_building = fp_chaos_dwarf_factory_4
					}
				}
			}
			add_building = fp_chaos_dwarf_factory_4
			if = {
				limit = {
					has_building = fp_chaos_dwarf_factory_2
					not = {
						has_building = fp_chaos_dwarf_factory_3
					}
				}
				add_building = fp_chaos_dwarf_factory_3
			}
			if = {
				limit = {
					has_building = fp_chaos_dwarf_factory_1
					not = {
						has_building = fp_chaos_dwarf_factory_2
					}
				}
				add_building = fp_chaos_dwarf_factory_2
			}
			if = {
				limit = {
					NOT = {
						has_building = fp_chaos_dwarf_factory_1
					}
				}
				add_building = fp_chaos_dwarf_factory_1
			}
		}
	}
	if = {
		limit = {
			OR = {
				is_theocracy = yes
				AND = {
					government = chaosdwarf_government
					capital_holding = {
						holding_type = temple
					}
				}
			}
		}
		family_palace = {
			if = {
				limit = {
					has_building = tp_chaos_dwarf_factory_3
					not = {
						has_building = tp_chaos_dwarf_factory_4
					}
				}
			}
			add_building = tp_chaos_dwarf_factory_4
			if = {
				limit = {
					has_building = tp_chaos_dwarf_factory_2
					not = {
						has_building = tp_chaos_dwarf_factory_3
					}
				}
				add_building = tp_chaos_dwarf_factory_3
			}
			if = {
				limit = {
					has_building = tp_chaos_dwarf_factory_1
					not = {
						has_building = tp_chaos_dwarf_factory_2
					}
				}
				add_building = tp_chaos_dwarf_factory_2
			}
			if = {
				limit = {
					NOT = {
						has_building = tp_chaos_dwarf_factory_1
					}
				}
				add_building = tp_chaos_dwarf_factory_1
			}
		}
	}
}

wh_update_chaos_dwarf_slave_levy_effect = {
	if = {
		limit = {
			OR = {
				is_feudal = yes
				AND = {
					government = chaosdwarf_government
					capital_holding = {
						holding_type = castle
					}
				}
			}
		}
		capital_holding = {
			if = {
				limit = {
					has_building = ca_chaos_dwarf_slave_levy_3
					not = {
						has_building = ca_chaos_dwarf_slave_levy_4
					}
				}
			}
			add_building = ca_chaos_dwarf_slave_levy_4
			if = {
				limit = {
					has_building = ca_chaos_dwarf_slave_levy_2
					not = {
						has_building = ca_chaos_dwarf_slave_levy_3
					}
				}
				add_building = ca_chaos_dwarf_slave_levy_3
			}
			if = {
				limit = {
					has_building = ca_chaos_dwarf_slave_levy_1
					not = {
						has_building = ca_chaos_dwarf_slave_levy_2
					}
				}
				add_building = ca_chaos_dwarf_slave_levy_2
			}
			if = {
				limit = {
					NOT = {
						has_building = ca_chaos_dwarf_slave_levy_1
					}
				}
				add_building = ca_chaos_dwarf_slave_levy_1
			}
		}
	}
	if = {
		limit = {
			is_republic = yes
			is_patrician = no
		}
		capital_holding = {
			if = {
				limit = {
					has_building = ct_chaos_dwarf_slave_levy_3
					not = {
						has_building = ct_chaos_dwarf_slave_levy_4
					}
				}
			}
			add_building = ct_chaos_dwarf_slave_levy_4
			if = {
				limit = {
					has_building = ct_chaos_dwarf_slave_levy_2
					not = {
						has_building = ct_chaos_dwarf_slave_levy_3
					}
				}
				add_building = ct_chaos_dwarf_slave_levy_3
			}
			if = {
				limit = {
					has_building = ct_chaos_dwarf_slave_levy_1
					not = {
						has_building = ct_chaos_dwarf_slave_levy_2
					}
				}
				add_building = ct_chaos_dwarf_slave_levy_2
			}
			if = {
				limit = {
					NOT = {
						has_building = ct_chaos_dwarf_slave_levy_1
					}
				}
				add_building = ct_chaos_dwarf_slave_levy_1
			}
		}
	}
	if = {
		limit = {
			is_patrician = yes
		}
		family_palace = {
			if = {
				limit = {
					has_building = fp_chaos_dwarf_slave_levy_3
					not = {
						has_building = fp_chaos_dwarf_slave_levy_4
					}
				}
			}
			add_building = fp_chaos_dwarf_slave_levy_4
			if = {
				limit = {
					has_building = fp_chaos_dwarf_slave_levy_2
					not = {
						has_building = fp_chaos_dwarf_slave_levy_3
					}
				}
				add_building = fp_chaos_dwarf_slave_levy_3
			}
			if = {
				limit = {
					has_building = fp_chaos_dwarf_slave_levy_1
					not = {
						has_building = fp_chaos_dwarf_slave_levy_2
					}
				}
				add_building = fp_chaos_dwarf_slave_levy_2
			}
			if = {
				limit = {
					NOT = {
						has_building = fp_chaos_dwarf_slave_levy_1
					}
				}
				add_building = fp_chaos_dwarf_slave_levy_1
			}
		}
	}
	if = {
		limit = {
			OR = {
				is_theocracy = yes
				AND = {
					government = chaosdwarf_government
					capital_holding = {
						holding_type = temple
					}
				}
			}
		}
		family_palace = {
			if = {
				limit = {
					has_building = tp_chaos_dwarf_slave_levy_3
					not = {
						has_building = tp_chaos_dwarf_slave_levy_4
					}
				}
			}
			add_building = tp_chaos_dwarf_slave_levy_4
			if = {
				limit = {
					has_building = tp_chaos_dwarf_slave_levy_2
					not = {
						has_building = tp_chaos_dwarf_slave_levy_3
					}
				}
				add_building = tp_chaos_dwarf_slave_levy_3
			}
			if = {
				limit = {
					has_building = tp_chaos_dwarf_slave_levy_1
					not = {
						has_building = tp_chaos_dwarf_slave_levy_2
					}
				}
				add_building = tp_chaos_dwarf_slave_levy_2
			}
			if = {
				limit = {
					NOT = {
						has_building = tp_chaos_dwarf_slave_levy_1
					}
				}
				add_building = tp_chaos_dwarf_slave_levy_1
			}
		}
	}
}

# make demon from character
wh_make_flamer_tzeentch_effect = {
	set_graphical_culture = flamer_tzeentch
	culture = flamer_tzeentch
	religion = tzeentch
	remove_trait = kind
	remove_trait = content
	remove_trait = humble
	remove_trait = temperate
	remove_trait = slothful
	remove_trait = charitable
	remove_trait = infirm
	remove_trait = incapable
	remove_trait = wounded
	remove_trait = blinded
	remove_trait = idiot
	remove_trait = imbecile
	remove_trait = dim
	remove_trait = dumb
	remove_trait = bright
	remove_trait = brilliant
	remove_trait = quick
	remove_trait = witch_hunter
	remove_trait = on_witch_hunt
	remove_trait = has_nurgles_rot
	remove_trait = creature_human
	remove_trait = creature_dwarf
	remove_trait = creature_chaos_dwarf
	remove_trait = creature_elf
	remove_trait = creature_amazon
	remove_trait = creature_beastman
	add_trait = ambitious
	add_trait = proud
	add_trait = greedy
	add_trait = genius
	add_trait = tzeentch_demon
	add_trait = tzeentch_flamer
	set_character_flag = ai_flag_refuse_conversion
	set_character_flag = special_marshal
	health = 25
	any_lover = {
		remove_lover = ROOT
	}
	any_friend = {
		remove_friend = ROOT
	}
	any_spouse = {
		remove_spouse = ROOT
	}
	if = {
		limit = {
			NOT = {
				intrigue = 20
			}
		}
		change_intrigue = 15
	}
	if = {
		limit = {
			NOT = {
				learning = 20
			}
		}
		change_learning = 15
	}
	if = {
		limit = {
			martial = 15
		}
		change_martial = -7
	}
}

wh_make_plaguebearer_nurgle_effect = {
	set_graphical_culture = plaguebearer_nurgle
	culture = plaguebearer_nurgle
	religion = nurgle
	remove_trait = cruel
	remove_trait = ambitious
	remove_trait = proud
	remove_trait = gluttonous
	remove_trait = diligent
	remove_trait = greedy
	remove_trait = infirm
	remove_trait = incapable
	remove_trait = scarred
	remove_trait = idiot
	remove_trait = imbecile
	remove_trait = dim
	remove_trait = dumb
	remove_trait = bright
	remove_trait = brilliant
	remove_trait = quick
	remove_trait = witch_hunter
	remove_trait = on_witch_hunt
	remove_trait = creature_human
	remove_trait = creature_dwarf
	remove_trait = creature_chaos_dwarf
	remove_trait = creature_elf
	remove_trait = creature_amazon
	remove_trait = creature_beastman
	add_trait = content
	add_trait = humble
	add_trait = charitable
	add_trait = has_nurgles_rot
	add_trait = leper
	add_trait = nurgle_demon
	add_trait = nurgle_plaguebearer
	add_trait = ill
	set_character_flag = ai_flag_refuse_conversion
	set_character_flag = special_marshal
	health = 25
	random_list = {
		25 = {
			add_trait = has_tuberculosis
		}
		25 = {
			add_trait = has_typhoid_fever
		}
		25 = {
			add_trait = has_bubonic_plague
		}
		25 = {
			add_trait = has_measles
		}

	}
	random_list = {
		25 = {
			add_trait = has_small_pox
		}
		25 = {
			add_trait = syphilitic
		}
		25 = {
			add_trait = pneumonic
		}
		25 = {
			add_trait = has_typhus
		}

	}
	any_lover = {
		remove_lover = ROOT
	}
	any_friend = {
		remove_friend = ROOT
	}
	any_spouse = {
		remove_spouse = ROOT
	}
	if = {
		limit = {
			NOT = {
				stewardship = 20
			}
		}
		change_stewardship = 15

	}
	if = {
		limit = {
			NOT = {
				diplomacy = 20
			}
		}
		change_diplomacy = 15

	}
	if = {
		limit = {
			martial = 15
		}
		change_martial = -7

	}
}

wh_make_daemonette_slaanesh_effect = {
	set_graphical_culture = daemonette_slaanesh
	culture = daemonette_slaanesh
	religion = slaanesh
	remove_trait = kind
	remove_trait = chaste
	remove_trait = celibate
	remove_trait = content
	remove_trait = humble
	remove_trait = temperate
	remove_trait = diligent
	remove_trait = charitable
	remove_trait = infirm
	remove_trait = incapable
	remove_trait = wounded
	remove_trait = blinded
	remove_trait = idiot
	remove_trait = imbecile
	remove_trait = dim
	remove_trait = dumb
	remove_trait = bright
	remove_trait = brilliant
	remove_trait = quick
	remove_trait = witch_hunter
	remove_trait = on_witch_hunt
	remove_trait = creature_human
	remove_trait = creature_dwarf
	remove_trait = creature_chaos_dwarf
	remove_trait = creature_elf
	remove_trait = creature_amazon
	remove_trait = creature_beastman
	remove_trait = has_nurgles_rot
	remove_trait = ill
	add_trait = cruel
	add_trait = deceitful
	add_trait = slaanesh_demon
	add_trait = slaanesh_daemonette
	set_character_flag = ai_flag_refuse_conversion
	set_character_flag = special_marshal
	health = 25
	random_list = {
		25 = {
			add_trait = lustful
		}
		25 = {
			add_trait = greedy
		}
		25 = {
			add_trait = gluttonous
		}
		25 = {
			add_trait = slothful
		}
		25 = {
			add_trait = proud
		}
		25 = {
			add_trait = envious
		}
	}
	any_lover = {
		remove_lover = ROOT
	}
	any_friend = {
		remove_friend = ROOT
	}
	any_spouse = {
		remove_spouse = ROOT
	}
	if = {
		limit = {
			NOT = {
				intrigue = 20
			}
		}
		change_intrigue = 15
	}
	if = {
		limit = {
			NOT = {
				diplomacy = 20
			}
		}
		change_diplomacy = 15
	}
	if = {
		limit = {
			stewardship = 15
		}
		change_stewardship = -7
	}
}

wh_make_bloodletter_khorne_effect = {
	set_graphical_culture = bloodletter_khorne
	culture = bloodletter_khorne
	religion = khorne
	remove_trait = kind
	remove_trait = chaste
	remove_trait = patient
	remove_trait = content
	remove_trait = humble
	remove_trait = temperate
	remove_trait = diligent
	remove_trait = charitable
	remove_trait = infirm
	remove_trait = incapable
	remove_trait = wounded
	remove_trait = blinded
	remove_trait = weak
	remove_trait = fragile
	remove_trait = soft
	remove_trait = hardy
	remove_trait = tough
	remove_trait = strong
	remove_trait = witch_hunter
	remove_trait = on_witch_hunt
	remove_trait = creature_human
	remove_trait = creature_dwarf
	remove_trait = creature_chaos_dwarf
	remove_trait = creature_elf
	remove_trait = creature_amazon
	remove_trait = creature_beastman
	remove_trait = has_nurgles_rot
	remove_trait = ill
	add_trait = wroth
	add_trait = honest
	add_trait = khorne_demon
	add_trait = khorne_bloodletter
	set_character_flag = ai_flag_refuse_conversion
	set_character_flag = special_marshal
	health = 25
	random_list = {
		25 = {
			add_trait = ambitious
		}
		25 = {
			add_trait = gregarious
		}
		25 = {
			add_trait = diligent
		}
		25 = {
			add_trait = proud
		}

	}
	any_lover = {
		remove_lover = ROOT
	}
	any_friend = {
		remove_friend = ROOT
	}
	any_spouse = {
		remove_spouse = ROOT
	}
	if = {
		limit = {
			NOT = {
				martial = 20
			}
		}
		change_martial = 15

	}
	if = {
		limit = {
			intrigue = 15
		}
		change_intrigue = -7

	}
}

wh_improve_strength_effect = {
	if = {
		limit = {
			trait = tough
		}
		remove_trait = tough
		add_trait = strong
	}
	if = {
		limit = {
			trait = hardy
		}
		remove_trait = hardy
		add_trait = strong
	}
	if = {
		limit = {
			NOT = {
				trait = strong
				trait = tough
				trait = hardy
				trait = soft
				trait = fragile
				trait = weak
			}
		}
		add_trait = tough
	}
	if = {
		limit = {
			trait = soft
		}
		remove_trait = soft
		add_trait = tough
	}
	if = {
		limit = {
			trait = fragile
		}
		remove_trait = fragile
		add_trait = hardy
	}
	if = {
		limit = {
			trait = weak
		}
		remove_trait = weak
		add_trait = hardy
	}
}

wh_improve_beauty_effect = {
	if = {
		limit = {
			trait = pretty
		}
		remove_trait = pretty
		add_trait = beautiful
	}
	if = {
		limit = {
			trait = fair
		}
		remove_trait = fair
		add_trait = beautiful
	}
	if = {
		limit = {
			nor = {
				trait = beautiful
				trait = pretty
				trait = fair
				trait = plain
				trait = ugly
				trait = unsightly
			}

		}
		add_trait = pretty
	}
	if = {
		limit = {
			trait = plain
		}
		remove_trait = plain
		add_trait = pretty
	}
	if = {
		limit = {
			trait = ugly
		}
		remove_trait = ugly
		add_trait = fair
	}
	if = {
		limit = {
			trait = unsightly
		}
		remove_trait = unsightly
		add_trait = fair
	}
}

wh_improve_intelligence_effect = {
	if = {
		limit = {
			trait = brilliant
		}
		remove_trait = brilliant
		add_trait = genius
	}
	if = {
		limit = {
			trait = quick
		}
		remove_trait = quick
		add_trait = genius
	}
	if = {
		limit = {
			trait = smart
		}
		remove_trait = smart
		add_trait = genius
	}
	if = {
		limit = {
			trait = bright
		}
		remove_trait = bright
		add_trait = brilliant
	}
	if = {
		limit = {
			nor = {
				trait = genius
				trait = brilliant
				trait = quick
				trait = smart
				trait = bright
				trait = dim
				trait = dumb
				trait = slow
				trait = idiot
				trait = imbecile
			}

		}
		add_trait = brilliant
	}
	if = {
		limit = {
			trait = dim
		}
		remove_trait = dim
		add_trait = quick
	}
	if = {
		limit = {
			trait = dumb
		}
		remove_trait = dumb
		add_trait = quick
	}
	if = {
		limit = {
			trait = slow
		}
		remove_trait = slow
		add_trait = quick
	}
	if = {
		limit = {
			trait = idiot
		}
		remove_trait = idiot
		add_trait = quick
	}
	if = {
		limit = {
			trait = imbecile
		}
		remove_trait = imbecile
		add_trait = bright
	}
}

wh_clear_not_khorne_favor_effect = {
	if = {
		limit = {
			OR = {
				check_variable = {
					which = "nurgle_favor"
					value = 1
				}
				check_variable = {
					which = "slaanesh_favor"
					value = 1
				}
				check_variable = {
					which = "tzeentch_favor"
					value = 1
				}
			}
		}
		set_variable = {
			which = "nurgle_favor"
			value = 0
		}
		set_variable = {
			which = "slaanesh_favor"
			value = 0
		}
		set_variable = {
			which = "tzeentch_favor"
			value = 0
		}
	}
}

wh_clear_not_nurgule_favor_effect = {
	if = {
		limit = {
			OR = {
				check_variable = {
					which = "khorne_favor"
					value = 1
				}
				check_variable = {
					which = "slaanesh_favor"
					value = 1
				}
				check_variable = {
					which = "tzeentch_favor"
					value = 1
				}
			}
		}
		set_variable = {
			which = "khorne_favor"
			value = 0
		}
		set_variable = {
			which = "slaanesh_favor"
			value = 0
		}
		set_variable = {
			which = "tzeentch_favor"
			value = 0
		}
	}
}

wh_clear_not_slaanesh_favor_effect = {
	if = {
		limit = {
			OR = {
				check_variable = {
					which = "khorne_favor"
					value = 1
				}
				check_variable = {
					which = "nurgle_favor"
					value = 1
				}
				check_variable = {
					which = "tzeentch_favor"
					value = 1
				}
			}
		}
		set_variable = {
			which = "khorne_favor"
			value = 0
		}
		set_variable = {
			which = "nurgle_favor"
			value = 0
		}
		set_variable = {
			which = "tzeentch_favor"
			value = 0
		}
	}
}

wh_clear_not_tzeentch_favor_effect = {
	if = {
		limit = {
			OR = {
				check_variable = {
					which = "khorne_favor"
					value = 1
				}
				check_variable = {
					which = "nurgle_favor"
					value = 1
				}
				check_variable = {
					which = "slaanesh_favor"
					value = 1
				}
			}
		}
		set_variable = {
			which = "khorne_favor"
			value = 0
		}
		set_variable = {
			which = "nurgle_favor"
			value = 0
		}
		set_variable = {
			which = "slaanesh_favor"
			value = 0
		}
	}
}

wh_add_mutation_effect = {
	random_list = {
		# thirdeye
		7 = {
			modifier = {
 				factor = 0
 				trait = mut_eyes
			}
			modifier = {
 				factor = 1.5
 				religion = tzeentch
			}
			character_event = {
				id = mutation.2
			}
		}
		# spines
		8 = {
			character_event = {
				id = mutation.3
			}
		}
		# smell
		8 = {
			character_event = {
				id = mutation.4
			}
		}
		# scales
		8 = {
			character_event = {
				id = mutation.5
			}
		}
		# horns
		7 = {
			modifier = {
 				factor = 1.75
 				religion = khorne

			}
			character_event = {
				id = mutation.6
			}
		}
		# spines
		8 = {
			character_event = {
				id = mutation.7
			}
		}
		# monstrous
		6 = {
			modifier = {
 				factor = 0
 				trait = creature_beastman
			}
			modifier = {
 				factor = 0
 				trait = monstrous
			}
			modifier = {
 				factor = 1.75
 				religion = khorne
			}
			character_event = {
				id = mutation.8
			}
		}
		# nurgles rot
		8 = {
			modifier = {
 				factor = 1.75
 				religion = nurgle

			}
			character_event = {
				id = mutation.9
			}
		}
		# second head
		7 = {
			character_event = {
				id = mutation.10
			}
		}
		# beak
		8 = {
			modifier = {
 				factor = 1.75
 				religion = tzeentch

			}
			character_event = {
				id = mutation.20005
			}
		}
		# tongue
		7 = {
			modifier = {
 				factor = 1.75
 				religion = slaanesh
			}
			character_event = {
				id = mutation.20006
			}
		}
		# teeth
		8 = {
			character_event = {
				id = mutation.20007
			}
		}
		# many eyes
		4 = {
			character_event = {
				id = mutation.20008
			}
		}
		# big eyes
		6 = {
			modifier = {
 				factor = 0
 				trait = mut_eyes
			}
			character_event = {
				id = mutation.20009
			}
		}
	}
}

wh_heal_sick_effect = {
	remove_trait = flu
	remove_trait = dysentery
	remove_trait = gout
	remove_trait = food_poisoning
	remove_trait = rabies
	remove_trait = cancer
	remove_trait = sick_incapable
	remove_trait = dancing_plague
	remove_trait = scurvy
	remove_trait = lovers_pox
	remove_trait = sickly
	remove_trait = ill
	remove_trait = pneumonic
	remove_trait = syphilitic
	remove_trait = leper
	remove_trait = has_tuberculosis
	remove_trait = has_typhoid_fever
	remove_trait = has_typhus
	remove_trait = has_bubonic_plague
	remove_trait = has_measles
	remove_trait = has_small_pox
	remove_trait = has_creeping_buboes
	remove_trait = has_green_pox
	remove_trait = has_red_pox
	remove_trait = has_rattlelung
	remove_trait = has_tomb_rot
	remove_trait = has_nurgles_rot
	remove_trait = has_bone_auge
}

wh_heal_injury_effect = {
	remove_trait = wounded
	remove_trait = maimed
	remove_trait = incapable
	remove_trait = troubled_pregnancy
	remove_trait = hard_pregnancy
	remove_trait = disfigured
	remove_trait = severely_injured
	remove_trait = one_eyed
	remove_trait = one_handed
	remove_trait = one_legged
	remove_trait = mangled
	remove_trait = cancer
	remove_trait = fat
	remove_trait = undernourished
	remove_trait = infirm
	remove_trait = blinded
	remove_trait = eunuch
}

wh_duel_clean_effect = {
	# clearing event
	event_target:charA = {
		character_event = {
			id = duelengine.6
			days = 1
		}
	}
	event_target:charB = {
		character_event = {
			id = duelengine.6
			days = 1
		}
	}
}

magic_item_generation = {
	random_list = {
		5 = {
			add_artifact = mages_ring_1
		}
		4 = {
			add_artifact = mages_ring_2
		}
		5 = {
			add_artifact = mages_amulet_1
		}
		4 = {
			add_artifact = mages_amulet_2
		}
		5 = {
			add_artifact = mages_staff_1
		}
		4 = {
			add_artifact = mages_staff_2
		}
		5 = {
			add_artifact = sword_1
		}
		5 = {
			add_artifact = sword_2
		}
		5 = {
			add_artifact = sword_3
		}
		5 = {
			add_artifact = sword_4
		}
		4 = {
			add_artifact = sword_5
		}
		5 = {
			add_artifact = ring_of_persuasion
		}
		5 = {
			add_artifact = ring_of_invisibility
		}
		5 = {
			add_artifact = ring_of_command
		}
		5 = {
			add_artifact = ring_of_speed
		}
		5 = {
			add_artifact = amulet_of_protection_1
		}
		5 = {
			add_artifact = amulet_of_protection_3
		}
		4 = {
			add_artifact = amulet_of_protection_5
		}
		5 = {
			add_artifact = potion_of_beauty
		}
		5 = {
			add_artifact = potion_of_healing
		}
		5 = {
			random_list = {
				20 = {
					add_artifact = mages_staff_3
				}
				20 = {
					add_artifact = mages_tome
				}
				20 = {
					add_artifact = mages_crown
				}
				20 = {
					add_artifact = mages_ring_3
				}
				20 = {
					add_artifact = mages_amulet_3
				}
			}
		}
	}
}

random_lore = {
	random_list = {
		10 = {
			add_trait = lore_fire
		}
		10 = {
			add_trait = lore_heavens
		}
		10 = {
			add_trait = lore_metal
		}
		10 = {
			add_trait = lore_beasts
		}
		10 = {
			add_trait = lore_death
		}
		10 = {
			add_trait = lore_life
		}
		15 = {
			add_trait = lore_shadows
		}
		15 = {
			add_trait = lore_light
		}
	}
}

random_magic_power = {
	random_list = {
		50 = {
			add_character_modifier = {
				modifier = magic_power_1 days = -1
			}
		}
		30 = {
			add_character_modifier = {
				modifier = magic_power_2 days = -1
			}
		}
		15 = {
			add_character_modifier = {
				modifier = magic_power_3 days = -1
			}
		}
		5 = {
			add_character_modifier = {
				modifier = magic_power_4 days = -1
			}
		}
	}
}


major_chaos_corruption_effect = {
	custom_tooltip = {
		text = major_chaos_corruption_effect_tooltip
	}
	hidden_effect = {
		if = {
			limit = {
				society_member_of = cult_of_khorne
			}
			random_list = {
				20 = {
					modifier = {
						factor = 0
						OR = {
							NOT = {
								trait = kind
							}
							trait = cruel
						}
					}
					remove_trait = kind
					add_trait = cruel
				}
				20 = {
					modifier = {
						factor = 0
						trait = wroth
					}
					remove_trait = kind
					add_trait = wroth
				}
				20 = {
					modifier = {
						factor = 0
						OR = {
							NOT = {
								trait = weak
							}
							trait = strong
						}
					}
					remove_trait = weak
					add_trait = strong
				}
				11 = {
					character_event = {
						id = mutation.20007
					}
				} #teeth
				11 = {
					character_event = {
						id = mutation.6
					}
				} #horns
				20 = {
				}
			}
		}
		if = {
			limit = {
				society_member_of = cult_of_nurgle
			}
			random_list = {
				20 = {
					modifier = {
						factor = 0
						OR = {
							NOT = {
								trait = cruel
							}
							trait = kind
						}
					}
					remove_trait = cruel
					add_trait = kind
				}
				20 = {
					modifier = {
						factor = 0
						OR = {
							NOT = {
								trait = ambitious
							}
							trait = content
						}
					}
					remove_trait = ambitious
					add_trait = content
				}
				6 = {
					give_pneumonic_effect = yes
				}
				6 = {
					give_has_tuberculosis_effect = yes
				}
				6 = {
					give_has_typhoid_fever_effect = yes
				}
				6 = {
					give_has_bubonic_plague_effect = yes
				}
				6 = {
					give_has_measles_effect = yes
				}
				6 = {
					give_has_small_pox_effect = yes
				}
				6 = {
					give_has_aztec_disease_effect = yes
				}
				6 = {
					give_syphilitic_effect = yes
				}
				6 = {
					give_flu_effect = yes
				}
				6 = {
					give_dysentery_effect = yes
				}
				6 = {
					give_gout_effect = yes
				}
				6 = {
					give_food_poisoning_effect = yes
				}
				6 = {
					give_rabies_effect = yes
				}
				6 = {
					give_cancer_effect = yes
				}
				6 = {
					give_ill_effect = yes
				}
				6 = {
				}
			}
		}
		if = {
			limit = {
				society_member_of = cult_of_tzeentch
			}
			random_list = {
				50 = {
					modifier = {
						factor = 0
						OR = {
							NOT = {
								trait = honest
							}
							trait = deceitful
						}
					}
					remove_trait = honest
					add_trait = deceitful
				}
				50 = {
					modifier = {
						factor = 0
						OR = {
							NOT = {
								trait = content
							}
							trait = ambitious
						}
					}
					remove_trait = content
					add_trait = ambitious
				}
				3 = {
					character_event = {
						id = mutation.2
					}
				} #thirdeye
				4 = {
					character_event = {
						id = mutation.3
					}
				} #spines
				4 = {
					character_event = {
						id = mutation.4
					}
				} #smell
				4 = {
					character_event = {
						id = mutation.5
					}
				} #scales
				3 = {
					character_event = {
						id = mutation.6
					}
				} #horns
				4 = {
					character_event = {
						id = mutation.7
					}
				} #spines
				3 = {
					character_event = {
						id = mutation.8
					}
				} #monstrous
				3 = {
					character_event = {
						id = mutation.10
					}
				} #second head
				4 = {
					character_event = {
						id = mutation.20005
					}
				} #beak
				3 = {
					character_event = {
						id = mutation.20006
					}
				} #tongue
				4 = {
					character_event = {
						id = mutation.20007
					}
				} #teeth
				2 = {
					character_event = {
						id = mutation.20008
					}
				} #many eyes
				3 = {
					character_event = {
						id = mutation.20009
					}
				} #big eye
				30 = {
				}
			}
		}
		if = {
			limit = {
				society_member_of = cult_of_slaanesh
			}
			random_list = {
				14 = {
					modifier = {
						factor = 0
						OR = {
							NOT = {
								trait = chaste
							}
							trait = lustful
						}
					}
					remove_trait = chaste
					add_trait = lustful
				}
				14 = {
					modifier = {
						factor = 0
						trait = gluttonous
					}
					remove_trait = temperate
					add_trait = gluttonous
				}
				14 = {
					modifier = {
						factor = 0
						trait = homosexual
					}
					add_trait = homosexual
				}
				14 = {
					modifier = {
						factor = 0
						OR = {
							NOT = {
								trait = weak
							}
							trait = strong
						}
					}
					remove_trait = weak
					add_trait = strong
				}
				14 = {
					character_event = {
						id = mutation.7
					}
				} #spines
				14 = {
					character_event = {
						id = mutation.20006
					}
				} #tongue
				25 = {
				}
			}
		}
		if = {
			limit = {
				society_member_of = cult_of_undivided
			}
			random_list = {
				20 = {
					modifier = {
						factor = 0
						OR = {
							NOT = {
								trait = chaste
							}
							trait = lustful
						}
					}
					remove_trait = chaste
					add_trait = lustful
				}
				20 = {
					modifier = {
						factor = 0
						trait = gluttonous
					}
					remove_trait = temperate
					add_trait = gluttonous
				}
				20 = {
					modifier = {
						factor = 0
						OR = {
							NOT = {
								trait = weak
							}
							trait = strong
						}
					}
					remove_trait = weak
					add_trait = strong
				}
				10 = {
					character_event = {
						id = mutation.7
					}
				} #spines
				10 = {
					character_event = {
						id = mutation.20006
					}
				} #tongue
				20 = {
				}
			}
		}
	}
}

minor_chaos_corruption_effect = {
	custom_tooltip = {
		text = minor_chaos_corruption_effect_tooltip
	}
	if = {
		limit = {
			society_member_of = cult_of_khorne
		}
		random_list = {
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							trait = kind
						}
						trait = cruel
					}
				}
				remove_trait = kind
				add_trait = cruel
			}
			5 = {
				modifier = {
					factor = 0
					trait = wroth
				}
				remove_trait = kind
				add_trait = wroth
			}
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							trait = weak
						}
						trait = strong
					}
				}
				remove_trait = weak
				add_trait = strong
			}
			1 = {
				character_event = {
					id = mutation.20007
				}
			} #teeth
			1 = {
				character_event = {
					id = mutation.6
				}
			} #horns
			80 = {
			}
		}
	}
	if = {
		limit = {
			society_member_of = cult_of_nurgle
		}
		random_list = {
			20 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							trait = cruel
						}
						trait = kind
					}
				}
				remove_trait = cruel
				add_trait = kind
			}
			20 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							trait = ambitious
						}
						trait = content
					}
				}
				remove_trait = ambitious
				add_trait = content
			}
			6 = {
				give_pneumonic_effect = yes
			}
			6 = {
				give_has_tuberculosis_effect = yes
			}
			6 = {
				give_has_typhoid_fever_effect = yes
			}
			6 = {
				give_has_bubonic_plague_effect = yes
			}
			6 = {
				give_has_measles_effect = yes
			}
			6 = {
				give_has_small_pox_effect = yes
			}
			6 = {
				give_has_aztec_disease_effect = yes
			}
			6 = {
				give_syphilitic_effect = yes
			}
			6 = {
				give_flu_effect = yes
			}
			6 = {
				give_dysentery_effect = yes
			}
			6 = {
				give_gout_effect = yes
			}
			6 = {
				give_food_poisoning_effect = yes
			}
			6 = {
				give_rabies_effect = yes
			}
			6 = {
				give_cancer_effect = yes
			}
			6 = {
				give_ill_effect = yes
			}
			80 = {
			}
		}
	}
	if = {
		limit = {
			society_member_of = cult_of_tzeentch
		}
		random_list = {
			50 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							trait = honest
						}
						trait = deceitful
					}
				}
				remove_trait = honest
				add_trait = deceitful
			}
			50 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							trait = content
						}
						trait = ambitious
					}
				}
				remove_trait = content
				add_trait = ambitious
			}
			3 = {
				character_event = {
					id = mutation.2
				}
			} #thirdeye
			4 = {
				character_event = {
					id = mutation.3
				}
			} #spines
			4 = {
				character_event = {
					id = mutation.4
				}
			} #smell
			4 = {
				character_event = {
					id = mutation.5
				}
			} #scales
			3 = {
				character_event = {
					id = mutation.6
				}
			} #horns
			4 = {
				character_event = {
					id = mutation.7
				}
			} #spines
			3 = {
				character_event = {
					id = mutation.8
				}
			} #monstrous
			3 = {
				character_event = {
					id = mutation.10
				}
			} #second head
			4 = {
				character_event = {
					id = mutation.20005
				}
			} #beak
			3 = {
				character_event = {
					id = mutation.20006
				}
			} #tongue
			4 = {
				character_event = {
					id = mutation.20007
				}
			} #teeth
			2 = {
				character_event = {
					id = mutation.20008
				}
			} #many eyes
			3 = {
				character_event = {
					id = mutation.20009
				}
			} #big eye
			80 = {
			}
		}
	}
	if = {
		limit = {
			society_member_of = cult_of_slaanesh
		}
		random_list = {
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							trait = chaste
						}
						trait = lustful
					}
				}
				remove_trait = chaste
				add_trait = lustful
			}
			5 = {
				modifier = {
					factor = 0
					trait = gluttonous
				}
				remove_trait = temperate
				add_trait = gluttonous
			}
			5 = {
				modifier = {
					factor = 0
					trait = homosexual
				}
				add_trait = homosexual
			}
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							trait = weak
						}
						trait = strong
					}
				}
				remove_trait = weak
				add_trait = strong
			}
			8 = {
				character_event = {
					id = mutation.7
				}
			} #spines
			7 = {
				character_event = {
					id = mutation.20006
				}
			} #tongue
			80 = {
			}
		}
	}
	if = {
		limit = {
			society_member_of = cult_of_undivided
		}
		random_list = {
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							trait = chaste
						}
						trait = lustful
					}
				}
				remove_trait = chaste
				add_trait = lustful
			}
			5 = {
				modifier = {
					factor = 0
					trait = gluttonous
				}
				remove_trait = temperate
				add_trait = gluttonous
			}
			10 = {
				modifier = {
					factor = 0
					OR = {
						NOT = {
							trait = weak
						}
						trait = strong
					}
				}
				remove_trait = weak
				add_trait = strong
			}
			8 = {
				character_event = {
					id = mutation.7
				}
			} #spines
			7 = {
				character_event = {
					id = mutation.20006
				}
			} #tongue
			80 = {
			}
		}
	}
}

create_league_effect = {
	primary_title = {
		hidden_tooltip = {
			# Hide tooltip because it would refer to old primary title
			# TODO: if already elective, do i need sneakiness for the cooldowns?
            succession_w_cooldown = feudal_elective
		}
		if = {
			limit = {
				has_dlc = "Zeus"
			}
	        add_law_w_cooldown = law_voting_power_1
	        add_law_w_cooldown = war_voting_power_1
	        add_law_w_cooldown = revoke_title_voting_power_1
            add_law_w_cooldown = succession_voting_power_1  # Allows feudal elective in Muslim & Indian realms :)

		}
	}
    any_opinion_modifier_target = {
        limit = {
            reverse_has_opinion_modifier = {
                who = PREV
                modifier = opinion_cofounder
			}
		}
        hidden_tooltip = {
            # Remove the computed opinion modifier
            reverse_remove_opinion = {
                who = PREV
                modifier = opinion_cofounder
			}
	        # Create a NAP
	        opinion = {
	            modifier = in_non_aggression_pact
	            years = 20
	            who = ROOT
	            origin_description = VOLUNTARY_LIEGE

			}
	        ROOT = {
	            opinion = {
	                modifier = in_non_aggression_pact
	                years = 20
	                who = PREV
	                origin_description = VOLUNTARY_VASSAL

				}

			}

		}
        set_defacto_liege = PREV
        # Todo: notify new vassals in case one of them is a player (or even give them the option of not joining)
	}
    custom_tooltip = {
    	text = NAPS_WITH_NEW_VASSALS
	}
    wipe_council_effect = yes
}

add_THIS_to_FROM_existing_league_effect = {
    set_defacto_liege = FROM
    opinion = {
        modifier = in_non_aggression_pact
        years = 20
        who = FROM
        origin_description = VOLUNTARY_LIEGE
	}
    FROM = {
        opinion = {
            modifier = in_non_aggression_pact
            years = 20
            who = ROOT
            origin_description = VOLUNTARY_VASSAL
		}
	}
}

wipe_council_effect = {
    custom_tooltip = {
        text = BYE_COUNCIL
        hidden_tooltip = {
            # Help both the player and AI remember that they need a new council, and allow free 'firing' of old council
            # (This is important with Conclave "Expects a council position" opinion modifier)
            job_chancellor = {
				remove_title = job_chancellor
			}
            job_marshal    = {
				remove_title = job_marshal
			}
            job_treasurer  = {
				remove_title = job_treasurer
			}
            job_spymaster  = {
				remove_title = job_spymaster
			}
            job_spiritual  = {
				remove_title = job_spiritual
			}
            # Remove Advisor, too, if any (requires conclave dlc, king rank, empowered council)
            any_vassal = {
                limit = {
                    has_minor_title = title_councilmember_king
				}
                remove_title = title_councilmember_king
			}
		}
	}
}

root_makes_from_vampire_effect = {
	hidden_tooltip = {
		FROM = {
			set_variable = {
				which = "khorne_favor"
				value = 0
			}
			set_variable = {
				which = "nurgle_favor"
				value = 0
			}
			set_variable = {
				which = "slaanesh_favor"
				value = 0
			}
			set_variable = {
				which = "tzeentch_favor"
				value = 0
			}
			clr_character_flag = hidden_cultist_tzeentch
			clr_character_flag = hidden_cultist_nurgle
			clr_character_flag = hidden_cultist_slaanesh
			clr_character_flag = hidden_cultist_khorne
			clr_character_flag = hidden_cultist_undivided
		}
	}
	if = {
		limit = {
			FROM = {
				dynasty = 0
				is_female = no
			}
		}
		FROM = {
			dynasty = ROOT
			set_father = ROOT
		}
	}
	if = {
		limit = {
			FROM = {
				dynasty = 0
				is_female = yes
			}
		}
		FROM = {
			dynasty = ROOT
			set_mother = ROOT
		}
	}
	if = {
		limit = {
			OR = {
				trait = vampire_lahmian_visible
				trait = vampire_lahmian_hidden
			}
			FROM = {
				age = 16
			}
		}
		FROM = {
			add_trait = vampire_lahmian_visible
			set_graphical_culture = lahmian_vampire
			religion = vampiric
		}
	}
	if = {
		limit = {
			OR = {
				trait = vampire_lahmian_visible
				trait = vampire_lahmian_hidden
			}
			FROM = {
				NOT = {
					age = 16
				}
			}
		}
		FROM = {
			add_trait = vampire_lahmian_visible
			set_graphical_culture = kid_vampire_lahmian
			religion = vampiric
		}
	}
	if = {
		limit = {
			OR = {
				trait = vampire_strigoi_visible
				trait = vampire_strigoi_hidden
			}
		}
		FROM = {
			add_trait = vampire_strigoi_visible
			set_graphical_culture = strigoi_vampire
			religion = vampiric
		}
	}
	if = {
		limit = {
			OR = {
				trait = vampire_carstein_visible
				trait = vampire_carstein_hidden
			}
			FROM = {
				age = 16
			}
		}
		FROM = {
			add_trait = vampire_carstein_visible
			set_graphical_culture = generic_vampire
			religion = vampiric
		}
	}
	if = {
		limit = {
			OR = {
				trait = vampire_carstein_visible
				trait = vampire_carstein_hidden
			}
			FROM = {
				NOT = {
					age = 16
				}
			}
		}
		FROM = {
			add_trait = vampire_carstein_visible
			set_graphical_culture = kid_vampire
			religion = vampiric
		}
	}
	if = {
		limit = {
			OR = {
				trait = vampire_blood_visible
				trait = vampire_blood_hidden
			}
			culture = blooddragons_culture
		}
		FROM = {
			add_trait = vampire_blood_visible
			culture = blooddragons_culture
			set_graphical_culture = blood_vampire
			religion = vampiric
		}
	}
	if = {
		limit = {
			OR = {
				trait = vampire_blood_visible
				trait = vampire_blood_hidden
			}
			culture_group = sartosan_group
			has_character_flag = vampire_pirate
		}
		FROM = {
			add_trait = vampire_blood_visible
			set_character_flag = vampire_pirate
			culture = ROOT
			set_graphical_culture = blood_vampire
			religion = vampiric
		}
	}
	if = {
		limit = {
			OR = {
				trait = vampire_necrarch_visible
				trait = vampire_necrarch_hidden
			}
		}
		FROM = {
			add_trait = vampire_necrarch_visible
			set_graphical_culture = necrarch_vampire
			religion = nagashi
		}
	}
	if = {
		limit = {
			OR = {
				trait = vampire_jade_visible
				trait = vampire_jade_hidden
			}
		}
		FROM = {
			add_trait = vampire_jade_visible
			culture = living_jade
			set_graphical_culture = jade_vampire
			random_list = {
				25 = {
					add_trait = celibate
				}
				25 = {
					add_trait = chaste
				}
				50 = {
				}
			}
			religion = ROOT
		}
	}
	if = {
		limit = {
			OR = {
				trait = vampire_mahtmasi_visible
				trait = vampire_mahtmasi_hidden
			}
		}
		random_list = {
			# Success
			60 = {
				ROOT = {
					character_event = {
						id = svampires.79001
						days = 1
						random = 1
					}
				}
				FROM = {
					character_event = {
						id = svampires.79
						days = 1
						random = 1
					}
				}
			}
			# Failure
			40 = {
				modifier = {
					factor = 0.5
					FROM = {
						trait = strong
					}
				}
				modifier = {
					factor = 0.75
					FROM = {
						trait = tough
					}
				}
				modifier = {
					factor = 0.85
					FROM = {
						trait = hardy
					}
				}
				modifier = {
					factor = 1.25
					FROM = {
						trait = soft
					}
				}
				modifier = {
					factor = 1.5
					FROM = {
						trait = fragile
					}
				}
				modifier = {
					factor = 1.75
					FROM = {
						trait = weak
					}
				}
				modifier = {
					factor = 1.5
					FROM = {
						trait = stressed
					}
				}
				modifier = {
					factor = 1.5
					FROM = {
						is_ill = yes
					}
				}
				modifier = {
					factor = 1.5
					FROM = {
						trait = infirm
					}
				}
				modifier = {
					factor = 1.5
					FROM = {
						trait = maimed
					}
				}
				ROOT = {
					character_event = {
						id = svampires.80001 days = 1 random = 1
					}
				}
				FROM = {
					character_event = {
						id = svampires.80 days = 1 random = 1
					}
				}
			}
		}
		FROM = {
			add_trait = vampire_mahtmasi_visible
			set_graphical_culture = mahtmasi_vampire
			add_trait = incapable
			religion = shadowmen
		}
	}
	hidden_tooltip = {
		FROM = {
			remove_trait = old_1
			remove_trait = old_2
			remove_trait = old_3
			remove_trait = old_4
		}
	}
	if = {
		limit = {
			OR = {
				trait = vampire_blood_visible
				trait = vampire_blood_hidden
			}
			FROM = {
				NOR = {
					trait = weak
					trait = fragile
					trait = soft
					trait = maimed
					trait = incapable
					trait = blinded
					trait = eunuch
					trait = undernourished
					trait = fat
					trait = addict
					NOT = {
						martial = 10
					}
				}
			}
		}
		change_variable = {
			which = "blooddragon_reserve"
			value = 1
		}
	}
}

antideath_effect = {
	if = {
		limit = {
			has_artifact = carstein_ring
		}
		character_event = {
			id = carstein.13
			days = 1
		}
		#break = yes
	}
	# if = {
		# limit = {
			# trait = creature_celdragon
		# }
		# break = yes
	# }
	if = {
		limit = {
			or = {
				trait = khemri_tomb_king
				trait = black_arkhan
			}
		}
 		character_event = {
			id = snehekharan.1
			days = 1
		}
		#break = yes
	}
}

magic_cooldown = {
	set_variable = {
		which = "magic_cooldown"
		value = 0
	}
	if = {
		limit = {
			trait = magic_potential_1
		}
		change_variable = {
			which = "magic_cooldown"
			value = 1
		}
	}
	if = {
		limit = {
			trait = magic_potential_2
		}
		change_variable = {
			which = "magic_cooldown"
			value = 2
		}
	}
	if = {
		limit = {
			trait = magic_potential_3
		}
		change_variable = {
			which = "magic_cooldown"
			value = 3
		}
	}
	if = {
		limit = {
			trait = magic_potential_4
		}
		change_variable = {
			which = "magic_cooldown"
			value = 4
		}
	}
	if = {
		limit = {
			learning = 5
		}
		change_variable = {
			which = "magic_cooldown"
			value = 1
		}
	}
	if = {
		limit = {
			learning = 10
		}
		change_variable = {
			which = "magic_cooldown"
			value = 1
		}
	}
	if = {
		limit = {
			learning = 15
		}
		change_variable = {
			which = "magic_cooldown"
			value = 1
		}
	}
	if = {
		limit = {
			learning = 20
		}
		change_variable = {
			which = "magic_cooldown"
			value = 1
		}
	}
	if = {
		limit = {
			learning = 25
		}
		change_variable = {
			which = "magic_cooldown"
			value = 1
		}
	}
	if = {
		limit = {
			learning = 30
		}
		change_variable = {
			which = "magic_cooldown"
			value = 1
		}
	}
	if = {
		limit = {
			learning = 35
		}
		change_variable = {
			which = "magic_cooldown"
			value = 1
		}
	}
	if = {
		limit = {
			learning = 40
		}
		change_variable = {
			which = "magic_cooldown"
			value = 1
		}
	}
	if = {
		limit = {
			learning = 45
		}
		change_variable = {
			which = "magic_cooldown"
			value = 1
		}
	}
	if = {
		limit = {
			learning = 50
		}
		change_variable = {
			which = "magic_cooldown"
			value = 1
		}
	}
	if = {
		limit = {
			learning = 55
		}
		change_variable = {
			which = "magic_cooldown"
			value = 1
		}
	}
	if = {
		limit = {
			learning = 60
		}
		change_variable = {
			which = "magic_cooldown"
			value = 1
		}
	}
	if = {
		limit = {
			learning = 65
		}
		change_variable = {
			which = "magic_cooldown"
			value = 1
		}
	}
	if = {
		limit = {
			learning = 70
		}
		change_variable = {
			which = "magic_cooldown"
			value = 1
		}
	}
	if = {
		limit = {
			learning = 75
		}
		change_variable = {
			which = "magic_cooldown"
			value = 1
		}
	}
	if = {
		limit = {
			learning = 80
		}
		change_variable = {
			which = "magic_cooldown"
			value = 1
		}
	}
	if = {
		limit = {
			learning = 85
		}
		change_variable = {
			which = "magic_cooldown"
			value = 1
		}
	}
	if = {
		limit = {
			learning = 90
		}
		change_variable = {
			which = "magic_cooldown"
			value = 1
		}
	}
	if = {
		limit = {
			learning = 95
		}
		change_variable = {
			which = "magic_cooldown"
			value = 1
		}
	}
	if = {
		limit = {
			learning = 100
		}
		change_variable = {
			which = "magic_cooldown"
			value = 1
		}
	}
	if = {
		limit = {
			trait = skink_priest
		}
		change_variable = {
			which = "magic_cooldown"
			value = 3
		}
	}
	if = {
		limit = {
			trait = creature_slann
		}
		change_variable = {
			which = "magic_cooldown"
			value = 5
		}
	}
	if = {
		limit = {
			has_character_modifier = magic_power_1
		}
		change_variable = {
			which = "magic_cooldown"
			value = 1
		}
	}
	if = {
		limit = {
			has_character_modifier = magic_power_2
		}
		change_variable = {
			which = "magic_cooldown"
			value = 2
		}
	}
	if = {
		limit = {
			has_character_modifier = magic_power_3
		}
		change_variable = {
			which = "magic_cooldown"
			value = 3
		}
	}
	if = {
		limit = {
			has_character_modifier = magic_power_4
		}
		change_variable = {
			which = "magic_cooldown"
			value = 4
		}
	}
	if = {
		limit = {
			trait = grey_seer
		}
		change_variable = {
			which = "magic_cooldown"
			value = 3
		}
	}
	if = {
		limit = {
			trait = creature_slann
		}
		change_variable = {
			which = "magic_cooldown"
			value = 5
		}
	}
}

dispel_setup_effect = {
	if = {
		limit ={
			any_character = {
			    in_command = yes
			    war_with = root
			    at_location = event_target:spellloc
			    or = {
			     	and = {
			     		or = {
			     			has_character_modifier = magic_power_4
			     			has_character_modifier = magic_power_3
			     			has_character_modifier = magic_power_2
			     			has_character_modifier = magic_power_1
			     			trait = warlock_engineer

						}
			     		not = {
			     			has_character_modifier = dispel_cooldown

						}

					}
			     	has_character_modifier = z_light_magic_wards_of_light

				}
			}
		}
		any_character = {
			limit = {
			    in_command = yes
			    war_with = root
			    at_location = event_target:spellloc
			    or = {
			     	and = {
			     		or = {
			     			has_character_modifier = magic_power_4
			     			has_character_modifier = magic_power_3
			     			has_character_modifier = magic_power_2
			     			has_character_modifier = magic_power_1
			     			trait = warlock_engineer

						}
			     		not = {
			     			has_character_modifier = dispel_cooldown

						}

					}
			     	has_character_modifier = z_light_magic_wards_of_light

				}
			}
			save_event_target_as = magic_dispeler
			magic_points_setup = yes
			magic_xp_counter = yes
		}
		event_target:magic_caster = {
			set_character_flag = has_dispel
		}
	}
}

dispel_saving_roll_30 = {
	random_list = {
		30 = {
			modifier = {
			    factor = 1.1
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 1
					}
				}
			}
			modifier = {
			    factor = 1.2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 2
					}
				}
			}
			modifier = {
			    factor = 1.3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 3
					}
				}
			}
			modifier = {
			    factor = 1.4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 4
					}
				}
			}
			modifier = {
			    factor = 1.5
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 5
					}
				}
			}
			modifier = {
			    factor = 1.6
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 6
					}
				}
			}
			modifier = {
			    factor = 1.7
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 7
					}
				}
			}
			modifier = {
			    factor = 1.8
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 8
					}
				}
			}
			modifier = {
			    factor = 1.9
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 9
					}
				}
			}
			modifier = {
			    factor = 2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 10
					}
				}
			}
			modifier = {
				factor = 2.1
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 11
					}
				}
			}
			modifier = {
			    factor = 2.2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 12
					}
				}
			}
			modifier = {
			    factor = 2.3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 13
					}
				}
			}
			modifier = {
			    factor = 2.4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 14
					}
				}
			}
			modifier = {
			    factor = 2.5
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 15
					}
				}
			}
			modifier = {
			    factor = 2.6
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 16
					}
				}
			}
			modifier = {
			    factor = 2.7
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 17
					}
				}
			}
			modifier = {
			    factor = 2.8
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 18
					}
				}
			}
			modifier = {
			    factor = 2.9
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 19
					}
				}
			}
			modifier = {
			    factor = 3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 20
					}
				}
			}
			modifier = {
			    factor = 3.1
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 21
					}
				}
			}
			modifier = {
			    factor = 3.2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 22
					}
				}
			}
			modifier = {
			    factor = 3.3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 23
					}
				}
			}
			modifier = {
			    factor = 3.4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 24
					}
				}
			}
			modifier = {
			    factor = 3.5
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 25
					}
				}
			}
			modifier = {
			    factor = 3.6
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 26
					}
				}
			}
			modifier = {
			    factor = 3.7
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 27
					}
				}
			}
			modifier = {
			    factor = 3.8
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 28
					}
				}
			}
			modifier = {
			    factor = 3.9
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 29
					}
				}
			}
			modifier = {
			    factor = 4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 30
					}
				}
			}
			ROOT = {
			    event_target:magic_caster = {
					set_character_flag = dispeled
				}
			}
			event_target:magic_dispeler = {

			    change_variable = {
					which = "magicxp"
					value = 1
				}
			    character_event = {
					id = magic_system.99998
				}
			}
		}
		70 = {
			modifier = {
		     	factor = 1.1
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 1
					}
				}

			}
		    modifier = {
		     	factor = 1.2
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 2
					}
				}

			}
		    modifier = {
		     	factor = 1.3
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 3
					}
				}

			}
		    modifier = {
		     	factor = 1.4
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 4
					}
				}

			}
		    modifier = {
		     	factor = 1.5
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 5
					}
				}

			}
		    modifier = {
		     	factor = 1.6
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 6
					}
				}

			}
		    modifier = {
		     	factor = 1.7
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 7
					}
				}

			}
		    modifier = {
		     	factor = 1.8
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 8
					}
				}

			}
		    modifier = {
		     	factor = 1.9
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 9
					}
				}

			}
		    modifier = {
		     	factor = 2
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 10
					}
				}

			}
		    modifier = {
		     	factor = 2.1
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 11
					}
				}

			}
		    modifier = {
		     	factor = 2.2
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 12
					}
				}

			}
		    modifier = {
		     	factor = 2.3
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 13
					}
				}

			}
		    modifier = {
		     	factor = 2.4
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 14
					}
				}

			}
		    modifier = {
		     	factor = 2.5
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 15
					}
				}

			}
		    modifier = {
		     	factor = 2.6
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 16
					}
				}

			}
		    modifier = {
		     	factor = 2.7
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 17
					}
				}

			}
		    modifier = {
		     	factor = 2.8
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 18
					}
				}

			}
		    modifier = {
		     	factor = 2.9
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 19
					}
				}

			}
		    modifier = {
		     	factor = 3
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 20
					}
				}

			}
		    modifier = {
		     	factor = 3.1
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 21
					}
				}

			}
		    modifier = {
		     	factor = 3.2
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 22
					}
				}

			}
		    modifier = {
		     	factor = 3.3
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 23
					}
				}

			}
		    modifier = {
		     	factor = 3.4
		     	event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 24
					}
				}

			}
			modifier = {
			    factor = 3.5
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 25
					}
				}

			}
			modifier = {
			    factor = 3.6
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 26
					}
				}

			}
			modifier = {
			    factor = 3.7
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 27
					}
				}

			}
			modifier = {
			    factor = 3.8
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 28
					}
				}

			}
			modifier = {
			    factor = 3.9
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 29
					}
				}

			}
			modifier = {
			    factor = 4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 30
					}
				}

			}
			event_target:magic_caster = {
			    change_variable = {
					which = "magicxp"
					value = 1
				}

			}
		}
	}
}

dispel_saving_roll_40 = {
	random_list = {
		40 = {
			modifier = {
			    factor = 1.1
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 1
					}
				}

			}
			modifier = {
			    factor = 1.2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 2
					}
				}

			}
			modifier = {
			    factor = 1.3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 3
					}
				}

			}
			modifier = {
			    factor = 1.4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 4
					}
				}
			}			     modifier = {
			    factor = 1.5
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 5
					}
				}

			}
			modifier = {
			    factor = 1.6
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 6
					}
				}

			}
			modifier = {
			    factor = 1.7
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 7
					}
				}

			}
			modifier = {
			    factor = 1.8
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 8
					}
				}

			}
			modifier = {
			    factor = 1.9
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 9
					}
				}

			}
			modifier = {
			    factor = 2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 10
					}
				}

			}
			modifier = {
			    factor = 2.1
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 11
					}
				}

			}
			modifier = {
			    factor = 2.2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 12
					}
				}

			}
			modifier = {
			    factor = 2.3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 13
					}
				}

			}
			modifier = {
			    factor = 2.4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 14
					}
				}
			}			     modifier = {
			    factor = 2.5
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 15
					}
				}

			}
			modifier = {
			    factor = 2.6
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 16
					}
				}

			}
			modifier = {
			    factor = 2.7
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 17
					}
				}

			}
			modifier = {
			    factor = 2.8
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 18
					}
				}

			}
			modifier = {
			    factor = 2.9
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 19
					}
				}

			}
			modifier = {
			    factor = 3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 20
					}
				}

			}
			modifier = {
			    factor = 3.1
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 21
					}
				}

			}
			modifier = {
			    factor = 3.2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 22
					}
				}

			}
			modifier = {
			    factor = 3.3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 23
					}
				}

			}
			modifier = {
			    factor = 3.4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 24
					}
				}
			}			     modifier = {
			    factor = 3.5
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 25
					}
				}

			}
			modifier = {
			    factor = 3.6
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 26
					}
				}

			}
			modifier = {
			    factor = 3.7
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 27
					}
				}

			}
			modifier = {
			    factor = 3.8
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 28
					}
				}

			}
			modifier = {
			    factor = 3.9
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 29
					}
				}

			}
			modifier = {
			    factor = 4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 30
					}
				}

			}
			ROOT = {
			    event_target:magic_caster = {
					set_character_flag = dispeled
				}

			}
			event_target:magic_dispeler = {

			    change_variable = {
					which = "magicxp"
					value = 1
				}
			    character_event = {
					id = magic_system.99998
				}

			}
		}
		60 = {
			modifier = {
			    factor = 1.1
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 1
					}
				}

			}
			modifier = {
			    factor = 1.2
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 2
					}
				}

			}
			modifier = {
			    factor = 1.3
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 3
					}
				}

			}
			modifier = {
			    factor = 1.4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 4
					}
				}

			}
			modifier = {
			    factor = 1.5
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 5
					}
				}

			}
			modifier = {
			    factor = 1.6
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 6
					}
				}

			}
			modifier = {
			    factor = 1.7
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 7
					}
				}

			}
			modifier = {
			    factor = 1.8
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 8
					}
				}

			}
			modifier = {
			    factor = 1.9
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 9
					}
				}

			}
			modifier = {
			    factor = 2
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 10
					}
				}

			}
			modifier = {
			    factor = 2.1
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 11
					}
				}

			}
			modifier = {
			    factor = 2.2
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 12
					}
				}

			}
			modifier = {
			    factor = 2.3
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 13
					}
				}

			}
			modifier = {
			    factor = 2.4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 14
					}
				}

			}
			modifier = {
			    factor = 2.5
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 15
					}
				}

			}
			modifier = {
			    factor = 2.6
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 16
					}
				}

			}
			modifier = {
			    factor = 2.7
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 17
					}
				}

			}
			modifier = {
			    factor = 2.8
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 18
					}
				}

			}
			modifier = {
			    factor = 2.9
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 19
					}
				}

			}
			modifier = {
			    factor = 3
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 20
					}
				}

			}
			modifier = {
			    factor = 3.1
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 21
					}
				}

			}
			modifier = {
			    factor = 3.2
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 22
					}
				}

			}
			modifier = {
			    factor = 3.3
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 23
					}
				}

			}
			modifier = {
			    factor = 3.4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 24
					}
				}

			}
			modifier = {
			    factor = 3.5
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 25
					}
				}

			}
			modifier = {
			    factor = 3.6
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 26
					}
				}

			}
			modifier = {
			    factor = 3.7
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 27
					}
				}

			}
			modifier = {
			    factor = 3.8
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 28
					}
				}

			}
			modifier = {
			    factor = 3.9
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 29
					}
				}

			}
			modifier = {
			    factor = 4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 30
					}
				}

			}
			event_target:magic_caster = {
			    change_variable = {
					which = "magicxp"
					value = 1
				}

			}
		}
	}
}

dispel_saving_roll_50 = {
	random_list = {
		50 = {
			modifier = {
			    factor = 1.1
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 1
					}
				}

			}
			modifier = {
			    factor = 1.2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 2
					}
				}

			}
			modifier = {
			    factor = 1.3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 3
					}
				}

			}
			modifier = {
			    factor = 1.4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 4
					}
				}
			}			     modifier = {
			    factor = 1.5
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 5
					}
				}

			}
			modifier = {
			    factor = 1.6
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 6
					}
				}

			}
			modifier = {
			    factor = 1.7
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 7
					}
				}

			}
			modifier = {
			    factor = 1.8
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 8
					}
				}

			}
			modifier = {
			    factor = 1.9
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 9
					}
				}

			}
			modifier = {
			    factor = 2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 10
					}
				}

			}
			modifier = {
			    factor = 2.1
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 11
					}
				}

			}
			modifier = {
			    factor = 2.2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 12
					}
				}

			}
			modifier = {
			    factor = 2.3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 13
					}
				}

			}
			modifier = {
			    factor = 2.4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 14
					}
				}
			}			     modifier = {
			    factor = 2.5
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 15
					}
				}

			}
			modifier = {
			    factor = 2.6
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 16
					}
				}

			}
			modifier = {
			    factor = 2.7
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 17
					}
				}

			}
			modifier = {
			    factor = 2.8
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 18
					}
				}

			}
			modifier = {
			    factor = 2.9
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 19
					}
				}

			}
			modifier = {
			    factor = 3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 20
					}
				}

			}
			modifier = {
			    factor = 3.1
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 21
					}
				}

			}
			modifier = {
			    factor = 3.2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 22
					}
				}

			}
			modifier = {
			    factor = 3.3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 23
					}
				}

			}
			modifier = {
			    factor = 3.4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 24
					}
				}
			}			     modifier = {
			    factor = 3.5
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 25
					}
				}

			}
			modifier = {
			    factor = 3.6
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 26
					}
				}

			}
			modifier = {
			    factor = 3.7
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 27
					}
				}

			}
			modifier = {
			    factor = 3.8
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 28
					}
				}

			}
			modifier = {
			    factor = 3.9
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 29
					}
				}

			}
			modifier = {
			    factor = 4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 30
					}
				}

			}
			ROOT = {
			    event_target:magic_caster = {
					set_character_flag = dispeled
				}

			}
			event_target:magic_dispeler = {

			    change_variable = {
					which = "magicxp"
					value = 1
				}
			    character_event = {
					id = magic_system.99998
				}

			}
		}
		50 = {
			modifier = {
			    factor = 1.1
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 1
					}
				}

			}
			modifier = {
			    factor = 1.2
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 2
					}
				}

			}
			modifier = {
			    factor = 1.3
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 3
					}
				}

			}
			modifier = {
			    factor = 1.4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 4
					}
				}

			}
			modifier = {
			    factor = 1.5
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 5
					}
				}

			}
			modifier = {
			    factor = 1.6
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 6
					}
				}

			}
			modifier = {
			    factor = 1.7
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 7
					}
				}

			}
			modifier = {
			    factor = 1.8
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 8
					}
				}

			}
			modifier = {
			    factor = 1.9
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 9
					}
				}

			}
			modifier = {
			    factor = 2
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 10
					}
				}

			}
			modifier = {
			    factor = 2.1
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 11
					}
				}

			}
			modifier = {
			    factor = 2.2
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 12
					}
				}

			}
			modifier = {
			    factor = 2.3
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 13
					}
				}

			}
			modifier = {
			    factor = 2.4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 14
					}
				}

			}
			modifier = {
			    factor = 2.5
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 15
					}
				}

			}
			modifier = {
			    factor = 2.6
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 16
					}
				}

			}
			modifier = {
			    factor = 2.7
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 17
					}
				}

			}
			modifier = {
			    factor = 2.8
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 18
					}
				}

			}
			modifier = {
			    factor = 2.9
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 19
					}
				}

			}
			modifier = {
			    factor = 3
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 20
					}
				}

			}
			modifier = {
			    factor = 3.1
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 21
					}
				}

			}
			modifier = {
			    factor = 3.2
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 22
					}
				}

			}
			modifier = {
			    factor = 3.3
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 23
					}
				}

			}
			modifier = {
			    factor = 3.4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 24
					}
				}

			}
			modifier = {
			    factor = 3.5
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 25
					}
				}

			}
			modifier = {
			    factor = 3.6
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 26
					}
				}

			}
			modifier = {
			    factor = 3.7
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 27
					}
				}

			}
			modifier = {
			    factor = 3.8
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 28
					}
				}

			}
			modifier = {
			    factor = 3.9
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 29
					}
				}

			}
			modifier = {
			    factor = 4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 30
					}
				}

			}
			event_target:magic_caster = {
			    change_variable = {
					which = "magicxp"
					value = 1
				}

			}
		}
	}
}

dispel_saving_roll_60 = {
	random_list = {
		60 = {
			modifier = {
			    factor = 1.1
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 1
					}
				}

			}
			modifier = {
			    factor = 1.2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 2
					}
				}

			}
			modifier = {
			    factor = 1.3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 3
					}
				}

			}
			modifier = {
			    factor = 1.4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 4
					}
				}
			}			     modifier = {
			    factor = 1.5
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 5
					}
				}

			}
			modifier = {
			    factor = 1.6
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 6
					}
				}

			}
			modifier = {
			    factor = 1.7
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 7
					}
				}

			}
			modifier = {
			    factor = 1.8
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 8
					}
				}

			}
			modifier = {
			    factor = 1.9
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 9
					}
				}

			}
			modifier = {
			    factor = 2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 10
					}
				}

			}
			modifier = {
			    factor = 2.1
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 11
					}
				}

			}
			modifier = {
			    factor = 2.2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 12
					}
				}

			}
			modifier = {
			    factor = 2.3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 13
					}
				}

			}
			modifier = {
			    factor = 2.4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 14
					}
				}
			}			     modifier = {
			    factor = 2.5
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 15
					}
				}

			}
			modifier = {
			    factor = 2.6
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 16
					}
				}

			}
			modifier = {
			    factor = 2.7
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 17
					}
				}

			}
			modifier = {
			    factor = 2.8
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 18
					}
				}

			}
			modifier = {
			    factor = 2.9
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 19
					}
				}

			}
			modifier = {
			    factor = 3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 20
					}
				}

			}
			modifier = {
			    factor = 3.1
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 21
					}
				}

			}
			modifier = {
			    factor = 3.2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 22
					}
				}

			}
			modifier = {
			    factor = 3.3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 23
					}
				}

			}
			modifier = {
			    factor = 3.4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 24
					}
				}
			}			     modifier = {
			    factor = 3.5
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 25
					}
				}

			}
			modifier = {
			    factor = 3.6
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 26
					}
				}

			}
			modifier = {
			    factor = 3.7
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 27
					}
				}

			}
			modifier = {
			    factor = 3.8
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 28
					}
				}

			}
			modifier = {
			    factor = 3.9
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 29
					}
				}

			}
			modifier = {
			    factor = 4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 30
					}
				}

			}
			ROOT = {
			    event_target:magic_caster = {
					set_character_flag = dispeled
				}

			}
			event_target:magic_dispeler = {

			    change_variable = {
					which = "magicxp"
					value = 1
				}
			    character_event = {
					id = magic_system.99998
				}

			}
		}
		40 = {
			modifier = {
			    factor = 1.1
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 1
					}
				}

			}
			modifier = {
			    factor = 1.2
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 2
					}
				}

			}
			modifier = {
			    factor = 1.3
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 3
					}
				}

			}
			modifier = {
			    factor = 1.4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 4
					}
				}

			}
			modifier = {
			    factor = 1.5
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 5
					}
				}

			}
			modifier = {
			    factor = 1.6
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 6
					}
				}

			}
			modifier = {
			    factor = 1.7
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 7
					}
				}

			}
			modifier = {
			    factor = 1.8
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 8
					}
				}

			}
			modifier = {
			    factor = 1.9
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 9
					}
				}

			}
			modifier = {
			    factor = 2
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 10
					}
				}

			}
			modifier = {
			    factor = 2.1
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 11
					}
				}

			}
			modifier = {
			    factor = 2.2
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 12
					}
				}

			}
			modifier = {
			    factor = 2.3
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 13
					}
				}

			}
			modifier = {
			    factor = 2.4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 14
					}
				}

			}
			modifier = {
			    factor = 2.5
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 15
					}
				}

			}
			modifier = {
			    factor = 2.6
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 16
					}
				}

			}
			modifier = {
			    factor = 2.7
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 17
					}
				}

			}
			modifier = {
			    factor = 2.8
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 18
					}
				}

			}
			modifier = {
			    factor = 2.9
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 19
					}
				}

			}
			modifier = {
			    factor = 3
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 20
					}
				}

			}
			modifier = {
			    factor = 3.1
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 21
					}
				}

			}
			modifier = {
			    factor = 3.2
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 22
					}
				}

			}
			modifier = {
			    factor = 3.3
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 23
					}
				}

			}
			modifier = {
			    factor = 3.4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 24
					}
				}

			}
			modifier = {
			    factor = 3.5
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 25
					}
				}

			}
			modifier = {
			    factor = 3.6
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 26
					}
				}

			}
			modifier = {
			    factor = 3.7
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 27
					}
				}

			}
			modifier = {
			    factor = 3.8
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 28
					}
				}

			}
			modifier = {
			    factor = 3.9
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 29
					}
				}

			}
			modifier = {
			    factor = 4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 30
					}
				}

			}
			event_target:magic_caster = {
			    change_variable = {
					which = "magicxp"
					value = 1
				}

			}
		}
	}
}

dispel_saving_roll_70 = {
	random_list = {
		70 = {
			modifier = {
			    factor = 1.1
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 1
					}
				}

			}
			modifier = {
			    factor = 1.2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 2
					}
				}

			}
			modifier = {
			    factor = 1.3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 3
					}
				}

			}
			modifier = {
			    factor = 1.4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 4
					}
				}
			}
			modifier = {
			    factor = 1.5
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 5
					}
				}

			}
			modifier = {
			    factor = 1.6
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 6
					}
				}

			}
			modifier = {
			    factor = 1.7
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 7
					}
				}

			}
			modifier = {
			    factor = 1.8
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 8
					}
				}

			}
			modifier = {
			    factor = 1.9
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 9
					}
				}

			}
			modifier = {
			    factor = 2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 10
					}
				}

			}
			modifier = {
			    factor = 2.1
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 11
					}
				}

			}
			modifier = {
			    factor = 2.2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 12
					}
				}

			}
			modifier = {
			    factor = 2.3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 13
					}
				}

			}
			modifier = {
			    factor = 2.4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 14
					}
				}
			}			     modifier = {
			    factor = 2.5
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 15
					}
				}

			}
			modifier = {
			    factor = 2.6
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 16
					}
				}

			}
			modifier = {
			    factor = 2.7
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 17
					}
				}

			}
			modifier = {
			    factor = 2.8
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 18
					}
				}

			}
			modifier = {
			    factor = 2.9
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 19
					}
				}

			}
			modifier = {
			    factor = 3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 20
					}
				}

			}
			modifier = {
			    factor = 3.1
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 21
					}
				}

			}
			modifier = {
			    factor = 3.2
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 22
					}
				}

			}
			modifier = {
			    factor = 3.3
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 23
					}
				}

			}
			modifier = {
			    factor = 3.4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 24
					}
				}
			}
			modifier = {
			    factor = 3.5
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 25
					}
				}

			}
			modifier = {
			    factor = 3.6
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 26
					}
				}

			}
			modifier = {
			    factor = 3.7
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 27
					}
				}

			}
			modifier = {
			    factor = 3.8
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 28
					}
				}

			}
			modifier = {
			    factor = 3.9
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 29
					}
				}

			}
			modifier = {
			    factor = 4
			    event_target:magic_dispeler = {
					check_variable = {
						which = "caster_level_dispel"
						value = 30
					}
				}

			}
			ROOT = {
			    event_target:magic_caster = {
					set_character_flag = dispeled
				}

			}
			event_target:magic_dispeler = {

			    change_variable = {
					which = "magicxp"
					value = 1
				}
			    character_event = {
					id = magic_system.99998
				}

			}
		}
		30 = {
			modifier = {
			    factor = 1.1
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 1
					}
				}

			}
			modifier = {
			    factor = 1.2
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 2
					}
				}

			}
			modifier = {
			    factor = 1.3
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 3
					}
				}

			}
			modifier = {
			    factor = 1.4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 4
					}
				}

			}
			modifier = {
			    factor = 1.5
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 5
					}
				}

			}
			modifier = {
			    factor = 1.6
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 6
					}
				}

			}
			modifier = {
			    factor = 1.7
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 7
					}
				}

			}
			modifier = {
			    factor = 1.8
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 8
					}
				}

			}
			modifier = {
			    factor = 1.9
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 9
					}
				}

			}
			modifier = {
			    factor = 2
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 10
					}
				}

			}
			modifier = {
			    factor = 2.1
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 11
					}
				}

			}
			modifier = {
			    factor = 2.2
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 12
					}
				}

			}
			modifier = {
			    factor = 2.3
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 13
					}
				}

			}
			modifier = {
			    factor = 2.4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 14
					}
				}

			}
			modifier = {
			    factor = 2.5
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 15
					}
				}

			}
			modifier = {
			    factor = 2.6
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 16
					}
				}

			}
			modifier = {
			    factor = 2.7
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 17
					}
				}

			}
			modifier = {
			    factor = 2.8
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 18
					}
				}

			}
			modifier = {
			    factor = 2.9
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 19
					}
				}

			}
			modifier = {
			    factor = 3
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 20
					}
				}

			}
			modifier = {
			    factor = 3.1
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 21
					}
				}

			}
			modifier = {
			    factor = 3.2
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 22
					}
				}

			}
			modifier = {
			    factor = 3.3
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 23
					}
				}

			}
			modifier = {
			    factor = 3.4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 24
					}
				}

			}
			modifier = {
			    factor = 3.5
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 25
					}
				}

			}
			modifier = {
			    factor = 3.6
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 26
					}
				}

			}
			modifier = {
			    factor = 3.7
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 27
					}
				}

			}
			modifier = {
			    factor = 3.8
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 28
					}
				}

			}
			modifier = {
			    factor = 3.9
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 29
					}
				}

			}
			modifier = {
			    factor = 4
			    event_target:magic_caster = {
					check_variable = {
						which = "caster_level_dispel"
						value = 30
					}
				}

			}
			event_target:magic_caster = {
			    change_variable = {
					which = "magicxp"
					value = 1
				}

			}
		}
	}
}

z_duel_menu_clr = {
	clr_character_flag = duel_action_meele
    clr_character_flag = duel_action_dodge
    clr_character_flag = duel_action_block
    clr_character_flag = duel_action_assess
    clr_character_flag = magic_channel
    clr_character_flag = high_magic_duel_healing
    clr_character_flag = high_magic_duel_shielding
    clr_character_flag = high_magic_duel_fire
    clr_character_flag = high_magic_duel_curse
    set_variable = {
		which = "action_nr"
		value = 0
	}
    set_variable = {
		which = "action_picked"
		value = 0
	}
    # BASIC ACTIONS
    set_variable = {
		which = "d_action_meele_strike"
		value = 0
	}
    set_variable = {
		which = "d_action_dodge"
		value = 0
	}
    set_variable = {
		which = "d_action_parry"
		value = 0
	}
    set_variable = {
		which = "d_action_assess"
		value = 0
	}
    set_variable = {
		which = "d_action_channel"
		value = 0
	}
    #Magic Actions, High Magic
    set_variable = {
		which = "d_action_high_magic_healing"
		value = 0
	}
    set_variable = {
		which = "d_action_high_magic_shielding"
		value = 0
	}
    set_variable = {
		which = "d_action_high_magic_mage_fire"
		value = 0
	}
    set_variable = {
		which = "d_action_high_magic_curse"
		value = 0
	}
}

magic_dmg_effect = {
	while = {
		limit = {
			event_target:magic_caster = {
				check_variable = {
					which = zdmg
					value = 1
				}
			}
		}
		event_target:magic_caster = {
			subtract_variable = {
				which = zdmg
				value = 1
			}
		}
		random_list = {
			1 = {
			}
			4 = {
				damage_unit = {
					amount = 5
				}
			}
			2 = {
				damage_unit = {
					amount = 10
				}
			}
			1 = {
				damage_unit = {
					amount = 15
				}
			}
			1 = {
				damage_unit = {
					amount = 20
				}
			}
			1 = {
				damage_unit = {
					amount = 25
				}
			}
		}
		if = {
			limit = {
				event_target:magic_caster = {
                    in_siege = yes
				}
			}
			random_list = {
				1 = {
				}
				4 = {
					troops = -0.005
				}
				2 = {
					troops = -0.01
				}
				1 = {
					troops = -0.015
				}
				1 = {
					troops = -0.02
				}
				1 = {
					troops = -0.025
				}
			}
		}
	}
}

magic_dmg_effect_metal = {
	while = {
		limit = {
			event_target:magic_caster = {
				check_variable = {
					which = zdmg
					value = 1
				}
			}
		}
		event_target:magic_caster = {
			subtract_variable = {
				which = zdmg
				value = 1
			}
		}
		random_list = {
			1 = {
			}
			4 = {
				damage_unit = {
					amount = 5
				}
			}
			2 = {
				damage_unit = {
					amount = 10
				}
			}
			1 = {
				damage_unit = {
					amount = 15
				}
			}
			1 = {
				damage_unit = {
					amount = 20
				}
			}
			1 = {
				damage_unit = {
					amount = 25
				}
			}
		}
		random_list = {
			1 = {
			}
			4 = {
				damage_unit = {
					amount = 5
					type = heavy_infantry
				}
			}
			2 = {
				damage_unit = {
					amount = 10
					type = heavy_infantry
				}
			}
			1 = {
				damage_unit = {
					amount = 15
					type = heavy_infantry
				}
			}
			1 = {
				damage_unit = {
					amount = 20
					type = heavy_infantry
				}
			}
			1 = {
				damage_unit = {
					amount = 25
					type = heavy_infantry
				}
			}
		}
		random_list = {
			1 = {
			}
			4 = {
				damage_unit = {
					amount = 5
					type = pikemen
				}
			}
			2 = {
				damage_unit = {
					amount = 10
					type = pikemen
				}
			}
			1 = {
				damage_unit = {
					amount = 15
					type = pikemen
				}
			}
			1 = {
				damage_unit = {
					amount = 20
					type = pikemen
				}
			}
			1 = {
				damage_unit = {
					amount = 25
					type = pikemen
				}
			}
		}
		random_list = {
			1 = {
			}
			4 = {
				damage_unit = {
					amount = 5
					type = knights
				}
			}
			2 = {
				damage_unit = {
					amount = 10
					type = knights
				}
			}
			1 = {
				damage_unit = {
					amount = 15
					type = knights
				}
			}
			1 = {
				damage_unit = {
					amount = 20
					type = knights
				}
			}
			1 = {
				damage_unit = {
					amount = 25
					type = knights
				}
			}
		}
		if = {
			limit = {
				event_target:magic_caster = {
                    in_siege = yes
				}
			}
			random_list = {
				1 = {
				}
				4 = {
					troops = -0.005
				}
				2 = {
					troops = -0.01
				}
				1 = {
					troops = -0.015
				}
				1 = {
					troops = -0.02
				}
				1 = {
					troops = -0.025
				}
			}
		}
	}
}

magic_dmg_effect_lightning = {
	while = {
		limit = {
			event_target:magic_caster = {
				check_variable = {
					which = zdmg
					value = 1
				}
			}
		}
		event_target:magic_caster = {
			subtract_variable = {
				which = zdmg
				value = 1
			}
		}
		random_list = {
			1 = {
			}
			4 = {
				damage_unit = {
					amount = 5
				}
			}
			2 = {
				damage_unit = {
					amount = 10
				}
			}
			1 = {
				damage_unit = {
					amount = 15
				}
			}
			1 = {
				damage_unit = {
					amount = 20
				}
			}
			1 = {
				damage_unit = {
					amount = 25
				}
			}
		}
		random_list = {
			1 = {
			}
			4 = {
				damage_unit = {
					amount = 5
					type = heavy_troops
				}
			}
			2 = {
				damage_unit = {
					amount = 10
					type = heavy_troops
				}
			}
			1 = {
				damage_unit = {
					amount = 15
					type = heavy_troops
				}
			}
			1 = {
				damage_unit = {
					amount = 20
					type = heavy_troops
				}
			}
			1 = {
				damage_unit = {
					amount = 25
					type = heavy_troops
				}
			}
		}
		random_list = {
			1 = {
			}
			4 = {
				damage_unit = {
					amount = 5
					type = special_troops
				}
			}
			2 = {
				damage_unit = {
					amount = 10
					type = special_troops
				}
			}
			1 = {
				damage_unit = {
					amount = 15
					type = special_troops
				}
			}
			1 = {
				damage_unit = {
					amount = 20
					type = special_troops
				}
			}
			1 = {
				damage_unit = {
					amount = 25
					type = special_troops
				}
			}
		}
		if = {
			limit = {
				event_target:magic_caster = {
                    in_siege = yes
				}
			}
			random_list = {
				1 = {
				}
				4 = {
					troops = -0.005
				}
				2 = {
					troops = -0.01
				}
				1 = {
					troops = -0.015
				}
				1 = {
					troops = -0.02
				}
				1 = {
					troops = -0.025
				}
			}
		}
	}
}

morale_dmg_effect = {
	while = {
		limit = {
			event_target:magic_caster = {
				check_variable = {
					which = zmoraledmg
					value = 1
				}
			}
		}
		event_target:magic_caster = {
			subtract_variable = {
				which = zmoraledmg
				value = 1
			}
		}
		random_list = {
			1 = {
			}
			4 = {
				damage_unit_morale = 0.01
			}
			2 = {
				damage_unit_morale = 0.02
			}
			1 = {
				damage_unit_morale = 0.03
			}
			1 = {
				damage_unit_morale = 0.04
			}
			1 = {
				damage_unit_morale = 0.06
			}
		}
		if = {
			limit = {
				event_target:magic_caster = {
                    in_siege = yes
				}
			}
			random_list = {
				1 = {
				}
				4 = {
					morale = -0.005
				}
				2 = {
					morale = -0.01
				}
				1 = {
					morale = -0.015
				}
				1 = {
					morale = -0.02
				}
				1 = {
					morale = -0.025
				}
			}
		}
	}
}

heal_effect = {
	while = {
		limit = {
			event_target:magic_caster = {
				check_variable = {
					which = zheal
					value = 1
				}
			}
		}
		event_target:magic_caster = {
			subtract_variable = {
				which = zheal
				value = 1
			}
		}
		random_list = {
			4 = {
                troops = 0.005
			}
			2 = {
                troops = 0.010
			}
			1 = {
                troops = 0.015
			}
			1 = {
                troops = 0.020
			}
			1 = {
                troops = 0.025

			}
		}
	}
}

morale_heal_effect = {
	while = {
		limit = {
			event_target:magic_caster = {
				check_variable = {
					which = zmoraleheal
					value = 1
				}
			}
		}
		event_target:magic_caster = {
			subtract_variable = {
				which = zmoraleheal
				value = 1
			}
		}
		random_list = {
			1 = {
			}
			4 = {
				morale = 0.01
			}
			2 = {
				morale = 0.02
			}
			1 = {
				morale = 0.03
			}
			1 = {
				morale = 0.04
			}
			1 = {
				morale = 0.06
			}
		}
	}
}

magic_physical_healing = {
	event_target:spelltarget = {
		if = {
			limit = {
				trait = wounded
			}
			random_list = {
				60 = {
					remove_trait = wounded
				}
				40 = {
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = maimed
			}
			random_list = {
				50 = {
					remove_trait = maimed
				}
				50 = {
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = incapable
			}
			random_list = {
				40 = {
					remove_trait = incapable
				}
				60 = {
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = troubled_pregnancy
			}
			random_list = {
				40 = {
					remove_trait = troubled_pregnancy
				}
				60 = {
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = hard_pregnancy
			}
			random_list = {
				50 = {
					remove_trait = hard_pregnancy
				}
				50 = {
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = disfigured
			}
			random_list = {
				50 = {
					remove_trait = disfigured
				}
				50 = {
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = severely_injured
			}
			random_list = {
				50 = {
					remove_trait = severely_injured
				}
				50 = {
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = one_eyed
			}
			random_list = {
				15 = {
					remove_trait = one_eyed
				}
				50 = {
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = one_handed
			}
			random_list = {
				5 = {
					remove_trait = one_handed
				}
				50 = {
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = one_legged
			}
			random_list = {
				1 = {
					remove_trait = one_legged
				}
				50 = {
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = mangled
			}
			random_list = {
				15 = {
					remove_trait = mangled
				}
				50 = {
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = cancer
			}
			random_list = {
				15 = {
					remove_trait = cancer
				}
				50 = {
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
	}
}

magic_disease_healing = {
	event_target:spelltarget = {
		if = {
			limit = {
				trait = flu
			}
			random_list = {
				60 = {
					remove_trait = flu
				}
				40 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = dysentery
			}
			random_list = {
				60 = {
					remove_trait = dysentery
				}
				40 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = gout
			}
			random_list = {
				60 = {
					remove_trait = gout
				}
				40 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = food_poisoning
			}
			random_list = {
				60 = {
					remove_trait = food_poisoning
				}
				40 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = rabies
			}
			random_list = {
				50 = {
					remove_trait = rabies
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = cancer
			}
			random_list = {
				30 = {
					remove_trait = cancer
				}
				70 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = sick_incapable
			}
			random_list = {
				50 = {
					remove_trait = sick_incapable
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = dancing_plague
			}
			random_list = {
				15 = {
					remove_trait = dancing_plague
				}
				85 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = scurvy
			}
			random_list = {
				15 = {
					remove_trait = scurvy
				}
				85 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = lovers_pox
			}
			random_list = {
				50 = {
					remove_trait = lovers_pox
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = sickly
			}
			random_list = {
				15 = {
					remove_trait = sickly
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = ill
			}
			random_list = {
				45 = {
					remove_trait = ill
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = pneumonic
			}
			random_list = {
				50 = {
					remove_trait = pneumonic
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = syphilitic
			}
			random_list = {
				50 = {
					remove_trait = syphilitic
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = leper
			}
			random_list = {
				50 = {
					remove_trait = leper
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = has_tuberculosis
			}
			random_list = {
				50 = {
					remove_trait = has_tuberculosis
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = has_typhoid_fever
			}
			random_list = {
				50 = {
					remove_trait = has_typhoid_fever
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = has_typhus
			}
			random_list = {
				50 = {
					remove_trait = has_typhus
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = has_bubonic_plague
			}
			random_list = {
				50 = {
					remove_trait = has_bubonic_plague
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = has_measles
			}
			random_list = {
				50 = {
					remove_trait = has_measles
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = has_small_pox
			}
			random_list = {
				50 = {
					remove_trait = has_small_pox
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = has_creeping_buboes
			}
			random_list = {
				50 = {
					remove_trait = has_creeping_buboes
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = has_green_pox
			}
			random_list = {
				50 = {
					remove_trait = has_green_pox
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = has_red_pox
			}
			random_list = {
				50 = {
					remove_trait = has_red_pox
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = has_rattlelung
			}
			random_list = {
				50 = {
					remove_trait = has_rattlelung
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = has_tomb_rot
			}
			random_list = {
				50 = {
					remove_trait = has_tomb_rot
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = has_nurgles_rot
			}
			random_list = {
				50 = {
					remove_trait = has_nurgles_rot
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = has_bone_auge
			}
			random_list = {
				50 = {
					remove_trait = has_bone_auge
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
	}
}

magic_symptoms_healing = {
	event_target:spelltarget = {
		if = {
			limit = {
				trait = cough
			}
			random_list = {
				60 = {
					remove_trait = cough
				}
				40 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = fever
			}
			random_list = {
				50 = {
					remove_trait = fever
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = diarrhea
			}
			random_list = {
				40 = {
					remove_trait = diarrhea
				}
				60 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = vomiting
			}
			random_list = {
				40 = {
					remove_trait = vomiting
				}
				60 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = chest_pain
			}
			random_list = {
				50 = {
					remove_trait = chest_pain
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = cramps
			}
			random_list = {
				50 = {
					remove_trait = cramps
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = rash
			}
			random_list = {
				50 = {
					remove_trait = rash
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = headache
			}
			random_list = {
				45 = {
					remove_trait = headache
				}
				55 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = abdominal_pain
			}
			random_list = {
				50 = {
					remove_trait = abdominal_pain
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = fatigue
			}
			random_list = {
				75 = {
					remove_trait = fatigue
				}
				25 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = malaise
			}
			random_list = {
				50 = {
					remove_trait = malaise
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = infection
			}
			random_list = {
				35 = {
					remove_trait = infection
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = stressed
			}
			random_list = {
				50 = {
					remove_trait = stressed
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = depressed
			}
			random_list = {
				50 = {
					remove_trait = depressed
				}
				50 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
	}
}

magic_spiritual_healing = {
	event_target:spelltarget = {
		if = {
			limit = {
				trait = lunatic_1
			}
			random_list = {
				55 = {
					remove_trait = lunatic_1
				}
				40 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = lunatic_2
			}
			random_list = {
				45 = {
					remove_trait = lunatic_2
				}
				40 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = lunatic_3
			}
			random_list = {
				25 = {
					remove_trait = lunatic_3
				}
				40 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = lunatic
			}
			random_list = {
				60 = {
					remove_trait = lunatic
				}
				40 = {
					character_event = {
						id = aicleanup.010
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 2
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 3
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 4
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = wroth
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = slothful
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
			}
		}
		if = {
			limit = {
				trait = possessed
				NOT = {
					culture_group = daemonic_group
				}
				is_undead_trigger = no
			}
			random_list = {
				40 = {
					character_event = {
						id = wh_chaos.79
					} #success
					modifier = {
						factor = 0.75
						PREV = {
							has_character_modifier = magic_power_3
						}
					}
					modifier = {
						factor = 0.50
						PREV = {
							has_character_modifier = magic_power_4
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = magic_potential_3
						}
					}
					modifier = {
						factor = 1.95
						event_target:magic_caster = {
							trait = magic_potential_4
						}
					}
					modifier = {
						factor = 1.75
						event_target:magic_caster = {
							trait = genius
						}
					}
					modifier = {
						factor = 1.5
						event_target:magic_caster = {
							trait = brilliant
						}
					}
					modifier = {
						factor = 1.45
						event_target:magic_caster = {
							trait = smart
						}
					}
					modifier = {
						factor = 1.35
						event_target:magic_caster = {
							trait = quick
						}
					}
					modifier = {
						factor = 1.25
						event_target:magic_caster = {
							trait = bright
						}
					}
					modifier = {
						factor = 0.95
						event_target:magic_caster = {
							trait = dim
						}
					}
					modifier = {
						factor = 0.75
						event_target:magic_caster = {
							trait = dumb
						}
					}
					modifier = {
						factor = 0.5
						event_target:magic_caster = {
							trait = slow
						}
					}
					modifier = {
						factor = 0.45
						event_target:magic_caster = {
							trait = idiot
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							trait = imbecile
						}
					}
					modifier = {
						factor = 0.5
						event_target:magic_caster = {
							trait = hedge_wizard
						}
					}
				}
				40 = {
					character_event = {
						id = wh_chaos.80
					} #failure
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
				}
				20 = {
					character_event = {
						id = wh_chaos.81
					} #deadly failure
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 1
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 2
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 3
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 4
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 5
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 6
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 7
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 8
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 9
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 10
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 11
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 12
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 13
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 14
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 15
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 16
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 17
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 18
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 19
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 20
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 21
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 22
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 23
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 24
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 25
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 26
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 27
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 28
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 29
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 30
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 31
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 32
							}
						}
					}
					modifier = {
						factor = 0.25
						event_target:magic_caster = {
							check_variable = {
								which = "caster_level_spellpower"
								value = 33
							}
						}
					}
				}
			}
		}
	}
}

magic_monstrous = {
	magic_resist_test = yes
	if = {
		limit = {
			event_target:magic_caster = {
				not = {
					has_character_flag = resisted
				}
			}
		}
		random_list = {
			25 = {
				modifier = {
					factor = 0.9
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 1
						}
					}
				}
				modifier = {
					factor = 1.0
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 2
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 3
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 4
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 5
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 6
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 7
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 8
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 9
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 10
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 11
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 12
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 13
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 14
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 15
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 16
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 17
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 18
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 19
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 20
						}
					}
				}
				event_target:spelltarget = {
					character_event = {
						id = beasts_lore_non_battle.110
					}
				} #success
			}
			50 = {
			}
		}
	}
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = resisted
			}
		}
		event_target:magic_caster = {
			clr_character_flag = resisted
		}
		event_target:spelltarget = {
			#character_event = { id = beasts_lore_non_battle.103 }
		}
	}
}

magic_toad = {
	magic_resist_test = yes
	if = {
		limit = {
			event_target:magic_caster = {
				not = {
					has_character_flag = resisted
				}
			}
		}
		random_list = {
			25 = {
				modifier = {
					factor = 0.9
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 1
						}
					}
				}
				modifier = {
					factor = 1.0
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 2
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 3
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 4
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 5
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 6
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 7
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 8
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 9
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 10
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 11
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 12
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 13
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 14
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 15
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 16
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 17
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 18
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 19
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 20
						}
					}
				}
				event_target:spelltarget = {
					character_event = {
						id = beasts_lore_non_battle.120
					}
				} #success
			}
			50 = {
			}
		}
	}
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = resisted
			}
		}
		event_target:magic_caster = {
			clr_character_flag = resisted
		}
		event_target:spelltarget = {
			#character_event = { id = beasts_lore_non_battle.103 }
		}
	}
}

magic_pig = {
	magic_resist_test = yes
	if = {
		limit = {
			event_target:magic_caster = {
				not = {
					has_character_flag = resisted
				}
			}
		}
		random_list = {
			25 = {
				modifier = {
					factor = 0.9
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 1
						}
					}
				}
				modifier = {
					factor = 1.0
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 2
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 3
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 4
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 5
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 6
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 7
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 8
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 9
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 10
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 11
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 12
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 13
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 14
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 15
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 16
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 17
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 18
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 19
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 20
						}
					}
				}
				event_target:spelltarget = {
					character_event = {
						id = beasts_lore_non_battle.130
					}
				} #success
			}
			50 = {
			}
		}
	}
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = resisted
			}
		}
		event_target:magic_caster = {
			clr_character_flag = resisted
		}
		event_target:spelltarget = {
			#character_event = { id = beasts_lore_non_battle.103 }
		}
	}
}

z_magic_purge = {
	magic_resist_test = yes
	if = {
		limit = {
			event_target:magic_caster = {
				not = {
					has_character_flag = resisted
				}
			}
		}
		random_list = {
			25 = {
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 1
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 2
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 3
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 4
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 5
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 6
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 7
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 8
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 9
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 10
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 11
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 12
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 13
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 14
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 15
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 16
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 17
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 18
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 19
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 20
						}
					}
				}
				death = {
					death_reason = z_light_purification_daemon killer = event_target:magic_caster
				}
			}
			75 = {
			}
		}
	}
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = resisted
			}
		}
		event_target:magic_caster = {
			clr_character_flag = resisted
		}
		event_target:spelltarget = {
			#character_event = { id = beasts_lore_non_battle.103 }
		}
	}
}

z_magic_deathly_curse = {
	magic_resist_test = yes
	if = {
		limit = {
			event_target:magic_caster = {
				not = {
					has_character_flag = resisted
				}
			}
		}
		random_list = {
			75 = {
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 1
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 2
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 3
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 4
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 5
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 6
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 7
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 8
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 9
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 10
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 11
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 12
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 13
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 14
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 15
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 16
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 17
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 18
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 19
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 20
						}
					}
				}
				death = {
					death_reason = z_light_purification_daemon killer = event_target:magic_caster
				}
			}
			25 = {
			}
		}
	}
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = resisted
			}
		}
		event_target:magic_caster = {
			clr_character_flag = resisted
		}
		event_target:spelltarget = {
			#character_event = { id = beasts_lore_non_battle.103 }
		}
	}
}

z_magic_influence_positive = {
	magic_resist_test = yes
	character_event = {
		id = z_spell_menu.99998
	}
	if = {
		limit = {
			event_target:magic_caster = {
				not = {
					has_character_flag = resisted
				}
			}
		}
		random_list = {
			75 = {
				modifier = {
					factor = 0.9
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 1
						}
					}
				}
				modifier = {
					factor = 1.0
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 2
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 3
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 4
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 5
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 6
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 7
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 8
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 9
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 10
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 11
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 12
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 13
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 14
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 15
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 16
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 17
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 18
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 19
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 20
						}
					}
				}
				event_target:spelltarget = {
					opinion = {
						modifier = z_mental_whispers_positive who = event_target:spell_subject years = 5
					}
				} #success
			}
			25 = {
			}
		}
	}
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = resisted
			}
		}
		event_target:magic_caster = {
			clr_character_flag = resisted
		}
	}
}

z_magic_influence_negative = {
	magic_resist_test = yes
	character_event = {
		id = z_spell_menu.99998
	}
	if = {
		limit = {
			event_target:magic_caster = {
				not = {
					has_character_flag = resisted
				}
			}
		}
		random_list = {
			75 = {
				modifier = {
					factor = 0.9
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 1
						}
					}
				}
				modifier = {
					factor = 1.0
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 2
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 3
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 4
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 5
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 6
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 7
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 8
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 9
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 10
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 11
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 12
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 13
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 14
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 15
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 16
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 17
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 18
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 19
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 20
						}
					}
				}
				event_target:spelltarget = {
					opinion = {
						modifier = z_mental_whispers_negative who = event_target:spell_subject years = 5
					}
				} #success
			}
			25 = {
			}
		}
	}
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = resisted
			}
		}
		event_target:magic_caster = {
			clr_character_flag = resisted
		}
	}
}

z_clr_mind_influence_modifiers = {
	event_target:magic_caster = {
		clr_character_flag = positiveinfluence@ROOT
		clr_character_flag = negativeinfluence@ROOT
		clr_character_flag = mindcontrol@ROOT
		clr_character_flag = myperspective@ROOT
		clr_character_flag = theirperspective@ROOT
	}
}

z_influence_option = {
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = positiveinfluence@ROOT
			}
		}
		z_magic_influence_positive = yes
		z_clr_mind_influence_modifiers = yes
	}
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = negativeinfluence@ROOT
			}
		}
		z_magic_influence_negative= yes
		z_clr_mind_influence_modifiers = yes
	}
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = mindcontrol@ROOT
			}
		}
		z_clr_mind_influence_modifiers = yes
		character_event = {
			id = shadows_lore_non_battle.303
		}
	}
	z_clr_mind_influence_modifiers = yes
}

z_magic_prosperity_increase = {
	if = {
		limit = {
			has_province_modifier = prosperity_modifier_2
		}
		remove_province_modifier = prosperity_modifier_2
		add_province_modifier = {
			name = prosperity_modifier_3 duration = -1
		}
	}
	if = {
		limit = {
			has_province_modifier = prosperity_modifier_1
		}
		remove_province_modifier = prosperity_modifier_1
		add_province_modifier = {
			name = prosperity_modifier_2 duration = -1
		}
	}
	if = {
		limit = {
			not = {
				or ={
					has_province_modifier = prosperity_modifier_3
					has_province_modifier = prosperity_modifier_2
					has_province_modifier = prosperity_modifier_1
				}
			}
		}
		add_province_modifier = {
			name = prosperity_modifier_1 duration = -1
		}
	}
}

z_magic_prosperity_decrease = {
	if = {
		limit = {
			has_province_modifier = prosperity_modifier_1
		}
		remove_province_modifier = prosperity_modifier_1
	}
	if = {
		limit = {
			has_province_modifier = prosperity_modifier_2
		}
		remove_province_modifier = prosperity_modifier_2
		add_province_modifier = {
			name = prosperity_modifier_1 duration = -1
		}
	}
	if = {
		limit = {
			has_province_modifier = prosperity_modifier_3
		}
		remove_province_modifier = prosperity_modifier_3
		add_province_modifier = {
			name = prosperity_modifier_2 duration = -1
		}
	}
}

z_magic_random_demense_building_slot_increase = {
	random_demesne_province = {
		limit = {
			NOT = {
				num_of_max_settlements = 7
			}
		}
		add_holding_slot = 1
	}
}

z_magic_reveal_plots = {
	random_unknown_plotter = {
		limit = {
			has_plot = yes
			NOT = {
				ROOT = {
					any_known_plotter = {
						character = PREVPREV
					}
				}
			}
		}
		save_event_target_as = lore_heavens_reveal
		break = yes
	}
	random_child = {
		limit = {
			any_unknown_plotter = {
				has_plot = yes
				NOT = {
					ROOT = {
						any_known_plotter = {
							character = PREVPREV
						}
					}
				}
			}
		}
		random_unknown_plotter = {
			limit = {
				has_plot = yes
				NOT = {
					ROOT = {
						any_known_plotter = {
							character = PREVPREV
						}
					}
				}
			}
			save_event_target_as = lore_heavens_reveal
			break = yes
		}
	}
	random_spouse = {
		limit = {
			any_unknown_plotter = {
				has_plot = yes
				NOT = {
					ROOT = {
						any_known_plotter = {
							character = PREVPREV
						}
					}
				}
			}
		}
		random_unknown_plotter = {
			limit = {
				has_plot = yes
				NOT = {
					ROOT = {
						any_known_plotter = {
							character = PREVPREV
						}
					}
				}
			}
			save_event_target_as = lore_heavens_reveal
			break = yes
		}
	}
	random_sibling = {
		limit = {
			any_unknown_plotter = {
				has_plot = yes
				NOT = {
					ROOT = {
						any_known_plotter = {
							character = PREVPREV
						}
					}
				}
			}
		}
		random_unknown_plotter = {
			limit = {
				has_plot = yes
				NOT = {
					ROOT = {
						any_known_plotter = {
							character = PREVPREV
						}
					}
				}
			}
			save_event_target_as = lore_heavens_reveal
			break = yes
		}
	}
	random_child = {
		limit = {
			any_child = {
				any_unknown_plotter = {
					has_plot = yes
					NOT = {
						ROOT = {
							any_known_plotter = {
								character = PREVPREV
							}
						}
					}
				}
			}
		}
		random_child = {
			limit = {
				any_unknown_plotter = {
					has_plot = yes
					NOT = {
						ROOT = {
							any_known_plotter = {
								character = PREVPREV
							}
						}
					}
				}
			}
			random_unknown_plotter = {
				limit = {
					has_plot = yes
					NOT = {
						ROOT = {
							any_known_plotter = {
								character = PREVPREV
							}
						}
					}
				}
				save_event_target_as = lore_heavens_reveal
				break = yes
			}
		}
	}
}

z_magic_dispel_undead = {
	magic_resist_test = yes
	if = {
		limit = {
			event_target:magic_caster = {
				not = {
					has_character_flag = resisted
				}
			}
		}
		random_list = {
			75 = {
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 1
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 2
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 3
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 4
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 5
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 6
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 7
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 8
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 9
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 10
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 11
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 12
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 13
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 14
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 15
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 16
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 17
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 18
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 19
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 20
						}
					}
				}
				event_target:spelltarget = {
					disband_event_forces = summoned_zombiehorde_1
					disband_event_forces = summoned_zombiehorde_2
					disband_event_forces = summoned_zombiehorde_3
					disband_event_forces = summoned_zombiehorde_4
					disband_event_forces = summoned_zombiehorde_5
					disband_event_forces = summoned_zombiehorde_6
					disband_event_forces = summoned_zombiehorde_7
					disband_event_forces = summoned_zombiehorde_8
					disband_event_forces = summoned_zombiehorde_9
					disband_event_forces = summoned_zombiehorde_10
				}
			}
			25 = {
			}
		}
	}
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = resisted
			}
		}
		event_target:magic_caster = {
			clr_character_flag = resisted
		}
		event_target:spelltarget = {
			#character_event = { id = beasts_lore_non_battle.103 }
		}
	}
}

z_magic_lore_curse = {
	magic_resist_test = yes
	if = {
		limit = {
			event_target:magic_caster = {
				not = {
					has_character_flag = resisted
				}
			}
		}
		random_list = {
			75 = {
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 1
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 2
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 3
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 4
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 5
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 6
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 7
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 8
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 9
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 10
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 11
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 12
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 13
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 14
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 15
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 16
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 17
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 18
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 19
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 20
						}
					}
				}
				add_trait = infirm
				add_character_modifier = {
					name = z_death_lore_curse duration = 120 stacking = yes
				}
			}
			25 = {
			}
		}
	}
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = resisted
			}
		}
		event_target:magic_caster = {
			clr_character_flag = resisted
		}
		event_target:spelltarget = {
			#character_event = { id = beasts_lore_non_battle.103 }
		}
	}
}

z_magic_enchant = {
	magic_resist_test = yes
	character_event = {
		id = z_spell_menu.99998
	}
	if = {
		limit = {
			event_target:magic_caster = {
				not = {
					has_character_flag = resisted
				}
			}
		}
		random_list = {
			75 = {
				modifier = {
					factor = 0.9
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 1
						}
					}
				}
				modifier = {
					factor = 1.0
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 2
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 3
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 4
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 5
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 6
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 7
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 8
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 9
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 10
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 11
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 12
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 13
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 14
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 15
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 16
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 17
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 18
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 19
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 20
						}
					}
				}
				event_target:spelltarget = {
					opinion = {
						modifier = z_spell_enchantment who = event_target:spell_subject years = 15
					}
				} #success
			}
			25 = {
			}
		}
	}
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = resisted
			}
		}
		event_target:magic_caster = {
			clr_character_flag = resisted
		}
	}
}

z_magic_enslave = {
	magic_resist_test = yes
	character_event = {
		id = z_spell_menu.99998
	}
	if = {
		limit = {
			event_target:magic_caster = {
				not = {
					has_character_flag = resisted
				}
			}
		}
		random_list = {
			75 = {
				modifier = {
					factor = 0.9
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 1
						}
					}
				}
				modifier = {
					factor = 1.0
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 2
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 3
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 4
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 5
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 6
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 7
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 8
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 9
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 10
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 11
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 12
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 13
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 14
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 15
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 16
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 17
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 18
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 19
						}
					}
				}
				modifier = {
					factor = 1.1
					event_target:magic_caster = {
						check_variable = {
							which = "caster_level_spellpower"
							value = 20
						}
					}
				}
				event_target:spelltarget = {
					opinion = {
						modifier = z_spell_ensalve who = event_target:spell_subject years = 15
					}
				} #success
			}
			25 = {
			}
		}
	}
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = resisted
			}
		}
		event_target:magic_caster = {
			clr_character_flag = resisted
		}
	}
}

z_magic_power_sequential_addition = {
	z_magic_xp_turnon = yes
	if = {
		limit = {
			calc_true_if  = {
				has_character_modifier = magic_power_4
				has_character_modifier = magic_power_3
				has_character_modifier = magic_power_2
				has_character_modifier = magic_power_1
				amount = 2
			}
		}
		z_magic_power_complete_removal = yes
		z_magic_power_sequential_addition = yes
	}
	if = {
		limit = {
			has_character_modifier = magic_power_3
			nor = {
				has_character_modifier = magic_power_4
				has_character_modifier = magic_power_2
				has_character_modifier = magic_power_1
			}
		}
		remove_character_modifier = magic_power_3
		add_character_modifier = {
			name = magic_power_4
			duration = -1
		}
		if = {
			limit = {
				not = {
					check_variable = {
						which = "magicxp"
						value = 300
					}
				}
			}
			set_variable = {
				which = "magicxp"
				value = 300
			}
		}
	}
	if = {
		limit = {
			has_character_modifier = magic_power_2
			nor = {
				has_character_modifier = magic_power_4
				has_character_modifier = magic_power_3
				has_character_modifier = magic_power_1
			}
		}
		remove_character_modifier = magic_power_2
		add_character_modifier = {
			name = magic_power_3
			duration = -1
		}
		if = {
			limit = {
				not = {
					check_variable = {
						which = "magicxp"
						value = 100
					}
				}
			}
			set_variable = {
				which = "magicxp"
				value = 100
			}
		}
	}
	if = {
		limit = {
			has_character_modifier = magic_power_1
			nor = {
				has_character_modifier = magic_power_4
				has_character_modifier = magic_power_3
				has_character_modifier = magic_power_2
			}
		}
		remove_character_modifier = magic_power_1
		add_character_modifier = {
			name = magic_power_2
			duration = -1
		}
		if = {
			limit = {
				not = {
					check_variable = {
						which = "magicxp"
						value = 50
					}
				}
			}
			set_variable = {
				which = "magicxp"
				value = 50
			}
		}
	}
	if = {
		limit = {
			nor = {
				has_character_modifier = magic_power_4
				has_character_modifier = magic_power_3
				has_character_modifier = magic_power_2
				has_character_modifier = magic_power_1
			}
		}
		add_character_modifier = {
			name = magic_power_1
			duration = -1
		}
		if = {
			limit = {
				not = {
					check_variable = {
						which = "magicxp"
						value = 25
					}
				}
			}
			set_variable = {
				which = "magicxp"
				value = 25
			}
		}
	}
}

z_magic_power_sequential_subtraction = {
	z_magic_xp_turnon = yes
	if = {
		limit = {
			calc_true_if  = {
				has_character_modifier = magic_power_4
				has_character_modifier = magic_power_3
				has_character_modifier = magic_power_2
				has_character_modifier = magic_power_1
				amount = 2
			}
		}
		z_magic_power_complete_removal = yes
	}
	if = {
		limit = {
			has_character_modifier = magic_power_1
			nor = {
				has_character_modifier = magic_power_4
				has_character_modifier = magic_power_3
				has_character_modifier = magic_power_2
			}
		}
		remove_character_modifier = magic_power_1
		set_variable = {
			which = "magicxp"
			value = 15
		}
	}
	if = {
		limit = {
			has_character_modifier = magic_power_2
			nor = {
				has_character_modifier = magic_power_4
				has_character_modifier = magic_power_3
				has_character_modifier = magic_power_1
			}
		}
		remove_character_modifier = magic_power_2
		add_character_modifier = {
			name = magic_power_1 duration = -1
		}
		set_variable = {
			which = "magicxp"
			value = 40
		}
	}
	if = {
		limit = {
			has_character_modifier = magic_power_3
			nor = {
				has_character_modifier = magic_power_4
				has_character_modifier = magic_power_3
				has_character_modifier = magic_power_1
			}
		}
		remove_character_modifier = magic_power_3
		add_character_modifier = {
			name = magic_power_2 duration = -1
		}
		set_variable = {
			which = "magicxp"
			value = 90
		}
	}
	if = {
		limit = {
			has_character_modifier = magic_power_4
			nor = {
				has_character_modifier = magic_power_3
				has_character_modifier = magic_power_2
				has_character_modifier = magic_power_1
			}
		}
		remove_character_modifier = magic_power_4
		add_character_modifier = {
			name = magic_power_3 duration = -1
		}
		set_variable = {
			which = "magicxp"
			value = 200
		}
	}
}

z_magic_power_complete_removal = {
	remove_character_modifier = magic_power_1
	remove_character_modifier = magic_power_2
	remove_character_modifier = magic_power_3
	remove_character_modifier = magic_power_4
}

z_magic_xp_turnon = {
	if = {
		limit = {
			z_has_magic_power_true = yes
			not = {
				has_character_flag = magicxp
				trait = vampire_jade_visible
			}
		}
		if = {
			limit = {
				has_character_modifier = magic_power_1
			}
			set_variable = {
				which = "magicxp"
				value = 25
			}
			set_character_flag = magicxp
		}
		if = {
			limit = {
				has_character_modifier = magic_power_2
			}
			set_variable = {
				which = "magicxp"
				value = 50
			}
			set_character_flag = magicxp
		}
		if = {
			limit = {
				has_character_modifier = magic_power_3
			}
			set_variable = {
				which = "magicxp"
				value = 100
			}
			set_character_flag = magicxp
		}
		if = {
			limit = {
				has_character_modifier = magic_power_4
			}
			set_variable = {
				which = "magicxp"
				value = 300
			}
			set_character_flag = magicxp
		}
	}
}

Z_magic_power_calculation = {
	if = {
		limit = {
			check_variable = {
				which = "magicxp"
				value = 300
			}
		}
		z_magic_power_complete_removal = yes
		add_character_modifier = {
			name = magic_power_4 duration = -1
		}
	}
	if = {
		limit = {
			check_variable = {
				which = "magicxp"
				value = 100
			}
			not = {
				check_variable = {
					which = "magicxp"
					value = 299
				}
			}
		}
		z_magic_power_complete_removal = yes
		add_character_modifier = {
			name = magic_power_3 duration = -1
		}
	}
	if = {
		limit = {
			check_variable = {
				which = "magicxp"
				value = 50
			}
			not = {
				check_variable = {
					which = "magicxp"
					value = 99
				}
			}
		}
		z_magic_power_complete_removal = yes
		add_character_modifier = {
			name = magic_power_2 duration = -1
		}
	}
	if = {
		limit = {
			not = {
				check_variable = {
					which = "magicxp"
					value = 49
				}
			}
		}
		z_magic_power_complete_removal = yes
		add_character_modifier = {
			name = magic_power_1 duration = -1
		}
	}
}

z_magic_power_random = {
	z_magic_power_complete_removal = yes
	random_list = {
		8 = {
			add_character_modifier = {
				name = magic_power_1
				duration = -1
			}
			set_variable = {
				which = "magicxp"
				value = 25
			}
		}
		4 = {
			add_character_modifier = {
				name = magic_power_2
				duration = -1
			}
			set_variable = {
				which = "magicxp"
				value = 50
			}
		}
		2 = {
			add_character_modifier = {
				name = magic_power_3
				duration = -1
			}
			set_variable = {
				which = "magicxp"
				value = 100
			}
		}
		1 = {
			add_character_modifier = {
				name = magic_power_4
				duration = -1
			}
			set_variable = {
				which = "magicxp"
				value = 300
			}
		}
	}
	z_magic_xp_turnon = yes
}

magic_resist_test = {
	random_list = {
		40 = {
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance"
						value = 1
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance"
						value = 2
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance"
						value = 3
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance"
						value = 4
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance"
						value = 5
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance"
						value = 6
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance"
						value = 7
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance"
						value = 8
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance"
						value = 9
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance"
						value = 10
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance"
						value = 11
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance"
						value = 12
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance"
						value = 13
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance"
						value = 14
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance"
						value = 15
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance"
						value = 16
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance"
						value = 17
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance"
						value = 18
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance"
						value = 19
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance"
						value = 20
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance"
						value = 21
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance"
						value = 22
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance"
						value = 23
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance"
						value = 24
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance"
						value = 25
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance"
						value = 26
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance"
						value = 27
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance"
						value = 28
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance"
						value = 29
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:spelltarget = {
					check_variable = {
						which = "magical_resistance"
						value = 30
					}
				}
			}
			ROOT = {
				event_target:magic_caster = {
					set_character_flag = resisted
				}
			}
		}
		60 = {
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration"
						value = 1
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration"
						value = 2
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration"
						value = 3
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration"
						value = 4
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration"
						value = 5
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration"
						value = 6
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration"
						value = 7
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration"
						value = 8
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration"
						value = 9
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration"
						value = 10
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration"
						value = 11
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration"
						value = 12
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration"
						value = 13
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration"
						value = 14
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration"
						value = 15
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration"
						value = 16
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration"
						value = 17
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration"
						value = 18
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration"
						value = 19
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration"
						value = 20
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration"
						value = 21
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration"
						value = 22
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration"
						value = 23
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration"
						value = 24
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration"
						value = 25
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration"
						value = 26
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration"
						value = 27
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration"
						value = 28
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration"
						value = 29
					}
				}
			}
			modifier = {
				factor = 1.1
				event_target:magic_caster = {
					check_variable = {
						which = "magical_penetration"
						value = 30
					}
				}
			}
			event_target:magic_caster = {
				change_variable = {
					which = "magicxp"
					value = 1
				}
			}
		}
	}
}

magic_targeting_setup = {
}

magic_points_setup = {
	set_variable = {
		which = "spell_power_mod"
		value = 0
	}
	set_variable = {
		which = "spell_power"
		value = 0
	}
	set_variable = {
		which = "caster_level"
		value = 0
	}
	set_variable = {
		which = "caster_level_dispel"
		value = 0
	}
	set_variable = {
		which = "caster_level_miscast"
		value = 0
	}
	set_variable = {
		which = "caster_level_spellpower"
		value = 0
	}
	set_variable = {
		which = "warpcrack"
		value = 0
	}
	set_variable = {
		which = "magical_resistance"
		value = 0
	}
	set_variable = {
		which = "magical_penetration"
		value = 0
	}
	set_variable = {
		which = "magical_mod"
		value = 0
	}
	export_to_variable = {
   		which = magical_resistance

		value = learning
	}
	export_to_variable = {
   		which = magical_penetration

		value = learning
	}
	export_to_variable = {
   		which = magical_mod

		value = learning
	}
   	divide_variable = {
		which = "magical_mod"
		value = 10
	}
   	if = {
   		limit = {
	   		not = {
	   			check_variable = {
					which = "magical_mod"
					value = 0
				}

			}
		}
   		set_variable = {
			which = "magical_mod"
			value = 0
		}
	}
	if = {
		limit = {
			has_character_modifier = magic_power_1
		}
		set_variable = {
			which = "caster_level"
			value = 1
		}
	}
	if = {
		limit = {
			has_character_modifier =  magic_power_2
		}
		set_variable = {
			which = "caster_level"
			value = 2
		}
	}
	if = {
		limit = {
			has_character_modifier = magic_power_3
		}
		set_variable = {
			which = "caster_level"
			value = 3
		}
	}
	if = {
		limit = {
			has_character_modifier = magic_power_4
		}
		set_variable = {
			which = "caster_level"
			value = 4
		}
	}
	if = {
		limit = {
			has_character_modifier = warp_stone_1
		}
		set_variable = {
			which = "warpcrack"
			value = 1
		}
		remove_character_modifier = warp_stone_1
	}
	if = {
		limit = {
			has_character_modifier = warp_stone_2
		}
		set_variable = {
			which = "warpcrack"
			value = 2
		}
		remove_character_modifier = warp_stone_2
	}
	if = {
		limit = {
			has_character_modifier = warp_stone_3
		}
		set_variable = {
			which = "warpcrack"
			value = 3
		}
		remove_character_modifier = warp_stone_3
	}
	if = {
		limit = {
			has_character_modifier = warp_stone_4
		}
		set_variable = {
			which = "warpcrack"
			value = 4
		}
		remove_character_modifier = warp_stone_4
	}
	if = {
		limit = {
			has_character_modifier = warp_stone_5
		}
		set_variable = {
			which = "warpcrack"
			value = 5
		}
		remove_character_modifier = warp_stone_5
	}
	if = {
		limit = {
			has_artifact = mages_crown
		}
		change_variable = {
			which = "caster_level"
			value = 1
		}
	}
	if = {
		limit = {
			has_character_modifier = z_liege_boost_1
		}
		change_variable = {
			which = "caster_level"
			value = 1
		}
		remove_character_modifier = z_liege_boost_1
	}
	if = {
		limit = {
			has_character_modifier = z_liege_boost_2
		}
		change_variable = {
			which = "caster_level"
			value = 2
		}
		remove_character_modifier = z_liege_boost_2
	}
	if = {
		limit = {
			has_character_modifier = z_liege_boost_3
		}
		change_variable = {
			which = "caster_level"
			value = 3
		}
		remove_character_modifier = z_liege_boost_3
	}
	if = {
		limit = {
			trait = creature_slann
		}
		change_variable = {
			which = "caster_level"
			value = 1
		}
	}
	if = {
		limit = {
			or = {
				trait = creature_slann
				trait = skink_priest
			}
			has_artifact = stegadon_mount
		}
		change_variable = {
			which = "caster_level"
			value = 1
		}
	}
	if = {
		limit = {
			trait = creature_slann
		}
		change_variable = {
			which = "caster_level"
			value = 1
		}
	}
	set_variable = {
		which = "spell_power_mod" which = "caster_level"
	}
	set_variable = {
		which = "caster_level_dispel" which = "caster_level"
	}
	set_variable = {
		which = "caster_level_miscast" which = "caster_level"
	}
	set_variable = {
		which = "caster_level_spellpower" which = "caster_level"
	}
	change_variable = {
		which = "magical_resistance" which = "caster_level"
	}
	change_variable = {
		which = "magical_penetration" which = "caster_level"
	}
	multiply_variable = {
		which = "spell_power_mod"
		value = "2"
	}
	multiply_variable = {
		which = "caster_level_dispel"
		value = "2"
	}
	multiply_variable = {
		which = "caster_level_miscast"
		value = "2"
	}
	multiply_variable = {
		which = "caster_level_spellpower"
		value = "2"
	}
	multiply_variable = {
		which = "magical_resistance"
		value = "2"
	}
	multiply_variable = {
		which = "magical_penetration"
		value = "2"
	}
	if = {
		limit = {
			trait = warlock_engineer
		}
		set_variable = {
			which = "caster_level"
			value = 1
		}
		set_variable = {
			which = "caster_level_miscast"
			value = 1
		}
		set_variable = {
			which = "caster_level_dispel"
			value = 1
		}
		set_variable = {
			which = "caster_level_spellpower"
			value = 1
		}
	}
	change_variable = {
		which = "caster_level_spellpower" which = "magical_mod"
	}
	change_variable = {
		which = "caster_level_miscast" which = "magical_mod"
	}
	change_variable = {
		which = "caster_level_dispel" which = "magical_mod"
	}
	if = {
		limit = {
			has_artifact = mages_staff_1
		}
		change_variable = {
			which = "spell_power_mod"
			value = 1
		}
	}
	if = {
		limit = {
			has_artifact = mages_staff_2
		}
		change_variable = {
			which = "spell_power_mod"
			value = 2
		}
	}
	if = {
		limit = {
			has_artifact = mages_staff_3
		}
		change_variable = {
			which = "spell_power_mod"
			value = 3
		}
	}
	if = {
		limit = {
			has_artifact = mages_amulet_1
		}
		change_variable = {
			which = "caster_level_miscast"
			value = 1
		}
	}
	if = {
		limit = {
			has_artifact = mages_amulet_2
		}
		change_variable = {
			which = "caster_level_miscast"
			value = 2
		}
	}
	if = {
		limit = {
			has_artifact = mages_amulet_3
		}
		change_variable = {
			which = "caster_level_miscast"
			value = 3
		}
	}
	if = {
		limit = {
			has_artifact = mages_ring_1
		}
		change_variable = {
			which = "caster_level_dispel"
			value = 1
		}
	}
	if = {
		limit = {
			has_artifact = mages_ring_2
		}
		change_variable = {
			which = "caster_level_dispel"
			value = 2
		}
	}
	if = {
		limit = {
			has_artifact = mages_ring_3
		}
		change_variable = {
			which = "caster_level_dispel"
			value = 3
		}
	}
	change_variable = {
		which = "spell_power_mod" which = "warpcrack"
	}
	if = {
		limit = {
			trait = loremaster
		}
		change_variable = {
			which = "spell_power_mod"
			value = 8
		}
		change_variable = {
			which = "caster_level_dispel"
			value = 1
		}
		change_variable = {
			which = "caster_level_miscast"
			value = 1
		}
	}
	if = {
		limit = {
			or = {
				trait = avatar_isha
				trait = avatar_kurnous
				trait = everqueen
				trait = malekith
			}
		}
		change_variable = {
			which = "magical_resistance"
			value = 30
		}
	}
	if = {
		limit = {
			trait = creature_slann
		}
		change_variable = {
			which = "magical_resistance"
			value = 30
		}
		change_variable = {
			which = "caster_level_dispel"
			value = 2
		}
		change_variable = {
			which = "caster_level_miscast"
			value = 2
		}
	}
	if = {
		limit = {
			or = {
				culture_group = dwarf_group
				culture_group = dwarf_chaos_group
			}
		}
		change_variable = {
			which = "magical_resistance"
			value = 10
		}
	}
	if = {
		limit = {
			trait = hedge_wizard
		}
		change_variable = {
			which = "magical_resistance"
			value = -5
		}
	}
	if = {
		limit = {
			has_character_modifier = z_light_magic_wards_of_light
		}
		change_variable = {
			which = "caster_level_dispel"
			value = 9
		}
	}
	if = {
		limit = {
			not = {
				check_variable = {
					which = "spell_power_mod"
					value = 0
				}
			}
		}
		set_variable = {
			which = "spell_power_mod"
			value = 0
		}
	}
	if = {
		limit = {
			not = {
				check_variable = {
					which = "magical_resistance"
					value = 0
				}
			}
		}
		set_variable = {
			which = "magical_resistance"
			value = 0
		}
	}
	random_list = {
		1 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 1
				}
			}
			change_variable = {
				which = "spell_power"
				value = 1
			}
		}
		1 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 2
				}
			}
			change_variable = {
				which = "spell_power"
				value = 2
			}
		}
		1 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 3
				}
			}
			change_variable = {
				which = "spell_power"
				value = 3
			}
		}
		1 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 4
				}
			}
			change_variable = {
				which = "spell_power"
				value = 4
			}
		}
		1 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 4
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 5
				}
			}
			change_variable = {
				which = "spell_power"
				value = 5
			}
		}
		1 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 4
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 5
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 6
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 7
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 8
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 9
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 10
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 11
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 12
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 13
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 14
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 15
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 16
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 17
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 18
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 19
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 20
				}
			}
			change_variable = {
				which = "spell_power"
				value = 6
			}
		}
	}
	if = {
		limit = {
			has_character_modifier = magic_drain_1
		}
		change_variable = {
			which = "spell_power"
			value = -1
		}
		change_variable = {
			which = "magical_resistance"
			value = -1
		}
	}
	if = {
		limit = {
			has_character_modifier = magic_drain_2
		}
		change_variable = {
			which = "spell_power"
			value = -3
		}
		change_variable = {
			which = "magical_resistance"
			value = -2
		}
	}
	if = {
		limit = {
			has_character_modifier = magic_drain_3
		}
		change_variable = {
			which = "spell_power"
			value = -5
		}
		change_variable = {
			which = "magical_resistance"
			value = -3
		}
	}
	if = {
		limit = {
			has_character_modifier = magic_drain_4
		}
		set_variable = {
			which = "spell_power"
			value = 0
		}
		set_variable = {
			which = "magical_resistance"
			value = 0
		}
	}
}

magic_xp_counter = {
	if = {
		limit = {
			z_has_magic_power_true = yes
			not = {
				has_character_flag = magicxp
			}
		}
		z_magic_xp_turnon = yes
		set_variable = {
			which = "magicxp"
			value = 0
		}
	}
	random_list = {
		1 = {
			change_variable = {
				which = "magicxp"
				value = 1
			}
		}
		1 = {
			change_variable = {
				which = "magicxp"
				value = 2
			}
		}
		1 = {
			change_variable = {
				which = "magicxp"
				value = 3
			}
		}
		1 = {
			change_variable = {
				which = "magicxp"
				value = 4
			}
		}
		1 = {
			change_variable = {
				which = "magicxp"
				value = 5
			}
		}
	}
}

magic_spells_known = {
	set_variable = {
		which = "spellknownlvl"
		value = 0
	}
	change_variable = {
		which = "spellknownlvl" which = "caster_level"
	}
	change_variable = {
		which = "spellknownlvl" which = "warpcrack"
	}
}

magic_item_proc = {
	if = {
		limit = {
			check_variable = {
				which = "warpcrack"
				value = 1
			}
		}
		change_variable = {
			which = "warpcrack"
			value = -1
		}
	}
	if = {
		limit = {
			has_artifact = mages_tome
		}
		random = {
			chance = 25
			random_list = {
				5 = {
					change_variable = {
						which = "spell_power"
						value = 1
					}
				}
				1 = {
					change_variable = {
						which = "spell_power"
						value = 2
					}
				}
			}
		}
	}
}

channeling = {
	random_list = {
		1 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 1
				}
			}
			change_variable = {
				which = "spell_power"
				value = 1
			}
		}
		1 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 2
				}
			}
			change_variable = {
				which = "spell_power"
				value = 2
			}
		}
		1 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 3
				}
			}
			change_variable = {
				which = "spell_power"
				value = 3
			}
		}
		1 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 4
				}
			}
			change_variable = {
				which = "spell_power"
				value = 4
			}
		}
		1 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 4
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 5
				}
			}
			change_variable = {
				which = "spell_power"
				value = 5
			}
		}
		1 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 4
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 5
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 6
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 7
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 8
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 9
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 10
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 11
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 12
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 13
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 14
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 15
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 16
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 17
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 18
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 19
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "spell_power_mod"
					value = 20
				}
			}
			change_variable = {
				which = "spell_power"
				value = 6
			}
		}
	}
}

z_spell_process	= {
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = dispeled
			}
		}
		event_target:magic_caster = {
			clr_character_flag = dispeled
		}
		character_event = {
			id = z_spell_menu.99999
		}
	}
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = miscast
			}
		}
		character_event = {
			id = magic_system.99991
		}#If has the miscast flag, skip to the miscast event table
	}
}

z_spell_process_non_combat = {
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = dispeled
			}
		}
		event_target:magic_caster = {
			clr_character_flag = dispeled
		}
		character_event = {
			id = z_spell_menu.99996
		}
	}
	if = {
		limit = {
			event_target:magic_caster = {
				has_character_flag = miscast
			}
		}
		character_event = {
			id = magic_system.99991
		}#If has the miscast flag, skip to the miscast event table
	}
}

z_dispell_case = {
	if = {
		limit = {
			is_variable_equal = {
				which = "dispell"
				value = "1"
			}
		}
		dispel_saving_roll_30 = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = "dispell"
				value  = "2"
			}
		}
		dispel_saving_roll_40 = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = "dispell"
				value = "3"
			}
		}
		dispel_saving_roll_50 = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = "dispell"
				value = "4"
			}
		}
		dispel_saving_roll_60 = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = "dispell"
				value = "5"
			}
		}
		dispel_saving_roll_70 = yes
	}
}

z_miscast_case = {
	if = {
		limit = {
			not = {
				check_variable = {
					which = "miscast"
					value = "2"
				}
			}
		}
		miscast_test_1 = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = "miscast"
				value = "2"
			}
		}
		miscast_test_2 = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = "miscast"
				value = "3"
			}
		}
		miscast_test_3 = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = "miscast"
				value = "4"
			}
		}
		miscast_test_4 = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = "miscast"
				value = "5"
			}
		}
		miscast_test_5 = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = "miscast"
				value = "6"
			}
		}
		miscast_test_6 = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = "miscast"
				value = "7"
			}
		}
		miscast_test_7 = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = "miscast"
				value = "8"
			}
		}
		miscast_test_8 = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = "miscast"
				value = "9"
			}
		}
		miscast_test_9 = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = "miscast"
				value = "10"
			}
		}
		miscast_test_10 = yes
	}
	if = {
		limit = {
			is_variable_equal = {
				which = "miscast"
				value = "11"
			}
		}
		miscast_test_11 = yes
	}
	if = {
		limit = {
			check_variable = {
				which = "miscast"
				value = "12"
			}
		}
		miscast_test_12 = yes
	}
}

miscast_test_1 = {
	random_list = {
		95 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 4
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 5
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 6
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 7
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 8
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 9
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 10
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 11
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 12
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 13
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 14
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 15
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 16
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 17
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 18
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 19
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 20
				}
			}
		}
		5 = {
			set_character_flag = miscast
		}
	}
}

miscast_test_2 = {
	random_list = {
		90 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 4
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 5
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 6
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 7
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 8
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 9
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 10
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 11
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 12
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 13
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 14
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 15
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 16
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 17
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 18
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 19
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 20
				}
			}
		}
		10 = {
			set_character_flag = miscast
		}
	}
}

miscast_test_3 = {
	random_list = {
		85 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 4
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 5
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 6
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 7
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 8
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 9
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 10
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 11
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 12
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 13
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 14
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 15
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 16
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 17
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 18
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 19
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 20
				}
			}
		}
		15 = {
			set_character_flag = miscast
		}
	}
}

miscast_test_4 = {
	random_list = {
		80 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 4
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 5
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 6
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 7
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 8
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 9
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 10
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 11
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 12
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 13
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 14
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 15
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 16
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 17
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 18
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 19
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 20
				}
			}
		}
		20 = {
			set_character_flag = miscast
		}
	}
}

miscast_test_5 = {
	random_list = {
		75 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 4
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 5
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 6
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 7
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 8
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 9
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 10
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 11
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 12
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 13
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 14
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 15
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 16
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 17
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 18
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 19
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 20
				}
			}
		}
		25 = {
			set_character_flag = miscast
		}
	}
}

miscast_test_6 = {
	random_list = {
		70 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 4
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 5
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 6
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 7
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 8
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 9
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 10
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 11
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 12
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 13
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 14
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 15
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 16
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 17
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 18
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 19
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 20
				}
			}
		}
		30 = {
			set_character_flag = miscast
		}
	}
}

miscast_test_7 = {
	random_list = {
		65 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 4
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 5
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 6
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 7
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 8
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 9
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 10
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 11
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 12
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 13
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 14
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 15
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 16
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 17
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 18
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 19
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 20
				}
			}
		}
		35 = {
			set_character_flag = miscast
		}
	}
}

miscast_test_8 = {
	random_list = {
		60 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 4
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 5
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 6
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 7
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 8
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 9
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 10
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 11
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 12
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 13
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 14
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 15
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 16
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 17
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 18
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 19
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 20
				}
			}
		}
		40 = {
			set_character_flag = miscast
		}
	}
}

miscast_test_9 = {
	random_list = {
		55 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 4
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 5
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 6
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 7
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 8
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 9
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 10
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 11
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 12
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 13
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 14
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 15
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 16
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 17
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 18
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 19
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 20
				}
			}
		}
		45 = {
			set_character_flag = miscast
		}
	}
}

miscast_test_10 = {
	random_list = {
		50 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 4
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 5
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 6
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 7
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 8
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 9
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 10
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 11
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 12
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 13
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 14
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 15
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 16
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 17
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 18
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 19
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 20
				}
			}
		}
		50 = {
			set_character_flag = miscast
		}
	}
}

miscast_test_11 = {
	random_list = {
		45 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 4
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 5
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 6
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 7
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 8
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 9
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 10
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 11
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 12
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 13
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 14
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 15
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 16
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 17
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 18
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 19
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 20
				}
			}
		}
		55 = {
			set_character_flag = miscast
		}
	}
}

miscast_test_12 = {
	random_list = {
		40 = {
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 1
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 2
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 3
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 4
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 5
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 6
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 7
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 8
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 9
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 10
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 11
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 12
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 13
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 14
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 15
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 16
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 17
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 18
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 19
				}
			}
			modifier = {
				factor = 1.05
				check_variable = {
					which = "caster_level_miscast"
					value = 20
				}
			}
		}
		60 = {
			set_character_flag = miscast
		}
	}
}
